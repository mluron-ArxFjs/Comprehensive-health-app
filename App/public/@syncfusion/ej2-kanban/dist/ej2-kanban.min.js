/*!
*  filename: ej2-kanban.min.js
*  version : 22.2.9
*  Copyright Syncfusion Inc. 2001 - 2020. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("SyncfusionBase"),require("SyncfusionPopups"),require("SyncfusionData"),require("SyncfusionButtons"),require("SyncfusionDropdowns"),require("SyncfusionInputs"),require("SyncfusionNavigations")):"function"==typeof define&&define.amd?define(["SyncfusionBase","SyncfusionPopups","SyncfusionData","SyncfusionButtons","SyncfusionDropdowns","SyncfusionInputs","SyncfusionNavigations"],t):"object"==typeof exports?exports.SyncfusionKanban=t(require("SyncfusionBase"),require("SyncfusionPopups"),require("SyncfusionData"),require("SyncfusionButtons"),require("SyncfusionDropdowns"),require("SyncfusionInputs"),require("SyncfusionNavigations")):e.SyncfusionKanban=t(e.SyncfusionBase,e.SyncfusionPopups,e.SyncfusionData,e.SyncfusionButtons,e.SyncfusionDropdowns,e.SyncfusionInputs,e.SyncfusionNavigations)}(this,function(e,t,n,r,i,a,o){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)}([function(t,n){t.exports=e},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"l",function(){return o}),n.d(t,"_0",function(){return l}),n.d(t,"V",function(){return s}),n.d(t,"Q",function(){return d}),n.d(t,"d",function(){return c}),n.d(t,"W",function(){return p}),n.d(t,"K",function(){return u}),n.d(t,"Y",function(){return h}),n.d(t,"Z",function(){return f}),n.d(t,"_1",function(){return g}),n.d(t,"M",function(){return m}),n.d(t,"_21",function(){return y}),n.d(t,"L",function(){return v}),n.d(t,"w",function(){return b}),n.d(t,"e",function(){return S}),n.d(t,"_3",function(){return C}),n.d(t,"U",function(){return w}),n.d(t,"X",function(){return E}),n.d(t,"s",function(){return k}),n.d(t,"v",function(){return O}),n.d(t,"P",function(){return x}),n.d(t,"O",function(){return D}),n.d(t,"_8",function(){return A}),n.d(t,"_2",function(){return M}),n.d(t,"y",function(){return F}),n.d(t,"z",function(){return T}),n.d(t,"g",function(){return q}),n.d(t,"x",function(){return j}),n.d(t,"_4",function(){return _}),n.d(t,"J",function(){return R}),n.d(t,"E",function(){return L}),n.d(t,"_10",function(){return P}),n.d(t,"_13",function(){return H}),n.d(t,"_11",function(){return N}),n.d(t,"_12",function(){return I}),n.d(t,"_14",function(){return B}),n.d(t,"_15",function(){return U}),n.d(t,"_17",function(){return z}),n.d(t,"_16",function(){return V}),n.d(t,"_18",function(){return K}),n.d(t,"_20",function(){return W}),n.d(t,"_19",function(){return Y}),n.d(t,"R",function(){return Q}),n.d(t,"S",function(){return X}),n.d(t,"T",function(){return G}),n.d(t,"B",function(){return J}),n.d(t,"_36",function(){return Z}),n.d(t,"_38",function(){return $}),n.d(t,"_37",function(){return ee}),n.d(t,"_41",function(){return te}),n.d(t,"_40",function(){return ne}),n.d(t,"t",function(){return re}),n.d(t,"o",function(){return ie}),n.d(t,"u",function(){return ae}),n.d(t,"q",function(){return oe}),n.d(t,"A",function(){return le}),n.d(t,"r",function(){return se}),n.d(t,"C",function(){return de}),n.d(t,"I",function(){return ce}),n.d(t,"F",function(){return pe}),n.d(t,"p",function(){return ue}),n.d(t,"D",function(){return he}),n.d(t,"f",function(){return fe}),n.d(t,"_42",function(){return ge}),n.d(t,"_9",function(){return me}),n.d(t,"_7",function(){return ye}),n.d(t,"_30",function(){return ve}),n.d(t,"_31",function(){return be}),n.d(t,"_32",function(){return Se}),n.d(t,"_33",function(){return Ce}),n.d(t,"_6",function(){return we}),n.d(t,"_27",function(){return Ee}),n.d(t,"_29",function(){return ke}),n.d(t,"_28",function(){return Oe}),n.d(t,"_34",function(){return xe}),n.d(t,"G",function(){return De}),n.d(t,"_24",function(){return Ae}),n.d(t,"_23",function(){return Me}),n.d(t,"_25",function(){return Fe}),n.d(t,"_26",function(){return Te}),n.d(t,"i",function(){return qe}),n.d(t,"j",function(){return je}),n.d(t,"k",function(){return _e}),n.d(t,"h",function(){return Re}),n.d(t,"m",function(){return Le}),n.d(t,"n",function(){return Pe}),n.d(t,"_39",function(){return He}),n.d(t,"H",function(){return Ne}),n.d(t,"_5",function(){return Ie}),n.d(t,"_35",function(){return Be}),n.d(t,"N",function(){return Ue}),n.d(t,"_22",function(){return ze});var r="e-kanban",i="e-rtl",a="e-device",o="e-icons",l="e-template",s="e-swimlane",d="e-kanban-table",c="e-kanban-header",p="e-header-table",u="e-header-cells",h="e-header-wrap",f="e-header-title",g="e-header-text",m="e-header-icon",y="e-stacked-header-row",v="e-stacked-header-cell",b="e-content-cells",S="e-kanban-content",C="e-content-table",w="e-toggle-header",E="e-header-row",k="e-content-row",O="e-swimlane-row",x="e-swimlane-row-expand",D="e-swimlane-row-collapse",A="e-swimlane-text",M="e-item-count",F="e-card-wrapper",T="e-card-virtual-wrapper",q="e-card",j="e-droppable",_="e-drag",R="e-drop",L="e-disabled",P="e-card-header",H="e-card-content",N="e-card-header-caption",I="e-card-header-title",B="e-card-tags",U="e-card-tag",z="e-card-color",V="e-card-label",K="e-card-footer",W="e-empty-card",Y="e-card-footer-css",Q="e-column-expand",X="e-column-collapse",G="e-collapse-header-text",J="e-collapsed",Z="e-kanban-dialog",$="e-kanban-form",ee="e-kanban-form-wrapper",te="e-kanban-error",ne="e-field",re="e-target-dragged-clone",ie="e-cloned-card",ae="e-kanban-dragged-card",oe="e-target-dropped-clone",le="e-dropping",se="e-kanban-border",de="e-toggle-visible",ce="e-multi-card-wrapper",pe="e-multi-active",ue="e-target-multi-clone",he="e-column-key",fe="e-selection",ge="e-kanban-tooltip",me="e-tooltip-text",ye="e-swimlane-header",ve="e-swimlane-header-toolbar",be="e-toolbar-menu",Se="e-icon-menu",Ce="e-toolbar-level-title",we="e-toolbar-swimlane-name",Ee="e-swimlane-overlay",ke="e-swimlane-content",Oe="e-swimlane-resource",xe="e-swimlane-tree",De="e-limits",Ae="e-max-count",Me="e-min-count",Fe="e-max-color",Te="e-min-color",qe="e-popup-header",je="e-close",_e="e-popup-content",Re="e-mobile-popup-wrapper",Le="e-close-icon",Pe="e-popup-open",He="e-kanban-dialog-content",Ne="e-show-add-button",Ie="e-show-add-icon",Be="e-show-add-focus",Ue="e-frozen-swimlane-row",ze="e-frozen-row"},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return s}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return c}),n.d(t,"i",function(){return p}),n.d(t,"j",function(){return u}),n.d(t,"k",function(){return h}),n.d(t,"l",function(){return f}),n.d(t,"m",function(){return g}),n.d(t,"n",function(){return m}),n.d(t,"o",function(){return y}),n.d(t,"p",function(){return v}),n.d(t,"q",function(){return b}),n.d(t,"r",function(){return S}),n.d(t,"s",function(){return C}),n.d(t,"t",function(){return w}),n.d(t,"u",function(){return E}),n.d(t,"v",function(){return k});var r="actionBegin",i="actionComplete",a="actionFailure",o="cardClick",l="cardDoubleClick",s="cardRendered",d="queryCellInfo",c="dataBinding",p="dataBound",u="dragStart",h="drag",f="dragStop",g="document-click",m="dialogOpen",y="dialogClose",v="content-ready",b="data-ready",S=25,C=16,w=50,E="dataSourceChanged",k="dataStateChange"},function(e,n){e.exports=t},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),i=(n.n(r),n(29)),a=(n.n(i),n(3)),o=(n.n(a),n(2)),l=n(1),s=function(){function e(e){this.parent=e}return e.prototype.renderSwimlaneHeader=function(){var e=n.i(r.createElement)("div",{className:l._7,innerHTML:'<div class="'+l._30+'"><div class="'+l._31+'"><div class="e-icons '+l._32+'"></div></div><div class="'+l._33+'"><div class="'+l._6+'"></div></div></div>'});this.parent.element.appendChild(e),r.EventHandler.add(e.querySelector("."+l._32),"click",this.menuClick,this)},e.prototype.renderSwimlaneTree=function(){var e=this.parent.element.querySelector("."+l._7).offsetHeight,t=window.innerHeight-e;this.popupOverlay=n.i(r.createElement)("div",{className:l._27,styles:"height: "+t+"px;"});var o=n.i(r.createElement)("div",{className:l._29,styles:"top:"+e+"px;"}),s=n.i(r.createElement)("div",{className:l._28+" e-popup-close",styles:"height: "+t+"px;"});o.appendChild(s),o.appendChild(this.popupOverlay),this.parent.element.appendChild(o);var d=n.i(r.createElement)("div",{className:l._34});s.appendChild(d);var c=this.parent.enableVirtualization?this.parent.virtualLayoutModule.kanbanRows:this.parent.layoutModule.kanbanRows;this.treeViewObj=new i.TreeView({cssClass:this.parent.cssClass,enableRtl:this.parent.enableRtl,fields:{dataSource:c,id:"keyField",text:"textField"},nodeTemplate:this.parent.swimlaneSettings.template,nodeClicked:this.treeSwimlaneClick.bind(this),drawNode:this.drawNode.bind(this)}),this.treeViewObj.appendTo(d);var p={targetType:"relative",actionOnScroll:"none",enableRtl:this.parent.enableRtl,zIndex:10,hideAnimation:{name:"SlideLeftOut",duration:500},showAnimation:{name:"SlideLeftIn",duration:500},viewPortElement:this.parent.element.querySelector("."+l.e)};p.content=this.treeViewObj.element,this.treePopup=new a.Popup(s,p)},e.prototype.menuClick=function(){if(this.parent.element.querySelector("."+l._28).classList.contains("e-popup-open"))this.treePopup.hide(),n.i(r.removeClass)([this.popupOverlay],"e-enable");else{var e=[].slice.call(this.treeViewObj.element.querySelectorAll(".e-list-item"));n.i(r.removeClass)(e,"e-active"),n.i(r.addClass)([e[this.parent.layoutModule.swimlaneIndex]],"e-active"),this.treePopup.show(),n.i(r.addClass)([this.popupOverlay],"e-enable")}},e.prototype.treeSwimlaneClick=function(e){this.treePopup.hide();var t=[].slice.call(this.treeViewObj.element.querySelectorAll(".e-list-item"));this.parent.layoutModule.swimlaneIndex=t.indexOf(e.node),this.parent.layoutModule.scrollLeft=0,this.parent.notify(o.q,{processedData:this.parent.kanbanData}),e.event.preventDefault()},e.prototype.hidePopup=function(){this.treePopup.hide(),n.i(r.removeClass)([this.popupOverlay],"e-enable")},e.prototype.getWidth=function(){return 80*window.innerWidth/100},e.prototype.drawNode=function(e){if(this.parent.swimlaneSettings.template&&this.parent.isReact){var t=this.parent.element.id+"_treeviewTemplate",i=this.parent.templateParser(this.parent.swimlaneSettings.template)(e.nodeData,this.parent,"nodeTemplate",t,!1);n.i(r.append)(i,e.node.querySelector(".e-list-text"))}},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=(n.n(r),this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),a=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([n.i(r.Property)()],t.prototype,"keyField",void 0),a([n.i(r.Property)()],t.prototype,"headerText",void 0),a([n.i(r.Property)()],t.prototype,"template",void 0),a([n.i(r.Property)(!1)],t.prototype,"allowToggle",void 0),a([n.i(r.Property)(!0)],t.prototype,"isExpanded",void 0),a([n.i(r.Property)()],t.prototype,"minCount",void 0),a([n.i(r.Property)()],t.prototype,"maxCount",void 0),a([n.i(r.Property)(!0)],t.prototype,"showItemCount",void 0),a([n.i(r.Property)(!1)],t.prototype,"showAddButton",void 0),a([n.i(r.Property)(!0)],t.prototype,"allowDrag",void 0),a([n.i(r.Property)(!0)],t.prototype,"allowDrop",void 0),a([n.i(r.Property)([])],t.prototype,"transitionColumns",void 0),t}(r.ChildProperty)},function(e,t){e.exports=n},function(e,t,n){"use strict";var r=n(17);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b}),n.d(t,"c",function(){return r.c}),n.d(t,"d",function(){return r.d}),n.d(t,"e",function(){return r.e}),n.d(t,"f",function(){return r.f}),n.d(t,"g",function(){return r.g}),n.d(t,"h",function(){return r.h}),n.d(t,"i",function(){return r.i}),n.d(t,"j",function(){return r.j}),n.d(t,"k",function(){return r.k}),n.d(t,"l",function(){return r.l}),n.d(t,"m",function(){return r.m}),n.d(t,"n",function(){return r.n}),n.d(t,"o",function(){return r.o}),n.d(t,"p",function(){return r.p}),n.d(t,"q",function(){return r.q}),n.d(t,"r",function(){return r.r}),n.d(t,"s",function(){return r.s}),n.d(t,"t",function(){return r.t}),n.d(t,"u",function(){return r.u}),n.d(t,"v",function(){return r.v}),n.d(t,"w",function(){return r.w})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);n.d(t,"Kanban",function(){return r.a}),n.d(t,"actionBegin",function(){return r.b}),n.d(t,"actionComplete",function(){return r.c}),n.d(t,"actionFailure",function(){return r.d}),n.d(t,"cardClick",function(){return r.e}),n.d(t,"cardDoubleClick",function(){return r.f}),n.d(t,"cardRendered",function(){return r.g}),n.d(t,"queryCellInfo",function(){return r.h}),n.d(t,"dataBinding",function(){return r.i}),n.d(t,"dataBound",function(){return r.j}),n.d(t,"dragStart",function(){return r.k}),n.d(t,"drag",function(){return r.l}),n.d(t,"dragStop",function(){return r.m}),n.d(t,"documentClick",function(){return r.n}),n.d(t,"dialogOpen",function(){return r.o}),n.d(t,"dialogClose",function(){return r.p}),n.d(t,"contentReady",function(){return r.q}),n.d(t,"dataReady",function(){return r.r}),n.d(t,"bottomSpace",function(){return r.s}),n.d(t,"cardSpace",function(){return r.t}),n.d(t,"toggleWidth",function(){return r.u}),n.d(t,"dataSourceChanged",function(){return r.v}),n.d(t,"dataStateChange",function(){return r.w})},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),i=(n.n(r),n(5)),a=n(2),o=n(1),l=function(){function e(e){this.parent=e,this.columnToggleArray=[],this.selectionArray=[],this.lastCardSelection=null,this.lastSelectionRow=null,this.lastCard=null,this.selectedCardsElement=[],this.selectedCardsData=[],this.hideColumnKeys=[]}return e.prototype.clickHandler=function(e){var t="."+o.g+",."+o.M+",."+o.s+"."+o.v+",."+o.H+",."+o.N+",."+o.s+":not(."+o.v+") ."+o.w,i=n.i(r.closest)(e.target,t);if(i)if(i.classList.contains(o.g))this.parent.allowKeyboard&&this.parent.keyboardModule.cardTabIndexRemove(),this.cardClick(e);else if(i.classList.contains(o.M))this.columnExpandCollapse(e);else if(i.classList.contains(o.s)&&i.classList.contains(o.v))this.rowExpandCollapse(e);else if(i.classList.contains(o.H))this.addButtonClick(i);else if(i.classList.contains(o.N)){var a=[].slice.call(this.parent.element.querySelectorAll("."+o.v)),l=this.parent.layoutModule.frozenSwimlaneRow.querySelector("."+o.l);this.rowExpandCollapse(e,a[this.parent.layoutModule.frozenOrder]);var s=!!l.classList.contains(o.O);s?n.i(r.classList)(l,[o.P],[o.O]):n.i(r.classList)(l,[o.O],[o.P])}},e.prototype.addButtonClick=function(e){var t=this,i={};if(0===this.parent.kanbanData.length)i[this.parent.cardSettings.headerField]=1;else if("number"==typeof this.parent.kanbanData[0][this.parent.cardSettings.headerField]){var a=this.parent.kanbanData.map(function(e){return parseInt(e[t.parent.cardSettings.headerField],10)});i[this.parent.cardSettings.headerField]=Math.max.apply(Math,a)+1}if(i[this.parent.keyField]=n.i(r.closest)(e,"."+o.w).getAttribute("data-key"),"Index"===this.parent.sortSettings.sortBy&&(i[this.parent.sortSettings.field]=1,n.i(r.closest)(e,"."+o.w).querySelector("."+o.g))){var l="Ascending"===this.parent.sortSettings.direction?e.nextElementSibling.classList.contains(o.r)?e.nextElementSibling.nextElementSibling.lastElementChild:e.nextElementSibling.lastElementChild:e.nextElementSibling.classList.contains(o.r)?e.nextElementSibling.nextElementSibling.firstElementChild:e.nextElementSibling.firstElementChild,s=this.parent.getCardDetails(l);i[this.parent.sortSettings.field]=s[this.parent.sortSettings.field]+1}0!==this.parent.kanbanData.length&&this.parent.swimlaneSettings.keyField&&n.i(r.closest)(e,"."+o.s).previousElementSibling&&(i[this.parent.swimlaneSettings.keyField]=n.i(r.closest)(e,"."+o.s).previousElementSibling.getAttribute("data-key")),this.parent.openDialog("Add",i)},e.prototype.doubleClickHandler=function(e){n.i(r.closest)(e.target,"."+o.g)&&this.cardDoubleClick(e)},e.prototype.cardClick=function(e,t){var i=this,l=n.i(r.closest)(t||e.target,"."+o.g),s=this.parent.getCardDetails(l);if(s){this.parent.activeCardData={data:s,element:l};var d={data:s,element:l,cancel:!1,event:e};this.parent.trigger(a.d,d,function(t){if(!t.cancel){if(l.classList.contains(o.f)&&"click"===e.type)n.i(r.removeClass)([l],o.f),i.parent.enableVirtualization?i.parent.virtualLayoutModule.disableAttributeSelection(l):i.parent.layoutModule.disableAttributeSelection(l);else{var a=e.ctrlKey;i.parent.isAdaptive&&i.parent.touchModule&&(a=i.parent.touchModule.mobilePopup&&i.parent.touchModule.tabHold||a),i.cardSelection(l,a,e.shiftKey)}i.parent.isAdaptive&&i.parent.touchModule&&i.parent.touchModule.updatePopupContent();var s=n.i(r.closest)(l,"."+o.w);if(i.parent.allowKeyboard){[].slice.call(s.querySelectorAll("."+o.g)).forEach(function(e){e.setAttribute("tabindex","0")}),i.parent.keyboardModule.addRemoveTabIndex("Remove")}}})}},e.prototype.cardDoubleClick=function(e){var t=this,i=n.i(r.closest)(e.target,"."+o.g),l=this.parent.getCardDetails(i);this.parent.activeCardData={data:l,element:i},this.cardSelection(i,!1,!1);var s={data:l,element:i,cancel:!1,event:e};this.parent.trigger(a.e,s,function(e){e.cancel||t.parent.dialogModule.openDialog("Edit",s.data)})},e.prototype.rowExpandCollapse=function(e,t){var i=this,l=e instanceof HTMLElement?e:e.target,s=n.i(r.isNullOrUndefined)(t)?l:t,d={cancel:!1,target:l,requestType:"rowExpandCollapse"};this.parent.trigger(a.a,d,function(e){if(!e.cancel){var t,d=n.i(r.closest)(s,"."+o.v),c=d.getAttribute("data-key"),p=i.parent.element.querySelector("."+o.s+":nth-child("+(d.rowIndex+2)+")"),u=d.querySelector("."+o.P+",."+o.O),h=!!d.classList.contains(o.B);h?(n.i(r.removeClass)([p,d],o.B),n.i(r.classList)(u,[o.P],[o.O]),i.parent.swimlaneToggleArray.splice(i.parent.swimlaneToggleArray.indexOf(c),1),t="0"):(n.i(r.addClass)([p,d],o.B),n.i(r.classList)(u,[o.O],[o.P]),i.parent.swimlaneToggleArray.push(c),t="-1"),u.setAttribute("aria-label",h?c+" Expand":c+" Collapse"),d.setAttribute("aria-expanded",h.toString()),p.setAttribute("aria-expanded",h.toString());[].slice.call(p.querySelectorAll("."+o.w)).forEach(function(e){e.setAttribute("tabindex",t)}),i.parent.notify(a.p,{}),i.parent.trigger(a.b,{target:l,requestType:"rowExpandCollapse"})}})},e.prototype.columnExpandCollapse=function(e){var t=this,i=e instanceof HTMLElement?e:e.target,l={cancel:!1,target:i,requestType:"columnExpandCollapse"};this.parent.trigger(a.a,l,function(e){if(!e.cancel){var l=n.i(r.closest)(i,"."+o.K),s=l.cellIndex;t.columnToggle(l);var d=t.parent.element.querySelectorAll("."+o.K+"."+o.B).length;if(d===t.parent.columns.length-t.hideColumnKeys.length){var c=s+1===d?1:s+2,p="."+o.K+":not(."+o.L+"):nth-child("+c+")",u=t.parent.element.querySelector(p);n.i(r.addClass)([u],o.B),t.columnToggle(u)}t.parent.notify(a.p,{}),t.parent.trigger(a.b,{target:i,requestType:"columnExpandCollapse"})}})},e.prototype.columnToggle=function(e){var t=this,i=e.cellIndex,l="."+o.s+":not(."+o.v+")",s=[].slice.call(this.parent.element.querySelectorAll(l)),d="."+o.Q+" col:nth-child("+(i+1)+")",c=e.querySelector("."+o.R+",."+o.S),p=[].slice.call(this.parent.element.querySelectorAll(d));if(e.classList.contains(o.B)){n.i(r.removeClass)(p,o.B),this.parent.isAdaptive&&(this.parent.enableVirtualization?p.forEach(function(e){return e.style.width=n.i(r.formatUnit)(t.parent.virtualLayoutModule.getWidth())}):p.forEach(function(e){return e.style.width=n.i(r.formatUnit)(t.parent.layoutModule.getWidth())})),n.i(r.classList)(c,[o.R],[o.S]);for(var u=0,h=s;u<h.length;u++){var f=h[u];!function(t){var a=t.querySelector("."+o.w+":nth-child("+(i+1)+")");n.i(r.removeClass)([a,e],o.B),n.i(r.remove)(a.querySelector("."+o.T)),e.setAttribute("aria-expanded","true"),a.setAttribute("aria-expanded","true"),[].slice.call(a.parentElement.querySelectorAll("."+o.B)).forEach(function(e){var t=e.querySelector("."+o.T);t.style.height="auto",t&&a.getBoundingClientRect().height<t.getBoundingClientRect().height+10&&(t.style.height=a.getBoundingClientRect().height-4+"px")})}(f)}this.columnToggleArray.splice(this.columnToggleArray.indexOf(e.getAttribute("data-key")),1),this.parent.columns[i].setProperties({isExpanded:!0},!0),e.querySelector(".e-header-icon").setAttribute("aria-label",e.getAttribute("data-key")+" Expand")}else{n.i(r.addClass)(p,o.B),this.parent.isAdaptive&&p.forEach(function(e){return e.style.width=n.i(r.formatUnit)(a.t)}),n.i(r.classList)(c,[o.S],[o.R]);for(var g=e.getAttribute("data-key"),m=this,y=0,v=s;y<v.length;y++){var f=v[y];!function(t){var i=t.querySelector("."+o.w+'[data-key="'+g+'"]'),a=i.cellIndex,l=void 0;if(m.parent.enableVirtualization){var s=m.parent.dataModule.isRemote()?m.parent.columnDataCount[m.parent.columns[a].keyField]:m.parent.virtualLayoutModule.columnData[m.parent.columns[a].keyField].length;l=(m.parent.columns[a].showItemCount?"["+s+"] ":"")+m.parent.columns[a].headerText}else l=(m.parent.columns[a].showItemCount?"["+i.querySelectorAll("."+o.g).length+"] ":"")+m.parent.columns[a].headerText;i.appendChild(n.i(r.createElement)("div",{className:o.T,innerHTML:l})),n.i(r.addClass)([i,e],o.B),e.setAttribute("aria-expanded","false"),i.setAttribute("aria-expanded","false"),[].slice.call(i.parentElement.querySelectorAll("."+o.B)).forEach(function(e){var t=e.querySelector("."+o.T);t&&i.getBoundingClientRect().height<t.getBoundingClientRect().height+10&&(t.style.height=i.getBoundingClientRect().height-4+"px")})}(f)}this.columnToggleArray.push(e.getAttribute("data-key")),this.parent.columns[i].setProperties({isExpanded:!1},!0),e.querySelector(".e-header-icon").setAttribute("aria-label",g+" Collapse")}},e.prototype.cardSelection=function(e,t,i){var a=this;if(e){var l=this.parent.getSelectedCards();if("None"!==this.parent.cardSettings.selectionType){var s=n.i(r.closest)(e,"."+o.s);if((n.i(r.isNullOrUndefined)(this.lastSelectionRow)?s.rowIndex:this.lastSelectionRow.rowIndex)!==s.rowIndex&&(t||i)&&"Multiple"===this.parent.cardSettings.selectionType)return;if(0===l.length||t&&"Single"!==this.parent.cardSettings.selectionType||(n.i(r.removeClass)(l,o.f),this.parent.enableVirtualization?this.parent.virtualLayoutModule.disableAttributeSelection(l):this.parent.layoutModule.disableAttributeSelection(l),l.forEach(function(e){a.selectionArray.splice(a.selectionArray.indexOf(e.getAttribute("data-id")),1),a.selectedCardsElement.splice(a.selectedCardsElement.indexOf(e),1),a.selectedCardsData.splice(a.selectedCardsData.indexOf(a.parent.getCardDetails(e),1))})),l.length>0&&i&&"Multiple"===this.parent.cardSettings.selectionType){var d=[],c=void 0,p=void 0,u=void 0,h=[].slice.call(s.querySelectorAll("."+o.g));h.forEach(function(e){return d.push(e.getAttribute("data-id"))});var f=e.getAttribute("data-id"),g=this.lastCard.getAttribute("data-id"),m=p=d.indexOf(f),y=c=d.indexOf(g),v=m>y?"next":"prev";for("prev"===v&&(c=m,p=y),u=c;u<=p;u++){var b=h[u];n.i(r.addClass)([b],o.f),b.setAttribute("aria-selected","true"),b.setAttribute("tabindex","0"),this.selectionArray.push(b.getAttribute("data-id")),this.selectedCardsElement.push(b),this.selectedCardsData.push(this.parent.getCardDetails(b)),this.lastCardSelection=b,"prev"===v&&(this.lastCardSelection=h[c])}}else if(n.i(r.addClass)([e],o.f),e.setAttribute("aria-selected","true"),e.setAttribute("tabindex","0"),this.selectionArray.push(e.getAttribute("data-id")),this.selectedCardsElement.push(e),this.selectedCardsData.push(this.parent.getCardDetails(e)),this.lastCard=this.lastCardSelection=e,this.lastSelectionRow=n.i(r.closest)(e,"."+o.s),this.lastSelectionRow.previousElementSibling){var S="."+o.P+",."+o.O,C=this.lastSelectionRow.previousElementSibling.querySelector(S);C&&C.classList.contains(o.O)&&this.rowExpandCollapse(C)}}}},e.prototype.addColumn=function(e,t){var o=n.i(r.createInstance)(i.a,[this.parent,"columns",e,!0]);this.parent.columns.splice(t,0,o),this.parent.notify(a.q,{processedData:this.parent.kanbanData})},e.prototype.deleteColumn=function(e){var t=this.parent.element.querySelectorAll("."+o.K).item(e);t&&t.classList.contains(o.U)&&this.columnToggleArray.splice(this.columnToggleArray.indexOf(t.getAttribute("data-key"),0)),this.parent.columns.splice(e,1),0===this.parent.columns.length?(n.i(r.detach)(this.parent.element.querySelector("."+o.d)),n.i(r.detach)(this.parent.element.querySelector("."+o.e))):this.parent.notify(a.q,{processedData:this.parent.kanbanData})},e.prototype.showColumn=function(e){var t=this.hideColumnKeys.indexOf(e.toString());-1!==t&&(this.hideColumnKeys.splice(t,1),this.parent.notify(a.q,{processedData:this.parent.kanbanData}))},e.prototype.hideColumn=function(e){this.hideColumnKeys.push(e.toString()),this.parent.notify(a.q,{processedData:this.parent.kanbanData})},e.prototype.SingleCardSelection=function(e){if("None"!==this.parent.cardSettings.selectionType&&e[this.parent.cardSettings.headerField]){var t=this.parent.element.querySelector('.e-card[data-id="'+e[this.parent.cardSettings.headerField].toString()+'"]');t&&(n.i(r.addClass)([t],o.f),t.setAttribute("aria-selected","true"),t.setAttribute("tabindex","0"))}},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=(n.n(r),n(2)),a=n(1),o=function(){function e(e){this.parent=e}return e.prototype.addCard=function(e,t){var n=this,r={cancel:!1,requestType:"cardCreate",addedRecords:e instanceof Array?e:[e],changedRecords:[],deletedRecords:[]};this.parent.trigger(i.a,r,function(r){if(!r.cancel){var i=[];n.parent.sortSettings.field&&"Index"===n.parent.sortSettings.sortBy&&(e instanceof Array?i=e:i.push(e),i.forEach(function(e,t){if(!e[n.parent.sortSettings.field]){var r=n.parent.getColumnData(e[n.parent.keyField]);"Ascending"===n.parent.sortSettings.direction&&r.length>0?e[n.parent.sortSettings.field]=r[r.length-1][n.parent.sortSettings.field]+t+1:"Descending"===n.parent.sortSettings.direction&&r.length>0&&(e[n.parent.sortSettings.field]=r[0][n.parent.sortSettings.field]+t+1),0===r.length&&(e[n.parent.sortSettings.field]=1)}}),e instanceof Array||t||"Descending"!==n.parent.sortSettings.direction||n.parent.getColumnData(i[0][n.parent.keyField]).filter(function(e,r){e[n.parent.sortSettings.field]===i[0][n.parent.sortSettings.field]&&(t=r+1)}),0===t||t||"Descending"!==n.parent.sortSettings.direction||(t=0),i=n.priorityOrder(i,t));var a=e instanceof Array?e:[e],o=n.parent.sortSettings.field&&"Index"===n.parent.sortSettings.sortBy?i:[],l={addedRecords:a,changedRecords:o,deletedRecords:[]},s=e instanceof Array||i.length>0?"batch":"insert";n.parent.dataModule.updateDataManager(s,l,"cardCreated",e,t)}})},e.prototype.getIndexFromData=function(e){var t=this.parent.element.querySelector("."+a.g+'[data-id="'+e[this.parent.cardSettings.headerField]+'"]'),i=n.i(r.closest)(t,"."+a.w);return[].slice.call(i.querySelectorAll("."+a.g)).indexOf(t)},e.prototype.updateCard=function(e,t,a,o,l,s,d){var c=this,p={requestType:"cardChange",cancel:!1,addedRecords:[],changedRecords:e instanceof Array?e:[e],deletedRecords:[]};t=n.i(r.isNullOrUndefined)(t)?this.getIndexFromData(p.changedRecords[0]):t,this.parent.trigger(i.a,p,function(n){if(!n.cancel){if(c.parent.sortSettings.field&&"Index"===c.parent.sortSettings.sortBy){var r=[];e instanceof Array?r=e:r.push(e),e=c.priorityOrder(r,t)}var i={addedRecords:[],changedRecords:e instanceof Array?e:[e],deletedRecords:[]},p=e instanceof Array?"batch":"update";c.parent.dataModule.updateDataManager(p,i,"cardChanged",e,t,a,o,l,s,d)}})},e.prototype.deleteCard=function(e){var t=this,n={addedRecords:[],changedRecords:[],deletedRecords:[]};n.deletedRecords="string"==typeof e||"number"==typeof e?this.parent.kanbanData.filter(function(n){return n[t.parent.cardSettings.headerField]===e}):e instanceof Array?e:[e];var r={requestType:"cardRemove",cancel:!1,addedRecords:[],changedRecords:[],deletedRecords:n.deletedRecords};this.parent.trigger(i.a,r,function(e){if(!e.cancel){var r=n.deletedRecords.length>1?"batch":"delete",i=n.deletedRecords;t.parent.dataModule.updateDataManager(r,n,"cardRemoved",i[0])}})},e.prototype.priorityOrder=function(e,t){for(var i,a=this,o=e.map(function(e){return e[a.parent.cardSettings.headerField]}),l=e[e.length-1][this.parent.sortSettings.field],s=e.map(function(e){return e[a.parent.keyField]}),d=s.filter(function(e,t){return s.indexOf(e)===t}).sort(),c=[],p=[],u=this,h=0,f=d;h<f.length;h++){var g=f[h];!function(s){var d=e.filter(function(e){return e[a.parent.keyField]===s});i=u.parent.enableVirtualization?u.parent.virtualLayoutModule.getColumnData(s):u.parent.layoutModule.getColumnData(s);for(var h=0,f=d;h<f.length;h++){var g=f[h];if(u.parent.swimlaneSettings.keyField){var m=u.parent.getSwimlaneData(g[u.parent.swimlaneSettings.keyField]);i=u.parent.getColumnData(s,m)}}if(d.forEach(function(e){return c.push(e)}),!n.i(r.isNullOrUndefined)(t)){for(var y=0;y<o.length;y++)!function(e){i.filter(function(n,r){n[a.parent.cardSettings.headerField]===o[e]&&r<=t&&p.push(r)})}(y);if(p.length>0&&(t+=p.length),"Ascending"===u.parent.sortSettings.direction)for(var v=t;v<i.length;v++)-1===o.indexOf(i[v][u.parent.cardSettings.headerField])&&(i[v][u.parent.sortSettings.field]=++l,c.push(i[v]));else for(var v=t-1;v>=0;v--)-1===o.indexOf(i[v][u.parent.cardSettings.headerField])&&(i[v][u.parent.sortSettings.field]=++l,c.push(i[v]))}}(g)}return c},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),i=(n.n(r),n(27)),a=(n.n(i),n(28)),o=(n.n(a),n(3)),l=(n.n(o),n(2)),s=n(1),d=function(){function e(e){this.preventUpdate=!1,this.parent=e}return e.prototype.openDialog=function(e,t){this.action=e,this.parent.activeCardData.data=t,this.renderDialog(t,e),this.dialogObj.show()},e.prototype.closeDialog=function(){this.dialogObj.hide()},e.prototype.renderDialog=function(e,t){this.element=n.i(r.createElement)("div",{id:this.parent.element.id+"_dialog_wrapper"}),this.parent.element.appendChild(this.element);var i={buttons:this.getDialogButtons(t),content:this.getDialogContent(e,t),cssClass:s._36,enableRtl:this.parent.enableRtl,header:this.parent.localeObj.getConstant("Add"===t?"addTitle":"Edit"===t?"editTitle":"deleteTitle"),height:"auto",isModal:!0,showCloseIcon:!0,width:"Delete"===t?400:350,visible:!1,beforeOpen:this.onBeforeDialogOpen.bind(this),beforeClose:this.onBeforeDialogClose.bind(this)};this.dialogObj=new o.Dialog(n.i(r.extend)(i,"Delete"!==t?this.parent.dialogSettings.model||{}:{}),this.element),"Delete"!==t&&this.applyFormValidation(),this.dialogObj.element.querySelector(".e-dlg-closeicon-btn").title=this.parent.localeObj.getConstant("close")},e.prototype.getDialogContent=function(e,t){if("Delete"===t)return this.parent.localeObj.getConstant("deleteContent");var i=n.i(r.createElement)("div",{className:s._37}),a=n.i(r.createElement)("form",{id:this.parent.element.id+"EditForm",className:s._38,attrs:{onsubmit:"return false;"}});if(this.parent.dialogSettings.template){e&&(this.destroyComponents(),[].slice.call(a.childNodes).forEach(function(e){return n.i(r.remove)(e)}));var o=this.parent.element.id+"_dialogTemplate",l=this.parent.templateParser(this.parent.dialogSettings.template)(e,this.parent,"dialogTemplate",o,!1);n.i(r.append)(l,a),this.parent.renderTemplates()}else{var d=n.i(r.createElement)("div",{className:s._39});a.appendChild(d);var c=n.i(r.createElement)("table");d.appendChild(c);for(var p=this.getDialogFields(),u=0,h=p;u<h.length;u++){var f=h[u],g=n.i(r.createElement)("tr");c.appendChild(g),g.appendChild(n.i(r.createElement)("td",{className:"e-label",innerHTML:f.text?f.text:f.key}));var m=n.i(r.createElement)("td");g.appendChild(m),m.appendChild(this.renderComponents(f))}}return i.appendChild(a),i},e.prototype.getDialogFields=function(){var e=this.parent.dialogSettings.fields;return 0===e.length&&(e=[{text:"ID",key:this.parent.cardSettings.headerField,type:"TextBox"},{key:this.parent.keyField,type:"DropDown"},{key:this.parent.cardSettings.contentField,type:"TextArea"}],this.parent.sortSettings.field&&e.splice(e.length-1,0,{key:this.parent.sortSettings.field,type:"TextBox"}),this.parent.swimlaneSettings.keyField&&e.splice(e.length-1,0,{key:this.parent.swimlaneSettings.keyField,type:"DropDown"})),e},e.prototype.getDialogButtons=function(e){var t="Delete"===e?"e-dialog-yes":"Add"===e?"e-dialog-add":"e-dialog-edit",n="Delete"===e?"e-dialog-no":"e-dialog-cancel",r=[{buttonModel:{cssClass:"e-flat "+t,isPrimary:!0,content:this.parent.localeObj.getConstant("Add"===e||"Edit"===e?"save":"yes")},click:this.dialogButtonClick.bind(this)},{buttonModel:{cssClass:"e-flat "+n,isPrimary:!1,content:this.parent.localeObj.getConstant("Add"===e||"Edit"===e?"cancel":"no")},click:this.dialogButtonClick.bind(this)}];if("Edit"===e){var i={buttonModel:{cssClass:"e-flat e-dialog-delete",isPrimary:!1,content:this.parent.localeObj.getConstant("delete")},click:this.dialogButtonClick.bind(this)};r.splice(0,0,i)}return r},e.prototype.renderComponents=function(e){var t=n.i(r.createElement)("div",{className:e.key+"_wrapper"}),o=n.i(r.createElement)("input",{className:s._40,attrs:{name:e.key}});t.appendChild(o);var l,d,c,p=this.parent.activeCardData.data?this.parent.activeCardData.data[e.key]:null;switch(e.type){case"DropDown":if(e.key===this.parent.keyField){var u=this.parent.enableVirtualization?this.parent.virtualLayoutModule.columnKeys:this.parent.layoutModule.columnKeys;if(this.parent.actionModule.hideColumnKeys.length>0){u=[];for(var h=0;h<this.parent.columns.length;h++){if(this.parent.enableVirtualization?this.parent.virtualLayoutModule.isColumnVisible(this.parent.columns[h]):this.parent.layoutModule.isColumnVisible(this.parent.columns[h])){u="number"==typeof this.parent.columns[h].keyField?u.concat(this.parent.columns[h].keyField.toString()):u.concat(this.parent.columns[h].keyField.split(",").map(function(e){return e.trim()}))}}}d={dataSource:u,value:p?p.toString():p}}else e.key===this.parent.swimlaneSettings.keyField&&(d={dataSource:[].slice.call(this.parent.enableVirtualization?this.parent.virtualLayoutModule.kanbanRows:this.parent.layoutModule.kanbanRows),fields:{text:"textField",value:"keyField"},value:p});c=new i.DropDownList(d);break;case"Numeric":c=new a.NumericTextBox({value:p});break;case"TextBox":c=new a.TextBox({value:p}),p&&this.parent.cardSettings.headerField===e.key&&(c.enabled=!1);break;case"TextArea":n.i(r.remove)(o),l=n.i(r.createElement)("div"),o=n.i(r.createElement)("textarea",{className:s._40,attrs:{name:e.key,rows:"3","aria-label":this.parent.cardSettings.contentField},innerHTML:p}),t.appendChild(l).appendChild(o)}return c&&c.appendTo(o),t},e.prototype.onBeforeDialogOpen=function(e){var t=this,n={data:this.parent.activeCardData.data,cancel:!1,element:this.element,target:this.parent.activeCardData.element,requestType:this.action};this.storeElement=document.activeElement,parseInt(e.maxHeight,10)<=250&&(e.maxHeight="250px"),this.parent.trigger(l.n,n,function(n){e.cancel=n.cancel,n.cancel&&t.destroy()})},e.prototype.onBeforeDialogClose=function(e){var t=this,i=this.getFormElements(),a={};if(e.isInteracted&&(this.preventUpdate=!0),!this.preventUpdate)for(var o=0,s=i;o<s.length;o++){var d=s[o],c=d.name||this.getColumnName(d);if(!n.i(r.isNullOrUndefined)(c)&&""!==c){var p=this.getValueFromElement(d);c===this.parent.cardSettings.headerField&&(p="string"===this.getIDType()?p:parseInt(p,10)),a[c]=p}}this.preventUpdate=!1,a=n.i(r.extend)(this.parent.activeCardData.data,a);var u={data:a,cancel:!1,element:this.element,requestType:this.action};this.parent.trigger(l.o,u,function(n){e.cancel=n.cancel,n.cancel||(t.cardData=u.data,t.destroy(),t.parent.actionModule.SingleCardSelection(t.cardData))})},e.prototype.getIDType=function(){return 0!==this.parent.kanbanData.length?typeof this.parent.kanbanData[0][this.parent.cardSettings.headerField]:"string"},e.prototype.applyFormValidation=function(){for(var e=this,t=this.element.querySelector("."+s._38),n={},r=0,i=this.parent.dialogSettings.fields;r<i.length;r++){var o=i[r];n[o.key]=o.validationRules&&Object.keys(o.validationRules).length>0?o.validationRules:null}this.formObj=new a.FormValidator(t,{rules:n,customPlacement:function(t,n){var r=n.getAttribute("for");e.element.querySelector("#"+r+"_Error")||e.createTooltip(t,n,r,"")},validationComplete:function(t){var n=e.element.querySelector("#"+t.inputName+"_Error");n&&(n.style.display="failure"===t.status?"":"none")}})},e.prototype.createTooltip=function(e,t,i,a){var o,l,d=e.parentElement.getBoundingClientRect();this.element.classList.contains(s._36)?(o=this.element,l=this.element.getBoundingClientRect()):(o=this.element.querySelector(".e-kanban-dialog .e-dlg-content"),l=o.getBoundingClientRect());var c=n.i(r.createElement)("div",{className:"e-tooltip-wrap e-popup "+s._41,id:i+"_Error",styles:"display:"+a+";top:"+(d.bottom-l.top+o.scrollTop+9)+"px;left:"+(d.left-l.left+o.scrollLeft+d.width/2)+"px;"}),p=n.i(r.createElement)("div",{className:"e-tip-content"});p.appendChild(t);var u=n.i(r.createElement)("div",{className:"e-arrow-tip e-tip-top"});u.appendChild(n.i(r.createElement)("div",{className:"e-arrow-tip-outer e-tip-top"})),u.appendChild(n.i(r.createElement)("div",{className:"e-arrow-tip-inner e-tip-top"})),c.appendChild(p),c.appendChild(u),o.appendChild(c),c.style.left=parseInt(c.style.left,10)-c.offsetWidth/2+"px"},e.prototype.destroyToolTip=function(){this.element&&this.element.querySelectorAll("."+s._41).forEach(function(e){return n.i(r.remove)(e)}),this.formObj&&this.formObj.element&&this.formObj.reset()},e.prototype.dialogButtonClick=function(e){var t=e.target.cloneNode(!0),n=this.formObj.element.id;if(document.getElementById(n)&&this.formObj.validate()&&(t.classList.contains("e-dialog-edit")||t.classList.contains("e-dialog-add"))){if(this.dialogObj.hide(),t.classList.contains("e-dialog-edit")){var i=this.parent.activeCardData,a=void 0;i.data[this.parent.keyField]===this.cardData[this.parent.keyField]&&i.element&&(a=[].slice.call(i.element.parentElement.children).indexOf(i.element)),this.parent.enableHtmlSanitizer&&"string"==typeof this.cardData[this.parent.cardSettings.contentField]&&(this.cardData[this.parent.cardSettings.contentField]=r.SanitizeHtmlHelper.sanitize(this.cardData[this.parent.cardSettings.contentField])),this.parent.crudModule.updateCard(this.cardData,a)}t.classList.contains("e-dialog-add")&&this.parent.crudModule.addCard(this.cardData),this.parent.actionModule.SingleCardSelection(this.cardData),this.cardData=null}t.classList.contains("e-dialog-edit")||t.classList.contains("e-dialog-add")||(t.classList.contains("e-dialog-cancel")&&(this.preventUpdate=!0),this.dialogObj.hide(),t.classList.contains("e-dialog-yes")?this.parent.crudModule.deleteCard(this.parent.activeCardData.data):t.classList.contains("e-dialog-no")?this.openDialog("Edit",this.parent.activeCardData.data):t.classList.contains("e-dialog-delete")&&this.openDialog("Delete",this.parent.activeCardData.data))},e.prototype.getFormElements=function(){for(var e=[].slice.call(this.element.querySelectorAll("."+s._40)),t=[],n=0,r=e;n<r.length;n++){var i=r[n];i.classList.contains("e-control")?t.push(i):i.querySelector(".e-control")?t.push(i.querySelector(".e-control")):t.push(i)}return t},e.prototype.getColumnName=function(e){var t=e.getAttribute("data-name")||"";if(""===t){var i=!1,a="";e.classList.contains("e-dropdownlist")||e.classList.contains("e-multiselect")?(a=e.classList.contains("e-dropdownlist")?"e-ddl":"e-multiselect",i=!0):e.classList.contains("e-numerictextbox")&&(a="e-numeric");var o=i?"."+a+":not(.e-control)":"."+a,l=n.i(r.closest)(e,o)||e.querySelector("."+a);if(l){var s=l.querySelector("[name]");s&&(t=s.name)}}return t},e.prototype.getValueFromElement=function(e){return e.classList.contains("e-dropdownlist")?e.ej2_instances[0].value:e.classList.contains("e-multiselect")?e.ej2_instances[0].value:e.classList.contains("e-checkbox")?e.ej2_instances[0].checked:"checkbox"===e.type?e.checked:e.value},e.prototype.destroyComponents=function(){for(var e=this.getFormElements(),t=0,n=e;t<n.length;t++){var r=n[t],i=r.ej2_instances;i&&i.length>0&&i.forEach(function(e){return e.destroy()})}},e.prototype.destroy=function(){this.destroyToolTip(),this.destroyComponents(),this.dialogObj&&(this.dialogObj.destroy(),this.storeElement.focus(),this.dialogObj=null,n.i(r.remove)(this.element),this.element=null)},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=(n.n(r),n(1)),a=n(2),o=function(){function e(e){this.insertClone="afterend",this.parent=e,this.dragObj={element:null,cloneElement:null,instance:null,targetClone:null,draggedClone:null,targetCloneMulti:null,selectedCards:[],pageX:0,pageY:0,navigationInterval:null,cardDetails:[],modifiedData:[]},this.dragEdges={left:!1,right:!1,top:!1,bottom:!1},this.isDragging=!1,this.isExternalDrop=!1}return e.prototype.wireDragEvents=function(e){var t;null!=!this.parent.element&&0===this.parent.externalDropId.length&&(t=this.parent.element.querySelector("."+i.e)),this.dragObj.instance=new r.Draggable(e,{clone:!0,enableTapHold:this.parent.isAdaptive,enableTailMode:!0,cursorAt:{top:-10,left:-10},dragArea:t,dragStart:this.dragStart.bind(this),drag:this.drag.bind(this),dragStop:this.dragStop.bind(this),enableAutoScroll:!1,helper:this.dragHelper.bind(this)})},e.prototype.dragHelper=function(e){if(this.parent.isAdaptive&&this.parent.touchModule.mobilePopup&&this.parent.touchModule.mobilePopup.element.classList.contains(i.n)&&this.parent.touchModule.mobilePopup.hide(),this.dragObj.element=n.i(r.closest)(e.sender.target,"."+i.g),n.i(r.isNullOrUndefined)(this.dragObj.element))return null;this.dragObj.element.style.width=n.i(r.formatUnit)(this.dragObj.element.offsetWidth);var t=n.i(r.createElement)("div",{innerHTML:this.dragObj.element.outerHTML});return this.dragObj.cloneElement=t.children.item(0),n.i(r.addClass)([this.dragObj.cloneElement],i.o),this.dragObj.element.parentElement.appendChild(this.dragObj.cloneElement),this.dragObj.targetCloneMulti=n.i(r.createElement)("div",{className:i.p}),this.dragObj.targetClone=n.i(r.createElement)("div",{className:i.q,styles:"width:100%;height:"+n.i(r.formatUnit)(this.dragObj.element.offsetHeight)}),this.dragObj.modifiedData=[],this.dragObj.cloneElement},e.prototype.dragStart=function(e){var t=this;if(this.dragObj.selectedCards=this.dragObj.element,this.borderElm=this.parent.element.querySelectorAll("."+i.r),this.dragObj.element.classList.contains(i.f)){var o="."+i.g+"."+i.f+":not(."+i.o+")",l=n.i(r.closest)(this.dragObj.element,"."+i.s);this.dragObj.selectedCards=[].slice.call(l.querySelectorAll(o)),this.dragObj.selectedCards.forEach(function(e){t.dragObj.cardDetails.push(t.parent.getCardDetails(e))})}else this.dragObj.cardDetails=[this.parent.getCardDetails(this.dragObj.element)];!n.i(r.isNullOrUndefined)(this.dragObj.selectedCards)&&!n.i(r.isNullOrUndefined)(this.dragObj.selectedCards.length)&&this.dragObj.selectedCards.length>=1?this.dragObj.selectedCards[0].closest(".e-content-cells").classList.add("e-dragged-column"):n.i(r.isNullOrUndefined)(this.dragObj.selectedCards)||n.i(r.isNullOrUndefined)(this.dragObj.selectedCards.closest(".e-content-cells"))||this.dragObj.selectedCards.closest(".e-content-cells").classList.add("e-dragged-column");var s={cancel:!1,data:this.dragObj.cardDetails,event:e,element:this.dragObj.selectedCards};this.parent.trigger(a.j,s,function(o){if(o.cancel)return t.removeElement(t.dragObj.cloneElement),t.dragObj.instance.intDestroy(e),t.dragObj.element=null,t.dragObj.targetClone=null,t.dragObj.draggedClone=null,t.dragObj.cloneElement=null,void(t.dragObj.targetCloneMulti=null);if(t.dragObj.element.classList.contains(i.f)){if(t.dragObj.selectedCards.forEach(function(e){t.draggedClone(e)}),t.dragObj.selectedCards.length>1){t.dragObj.cloneElement.innerHTML="";var l=n.i(r.createElement)("div",{className:"e-multi-card-text",innerHTML:t.dragObj.selectedCards.length+" Cards"});t.dragObj.cloneElement.appendChild(l),n.i(r.classList)(t.dragObj.cloneElement,["e-multi-card-clone"],[i.f]),t.parent.enableVirtualization?t.parent.virtualLayoutModule.disableAttributeSelection(t.dragObj.cloneElement):t.parent.layoutModule.disableAttributeSelection(t.dragObj.cloneElement),t.dragObj.cloneElement.style.width="90px"}}else t.draggedClone(t.dragObj.element);r.EventHandler.add(document.body,"keydown",t.keydownHandler,t),t.parent.notify(a.p,{})})},e.prototype.draggedClone=function(e){this.dragObj.draggedClone=n.i(r.createElement)("div",{className:i.t,styles:"width:"+n.i(r.formatUnit)(e.offsetWidth-1)+";height:"+n.i(r.formatUnit)(e.offsetHeight)}),e.insertAdjacentElement("afterend",this.dragObj.draggedClone),n.i(r.addClass)([e],i.u)},e.prototype.drag=function(e){var t=this;if(e.target){var o=n.i(r.closest)(e.target,"."+i.a+" ."+i.g);n.i(r.isNullOrUndefined)(o)||!this.parent.enableVirtualization||n.i(r.isNullOrUndefined)(e.target.previousElementSibling)||n.i(r.isNullOrUndefined)(e.target.previousElementSibling.querySelector(".e-target-dropped-clone"))||(o=e.target.previousElementSibling.querySelector(".e-target-dropped-clone").nextElementSibling);var l=e.target;n.i(r.isNullOrUndefined)(e.target.parentElement)||("SPAN"===e.target.nodeName&&e.target.classList.contains("e-empty-card")?l=e.target.parentElement:"DIV"===e.target.nodeName&&e.target.classList.contains("e-kanban-border")&&(l=e.target.parentElement));var s,d,c,p=o||l,u="."+i.s+":not(."+i.v+") ."+i.w+"."+i.x,h=n.i(r.closest)(p,u);if(p.nextElementSibling&&p.nextElementSibling.lastChild&&(c=p.nextElementSibling.lastChild.previousElementSibling),this.externalDrop(p),this.kanbanObj=this.parent.isExternalKanbanDrop?this.parent.externalDropObj:this.parent,this.calculateArgs(e),h&&"not-allowed"!==document.body.style.cursor){var f=this.getColumnKey(h),g=f.split(",");this.multiCloneRemove();var m=f===this.getColumnKey(n.i(r.closest)(this.dragObj.draggedClone,"."+i.w));if(1===g.length||m)if(p.classList.contains(i.t)&&this.removeElement(this.dragObj.targetClone,this.kanbanObj),p.classList.contains(i.g)||"beforebegin"===this.insertClone){var y=p.classList.contains(i.t)&&p.previousElementSibling.classList.contains(i.u)?null:p.previousElementSibling;if(this.insertClone="afterend",n.i(r.isNullOrUndefined)(y)){var v=p.classList.contains(i.t)?this.dragObj.pageY/2:this.dragObj.pageY,b=p.classList.contains(i.t)?p.offsetHeight:p.offsetHeight/2;v-(this.kanbanObj.element.getBoundingClientRect().top+p.offsetTop)<b&&(this.insertClone="beforebegin")}p.classList.contains(i.g)&&(this.parent.enableVirtualization&&(this.insertClone=this.isTargetElementVisible(p)?this.insertClone:"beforebegin"),p.insertAdjacentElement(this.insertClone,this.dragObj.targetClone))}else if(p.classList.contains(i.w)&&!n.i(r.closest)(p,"."+i.v)){if(0!==p.querySelectorAll("."+i.u).length&&0===p.querySelectorAll("."+i.g+":not(.e-kanban-dragged-card):not(.e-cloned-card)").length)return;p.querySelector("."+i.y).appendChild(this.dragObj.targetClone)}else!p.classList.contains(i.y)&&!p.classList.contains(i.z)||n.i(r.closest)(p,"."+i.v)||0!==h.querySelectorAll("."+i.g).length?!(p.classList.contains(i.r)&&!n.i(r.closest)(p,"."+i.v)&&p.nextElementSibling&&p.nextElementSibling.classList.contains(i.y)&&this.dragObj.targetClone)||c&&c.classList.contains(i.q)||this.parent.enableVirtualization||this.isTargetElementVisible(p.nextElementSibling)||p.nextElementSibling.appendChild(this.dragObj.targetClone):p.appendChild(this.dragObj.targetClone);else g.length>1&&(h.classList.contains(i.A)||h.firstChild&&h.firstChild.classList.contains(i.A))&&this.multiCloneCreate(g,h);this.kanbanObj.notify(a.p,{})}0===this.kanbanObj.element.querySelectorAll("."+i.A).length&&this.cellDropping();var S=!1;h&&(S=h.classList.contains(i.B)&&h.classList.contains(i.A),"true"!==h.getAttribute("aria-expanded")&&h.parentElement.hasAttribute("aria-expanded")||(s=h.getBoundingClientRect(),this.updateDimension(s)),d=h.querySelector("."+i.r)),p&&"TABLE"===p.tagName&&!n.i(r.isNullOrUndefined)(p.querySelector("."+i.s))&&(s=p.querySelector("."+i.s).getBoundingClientRect(),this.updateDimension(s,p)),S&&(this.toggleVisible(p),n.i(r.addClass)([h],i.C));var C=[].slice.call(this.kanbanObj.element.querySelectorAll("."+i.C));C.length>0&&!p.classList.contains(i.C)&&!n.i(r.closest)(p,"."+i.C)&&(this.toggleVisible(p,C.slice(-1)[0]),n.i(r.removeClass)(C,i.C)),this.kanbanObj.notify(a.p,{});var w=n.i(r.closest)(p,"."+i.D);if(w){var E=[].slice.call(this.kanbanObj.element.querySelectorAll("."+i.D+":not(."+i.E+")")).filter(function(e){return t.getColumnKey(e)===t.getColumnKey(w)});E.length>0&&(n.i(r.addClass)(E,i.F),E[0].previousElementSibling&&n.i(r.addClass)([E[0].previousElementSibling],"e-multi-bottom-border"))}document.body.style.cursor=h&&h.classList.contains(i.A)||h&&d&&d.classList.contains(i.A)?"":"not-allowed",!o||n.i(r.closest)(o,"."+i.w).classList.contains(i.A)||h&&d&&d.classList.contains(i.A)||(o.style.cursor="not-allowed",document.body.style.cursor="not-allowed"),this.isExternalDrop&&"not-allowed"===document.body.style.cursor&&(document.body.style.cursor=""),"not-allowed"===document.body.style.cursor&&(this.removeElement(this.dragObj.targetClone,this.kanbanObj),this.multiCloneRemove()),this.updateScrollPosition();var k={data:this.dragObj.cardDetails,event:e,element:this.dragObj.selectedCards};this.kanbanObj.trigger(a.k,k),this.parent.isExternalKanbanDrop=!1,this.isExternalDrop=!1}},e.prototype.removeElement=function(e,t){t=t||this.parent,t.element.getElementsByClassName(e.className).length>0&&n.i(r.remove)(e)},e.prototype.isTargetElementVisible=function(e){var t=n.i(r.closest)(e,"."+i.y);if(!n.i(r.isNullOrUndefined)(t)){var a=t.getBoundingClientRect().bottom;return!(e.getBoundingClientRect().bottom>a)}return!0},e.prototype.externalDrop=function(e){var t=this;this.parent.externalDropId.forEach(function(a){var o=n.i(r.closest)(e,a);if(o)if(o.classList.contains("e-kanban")){t.parent.externalDropObj=document.querySelector(a).ej2_instances[0],t.parent.isExternalKanbanDrop=!0;var l="."+i.s+":not(."+i.v+"):not(."+i.B+") ."+i.w,s=[].slice.call(t.parent.externalDropObj.element.querySelectorAll(l));n.i(r.addClass)(s,i.A)}else t.isExternalDrop=!0})},e.prototype.multiCloneCreate=function(e,t){var a=t.offsetHeight,o=t.querySelector("."+i.G);o&&(a-=o.offsetHeight),this.dragObj.targetCloneMulti.style.height=n.i(r.formatUnit)(a),t.querySelector("."+i.H)&&n.i(r.addClass)([t.querySelector("."+i.H)],i.I),n.i(r.addClass)([t.querySelector("."+i.y)],i.I),t.querySelector("."+i.y).style.height="auto",t.style.borderStyle="none",this.removeElement(this.dragObj.targetClone);for(var l=0,s=e;l<s.length;l++){var d=s[l],c=n.i(r.closest)(this.dragObj.draggedClone,"."+i.w),p=this.kanbanObj.columns[c.cellIndex].transitionColumns,u=this.allowedTransition(this.dragObj.element.getAttribute("data-key"),d,p),h=u?"":" "+i.E,f=n.i(r.createElement)("div",{className:i.D+h,attrs:{"data-key":d.trim()}}),g=n.i(r.createElement)("div",{className:"e-text",innerHTML:d.trim()});t.appendChild(this.dragObj.targetCloneMulti).appendChild(f).appendChild(g),f.style.cursor=u?"":"not-allowed",f.style.lineHeight=f.style.height=n.i(r.formatUnit)(a/e.length),g.style.top=n.i(r.formatUnit)(a/2-g.offsetHeight/2)}},e.prototype.allowedTransition=function(e,t,n){for(var r=!0,i=t.split(","),a=0;a<i.length;a++){if(e===i[a].trim())return!0;if(n){if(1===n.length&&0===n[0].length)return!0;for(var o=0;o<n.length;o++){if(i[a].trim()===n[o].trim())return!0;r=!1}}}return r},e.prototype.cellDropping=function(){var e=this,t=n.i(r.closest)(this.dragObj.draggedClone,"."+i.w),a=n.i(r.closest)(this.dragObj.draggedClone,"."+i.s);if(t&&t.classList.contains(i.J)&&n.i(r.addClass)([t],i.A),this.addDropping(a,t),this.kanbanObj.swimlaneSettings.keyField&&this.kanbanObj.swimlaneSettings.allowDragAndDrop){var o="."+i.s+":not(."+i.v+"):not(."+i.B+")",l=[].slice.call(this.kanbanObj.element.querySelectorAll(o));[].slice.call(l).forEach(function(n){a!==n&&e.addDropping(n,t)})}},e.prototype.addDropping=function(e,t){var a=this;if(t&&this.borderElm&&0!==this.borderElm.length){t.classList.contains(i.A)&&n.i(r.removeClass)([t],i.A);var o=t.getBoundingClientRect();this.updateDimension(o)}else t&&e&&[].slice.call(e.children).forEach(function(e){var o=a.kanbanObj.columns[t.cellIndex].transitionColumns;e!==t&&e.classList.contains(i.J)&&a.allowedTransition(t.getAttribute("data-key"),e.getAttribute("data-key"),o)&&n.i(r.addClass)([e],i.A)})},e.prototype.updateDimension=function(e,t){[].slice.call(this.borderElm).forEach(function(a){!a.parentElement||"true"!==a.parentElement.getAttribute("aria-expanded")&&a.parentElement.hasAttribute("aria-expanded")||n.i(r.addClass)([a],i.A);var o=a.previousElementSibling;a.style.height=parseInt(e.height.toString(),10)-(o&&o.classList.contains(i.H)?o.offsetHeight+o.offsetTop:0)+"px",t&&"TABLE"===t.tagName||(a.style.width=parseInt(e.width.toString(),10)+"px"),a.style.left=a.parentElement.getBoundingClientRect().left-n.i(r.closest)(a,".e-kanban").getBoundingClientRect().left+"px"})},e.prototype.keydownHandler=function(e){"Escape"===e.code&&this.dragObj.cloneElement&&(r.EventHandler.remove(this.dragObj.cloneElement,"keydown",this.keydownHandler),this.dragObj.element.removeAttribute("aria-grabbed"),this.dragStopClear(),this.dragStopPostClear())},e.prototype.dragStop=function(e){var t=this,o=n.i(r.closest)(this.dragObj.targetClone,"."+i.w);this.parent.enableVirtualization&&!n.i(r.isNullOrUndefined)(o)&&o.classList.add("e-dropped-column");var l,s,d,c;if(r.EventHandler.remove(document.body,"keydown",this.keydownHandler),[].slice.call(this.borderElm).forEach(function(e){e.classList.remove(i.A)}),this.dragObj.targetClone.parentElement){c=this.dragObj.selectedCards&&this.dragObj.selectedCards.length>1&&"Index"===this.parent.sortSettings.sortBy;var p=c?"."+i.g+":not(."+i.o+"),."+i.q:"."+i.g+":not(."+i.u+", ."+i.o+"),."+i.q;s=[].slice.call(this.dragObj.targetClone.parentElement.querySelectorAll(p)).indexOf(this.dragObj.targetClone),this.parent.enableVirtualization&&!n.i(r.isNullOrUndefined)(this.dragObj.targetClone.nextElementSibling)&&(d=this.dragObj.targetClone.nextElementSibling.getAttribute("data-id"))}if(!n.i(r.isNullOrUndefined)(this.kanbanObj)&&this.kanbanObj.element.querySelector("."+i.p)&&(l=n.i(r.closest)(e.target,"."+i.D+":not(."+i.E+")")),o||l){var u;o?u=this.getColumnKey(o):(u=this.getColumnKey(l),o=n.i(r.closest)(l,"."+i.w)),this.dragObj.selectedCards instanceof HTMLElement?this.updateDroppedData(this.dragObj.selectedCards,u,o):this.dragObj.selectedCards.forEach(function(e){t.updateDroppedData(e,u,o)}),this.parent.sortSettings.field&&"Index"===this.parent.sortSettings.sortBy&&this.changeOrder(this.dragObj.modifiedData,e.helper)}0===this.dragObj.modifiedData.length&&(this.dragObj.modifiedData=this.dragObj.cardDetails);var h={cancel:!1,data:this.dragObj.modifiedData,event:e,element:this.dragObj.selectedCards,dropIndex:s};this.parent.trigger(a.l,h,function(e){if(t.dragStopClear(),!e.cancel&&(o||l)){var n=e.data instanceof Array&&e.data.length>1?e.data:e.data[0],r=void 0,i=void 0;t.parent.enableVirtualization&&(r=o.closest(".e-kanban").querySelector(".e-dragged-column").getAttribute("data-key"),i=o.getAttribute("data-key")),t.parent.crudModule.updateCard(n,e.dropIndex,!0,d,r,i,c),t.parent.enableVirtualization&&(t.parent.virtualLayoutModule.refreshColumnData(r,i),t.parent.virtualLayoutModule.ensureColumnNotEmpty(r))}t.dragStopPostClear()})},e.prototype.dragStopClear=function(){this.removeElement(this.dragObj.draggedClone),this.removeElement(this.dragObj.targetClone,this.kanbanObj),this.removeElement(this.dragObj.cloneElement),[].slice.call(this.parent.element.querySelectorAll("."+i.t)).forEach(function(e){n.i(r.remove)(e)}),this.dragObj.element.style.removeProperty("width"),this.multiCloneRemove(),this.dragObj.selectedCards instanceof HTMLElement?n.i(r.removeClass)([this.dragObj.selectedCards],i.u):n.i(r.removeClass)(this.dragObj.selectedCards,i.u),clearInterval(this.dragObj.navigationInterval),this.dragObj.navigationInterval=null,"not-allowed"===document.body.style.cursor&&(document.body.style.cursor=""),[].slice.call(this.parent.element.querySelectorAll("."+i.g+"[style]")).forEach(function(e){e.style.cursor=""});var e="."+i.s+":not(."+i.v+")";([].slice.call(this.parent.element.querySelectorAll(e+" ."+i.w)).forEach(function(e){return n.i(r.removeClass)([e],i.A)}),this.parent.externalDropObj)&&[].slice.call(this.parent.externalDropObj.element.querySelectorAll(e+" ."+i.w)).forEach(function(e){return n.i(r.removeClass)([e],i.A)})},e.prototype.dragStopPostClear=function(){this.parent.isAdaptive&&(this.parent.touchModule.tabHold=!1),this.parent.element.querySelector(".e-dragged-column")&&this.parent.element.querySelector(".e-dragged-column").classList.remove("e-dragged-column"),this.parent.element.querySelector(".e-dropped-column")&&this.parent.element.querySelector(".e-dropped-column").classList.remove("e-dropped-column"),this.dragObj.cardDetails=this.dragObj.modifiedData=[],this.isDragging=!1,this.parent.isExternalKanbanDrop=!1,this.parent.externalDropObj=null},e.prototype.updateDroppedData=function(e,t,a){var o=this.parent.getCardDetails(e),l=n.i(r.extend)({},o,null,!0);if(1===t.split(",").length&&(l[this.parent.keyField]=t),this.parent.swimlaneSettings.keyField&&this.parent.swimlaneSettings.allowDragAndDrop){var s=n.i(r.closest)(a,"."+i.s).previousElementSibling;if(this.parent.isAdaptive){var d=this.parent.layoutModule.kanbanRows[this.parent.layoutModule.swimlaneIndex].keyField;l[this.parent.swimlaneSettings.keyField]=d}else l[this.parent.swimlaneSettings.keyField]=this.getColumnKey(s)}this.dragObj.modifiedData.push(l)},e.prototype.changeOrder=function(e,t){var n,r=this,a=!1;if(!(n="Ascending"===this.kanbanObj.sortSettings.direction?t===this.dragObj.targetClone.previousElementSibling&&this.dragObj.targetClone.previousElementSibling&&this.dragObj.targetClone.previousElementSibling.previousElementSibling?this.dragObj.targetClone.previousElementSibling.previousElementSibling:this.dragObj.targetClone.previousElementSibling:this.dragObj.targetClone.nextElementSibling)||n.classList.contains(i.u)||n.classList.contains(i.o)||n.classList.contains(i.t))if(this.dragObj.targetClone.nextElementSibling&&"Ascending"===this.kanbanObj.sortSettings.direction)n=this.dragObj.targetClone.nextElementSibling;else{if(!this.dragObj.targetClone.previousElementSibling||"Descending"!==this.kanbanObj.sortSettings.direction)return;n=this.dragObj.targetClone.previousElementSibling}else a=!0;if(n.classList.contains(i.g)){var o=this.kanbanObj.getCardDetails(n),l=o[this.kanbanObj.sortSettings.field];e.length>1&&"Descending"===this.kanbanObj.sortSettings.direction&&(e=e.reverse()),e.forEach(function(e,t){a?e[r.kanbanObj.sortSettings.field]=++l:1!==l&&t<=e[r.kanbanObj.sortSettings.field]?e[r.kanbanObj.sortSettings.field]=--l:1===l&&(e[r.kanbanObj.sortSettings.field]=t+1)})}},e.prototype.toggleVisible=function(e,t){var o=this,l="."+i.K+":not(."+i.L+")";[].slice.call(this.kanbanObj.element.querySelectorAll(l)).forEach(function(n){o.getColumnKey(n)===o.getColumnKey(t||e)&&o.kanbanObj.actionModule.columnToggle(n)});var s=n.i(r.closest)(this.dragObj.draggedClone,"."+i.w);if(s){var d=n.i(r.formatUnit)(s.offsetWidth-a.s);this.dragObj.draggedClone.style.width=d,this.dragObj.cloneElement.style.width=d}},e.prototype.multiCloneRemove=function(){var e=n.i(r.isNullOrUndefined)(this.kanbanObj)?[]:[].slice.call(this.kanbanObj.element.querySelectorAll("."+i.p));if(e.length>0){[].slice.call(this.kanbanObj.element.querySelectorAll("."+i.D)).forEach(function(e){return n.i(r.remove)(e)}),e.forEach(function(e){var t=n.i(r.closest)(e,"."+i.w);t&&(t.style.borderStyle="",t.querySelector("."+i.H)&&n.i(r.removeClass)([t.querySelector("."+i.H)],i.I),n.i(r.removeClass)([t.querySelector("."+i.y)],i.I))}),this.removeElement(this.dragObj.targetCloneMulti,this.kanbanObj)}},e.prototype.calculateArgs=function(e){var t=this.getPageCoordinates(e);this.dragObj.pageY=t.pageY,this.dragObj.pageX=t.pageX,this.isDragging=!0,this.kanbanObj.isAdaptive&&this.kanbanObj.tooltipModule&&this.kanbanObj.tooltipModule.tooltipObj.close()},e.prototype.getPageCoordinates=function(e){var t=e.event;return t&&t.changedTouches?t.changedTouches[0]:e.changedTouches?e.changedTouches[0]:t||e},e.prototype.getColumnKey=function(e){return e&&e.getAttribute("data-key")?e.getAttribute("data-key").trim():""},e.prototype.updateScrollPosition=function(){var e=this;n.i(r.isNullOrUndefined)(this.dragObj.navigationInterval)&&(this.dragObj.navigationInterval=window.setInterval(function(){e.autoScroll()},100))},e.prototype.autoScrollValidation=function(){var e=this.dragObj.pageY,t=this.dragObj.pageX,n={left:!1,right:!1,top:!1,bottom:!1},r=this.kanbanObj.element.querySelector("."+i.e).getBoundingClientRect();e<r.top+30+window.pageYOffset&&e>r.top+window.pageYOffset&&(n.top=!0),e>r.bottom-30+window.pageYOffset&&e<r.bottom+window.pageYOffset&&(n.bottom=!0),t<r.left+30+window.pageXOffset&&t>r.left+window.pageXOffset&&(n.left=!0),t>r.right-30+window.pageXOffset&&t<r.right+window.pageXOffset&&(n.right=!0),this.dragEdges=n},e.prototype.autoScroll=function(){this.autoScrollValidation();if(this.kanbanObj.isAdaptive){var e;if(this.dragEdges.top||this.dragEdges.bottom?e=this.dragObj.targetClone?n.i(r.closest)(this.dragObj.targetClone,"."+i.y):n.i(r.closest)(this.dragObj.draggedClone,"."+i.y):(this.dragEdges.right||this.dragEdges.left)&&(e=this.kanbanObj.element.querySelector("."+i.e)),e){var t=e.offsetHeight<=e.scrollHeight,a=e.offsetWidth<=e.scrollWidth,o=e.scrollTop>=0&&e.scrollTop+e.offsetHeight<=e.scrollHeight,l=e.scrollLeft>=0&&e.scrollLeft+e.offsetWidth<=e.scrollWidth;if(t&&o&&(this.dragEdges.top||this.dragEdges.bottom)&&(e.scrollTop+=this.dragEdges.top?-66:30),a&&l&&(this.dragEdges.left||this.dragEdges.right)){((this.parent.enableVirtualization?this.kanbanObj.virtualLayoutModule.getWidth():this.kanbanObj.layoutModule.getWidth())*(this.kanbanObj.columns.length-1)>e.scrollLeft||this.dragEdges.left)&&(e.scrollLeft+=this.dragEdges.left?-30:30)}}}else{var s=this.kanbanObj.element.querySelector("."+i.e),d=this.dragObj.targetClone.parentElement,c=s.offsetHeight<=s.scrollHeight,p=s.offsetWidth<=s.scrollWidth,u=c&&s.scrollTop>=0&&s.scrollTop+s.offsetHeight<=s.scrollHeight,h=p&&s.scrollLeft>=0&&s.scrollLeft+s.offsetWidth<=s.scrollWidth;u&&(this.dragEdges.top||this.dragEdges.bottom)&&(s.scrollTop+=this.dragEdges.top?-30:30,this.parent.swimlaneSettings.enableFrozenRows&&(this.dragObj.cloneElement.style.top=this.dragEdges.top?parseInt(this.dragObj.cloneElement.style.top,10)-30+"px":parseInt(this.dragObj.cloneElement.style.top,10)+30+"px"),d&&(d.scrollTop+=this.dragEdges.top?-30:30)),h&&(this.dragEdges.left||this.dragEdges.right)&&(s.scrollLeft+=this.dragEdges.left?-30:30,d&&(d.scrollLeft+=this.dragEdges.left?-30:30)),this.dragObj.pageY-window.scrollY<30?window.scrollTo(window.scrollX,window.scrollY-30):window.innerHeight-(this.dragObj.pageY-window.scrollY)<30&&window.scrollTo(window.scrollX,window.scrollY+30)}},e.prototype.unWireDragEvents=function(e){if(!n.i(r.isNullOrUndefined)(e)&&!n.i(r.isNullOrUndefined)(e.ej2_instances[0])){var t=e.ej2_instances[0];t&&!t.isDestroyed&&t.destroy()}},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),i=(n.n(r),n(1)),a=function(){function e(e){this.keyConfigs={firstCardSelection:"36",lastCardSelection:"35",upArrow:"38",downArrow:"40",rightArrow:"39",leftArrow:"37",multiSelectionEnter:"ctrl+13",multiSelectionSpace:"ctrl+32",multiSelectionByUpArrow:"shift+38",multiSelectionByDownArrow:"shift+40",shiftTab:"shift+tab",enter:"13",tab:"tab",delete:"46",escape:"27",space:"32"},this.parent=e,this.parent.element.tabIndex=-1===this.parent.element.tabIndex?0:this.parent.element.tabIndex,this.keyboardModule=new r.KeyboardEvents(this.parent.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),this.multiSelection=!1}return e.prototype.keyActionHandler=function(e){var t=this,a=this.parent.element.querySelectorAll("."+i.g+"."+i.f).item(0);if(a||n.i(r.closest)(document.activeElement,"."+i.a)){var o,l,s=[];switch(e.action){case"upArrow":case"downArrow":case"multiSelectionByUpArrow":case"multiSelectionByDownArrow":e.preventDefault(),this.processUpDownArrow(e.action,a);break;case"rightArrow":case"leftArrow":this.processLeftRightArrow(e);break;case"firstCardSelection":case"lastCardSelection":this.processCardSelection(e.action,a);break;case"multiSelectionEnter":case"multiSelectionSpace":document.activeElement&&this.parent.actionModule.cardSelection(document.activeElement,!0,!1);break;case"space":case"enter":this.processEnter(e,a);break;case"escape":if(document.activeElement.classList.contains(i.g)||document.activeElement.classList.contains(i.H))if(document.activeElement.classList.contains(i.f))n.i(r.removeClass)([document.activeElement],i.f),document.activeElement.focus();else{var d=n.i(r.closest)(document.activeElement,"."+i.w),c=[].slice.call(d.querySelectorAll("."+i.g));n.i(r.removeClass)(c,i.f),d.focus(),this.cardTabIndexRemove(),this.addRemoveTabIndex("Add")}break;case"tab":case"shiftTab":o=n.i(r.closest)(document.activeElement,"."+i.w),document.activeElement.classList.contains(i.g)&&(document.activeElement.nextElementSibling||"tab"!==e.action||e.preventDefault(),!document.activeElement.previousElementSibling&&o.querySelector("."+i.H)&&"tab"===e.action&&n.i(r.addClass)([o.querySelector("."+i.H)],i._35)),document.activeElement.classList.contains(i.H)&&(!o.querySelector("."+i.g)&&"tab"===e.action||"shiftTab"===e.action)&&e.preventDefault(),document.activeElement.classList.contains(i.a)&&(this.cardTabIndexRemove(),this.parent.keyboardModule.addRemoveTabIndex("Add"));break;case"delete":l=[].slice.call(this.parent.element.querySelectorAll("."+i.g+"."+i.f)),l.forEach(function(e){s.push(t.parent.getCardDetails(e))}),this.parent.crudModule.deleteCard(s)}}},e.prototype.processCardSelection=function(e,t){if(t){n.i(r.removeClass)([t],i.f),this.parent.enableVirtualization?this.parent.virtualLayoutModule.disableAttributeSelection(t):this.parent.layoutModule.disableAttributeSelection(t);var a=this.parent.actionModule.selectionArray;a.splice(a.indexOf(t.getAttribute("data-id")),1)}this.cardTabIndexRemove();var o=[].slice.call(this.parent.element.querySelectorAll("."+i.g)),l="firstCardSelection"===e?o[0]:o[o.length-1];this.parent.actionModule.cardSelection(l,!1,!1),this.addRemoveTabIndex("Remove"),l.focus(),[].slice.call(n.i(r.closest)(l,"."+i.w).querySelectorAll("."+i.g)).forEach(function(e){e.setAttribute("tabindex","0")})},e.prototype.processLeftRightArrow=function(e){document.activeElement.classList.contains(i.w)&&("rightArrow"===e.action&&document.activeElement.nextElementSibling?document.activeElement.nextElementSibling.focus():"leftArrow"===e.action&&document.activeElement.previousElementSibling&&document.activeElement.previousElementSibling.focus())},e.prototype.processUpDownArrow=function(e,t){if("upArrow"===e&&document.activeElement){if(document.activeElement.classList.contains(i.g)&&document.activeElement.previousElementSibling)document.activeElement.previousElementSibling.focus();else if(document.activeElement.classList.contains(i.H)){document.activeElement.setAttribute("tabindex","-1"),n.i(r.removeClass)([document.activeElement],i._35);var a=n.i(r.closest)(document.activeElement,"."+i.w);a.querySelectorAll("."+i.g).length>0&&[].slice.call(a.querySelectorAll("."+i.g)).slice(-1)[0].focus()}this.removeSelection()}else if("downArrow"===e&&document.activeElement&&document.activeElement.classList.contains(i.g)){if(document.activeElement.nextElementSibling)document.activeElement.nextElementSibling.focus();else if(n.i(r.closest)(document.activeElement,"."+i.y).nextElementSibling){var o=n.i(r.closest)(document.activeElement,"."+i.y).nextElementSibling;o.setAttribute("tabindex","0"),n.i(r.addClass)([o],i._35),o.focus()}this.removeSelection()}if(("multiSelectionByUpArrow"===e||"multiSelectionByDownArrow"===e)&&t&&"Multiple"===this.parent.cardSettings.selectionType){var l=void 0;l="multiSelectionByUpArrow"===e?document.activeElement.previousElementSibling:document.activeElement.nextElementSibling,l&&(this.parent.actionModule.cardSelection(l,!1,!0),l.focus(),this.multiSelection=!0)}},e.prototype.removeSelection=function(){if(this.multiSelection){var e=this.parent.getSelectedCards();e.length>0&&(n.i(r.removeClass)(e,i.f),this.parent.enableVirtualization?this.parent.virtualLayoutModule.disableAttributeSelection(e):this.parent.layoutModule.disableAttributeSelection(e)),this.multiSelection=!1}},e.prototype.cardTabIndexRemove=function(){[].slice.call(this.parent.element.querySelectorAll("."+i.g)).forEach(function(e){e.setAttribute("tabindex","-1")}),[].slice.call(this.parent.element.querySelectorAll("."+i.H)).forEach(function(e){e.setAttribute("tabindex","-1"),n.i(r.removeClass)([e],i._35)})},e.prototype.processEnter=function(e,t){"space"===e.action&&e.preventDefault();var n=e.target;if(n.classList.contains(i.M)&&this.parent.actionModule.columnExpandCollapse(e),(n.classList.contains(i.P)||n.classList.contains(i.O))&&this.parent.actionModule.rowExpandCollapse(e),document.activeElement.classList.contains(i.g)&&this.parent.actionModule.cardSelection(document.activeElement,!1,!1),document.activeElement.classList.contains(i.H)&&(this.parent.dialogModule.dialogObj||this.parent.actionModule.addButtonClick(document.activeElement),document.activeElement.focus()),n.classList.contains(i.w)){var r=[].slice.call(n.querySelectorAll("."+i.g));this.addRemoveTabIndex("Remove"),r.length>0&&(n.querySelector("."+i.g).focus(),r.forEach(function(e){e.setAttribute("tabindex","0")})),n.querySelector("."+i.H)&&(n.querySelector("."+i.H).setAttribute("tabindex","0"),n.querySelector("."+i.H).focus())}t===document.activeElement&&1===this.parent.element.querySelectorAll("."+i.f).length&&(this.parent.activeCardData={data:this.parent.getCardDetails(t),element:t},this.parent.dialogModule.dialogObj||this.parent.dialogModule.openDialog("Edit",this.parent.getCardDetails(t)),t.focus())},e.prototype.addRemoveTabIndex=function(e){var t="Add"===e?"0":"-1",n=[].slice.call(this.parent.element.querySelectorAll("."+i.M));n.length>0&&n.forEach(function(e){e.setAttribute("tabindex",t)});var r=[].slice.call(this.parent.element.querySelectorAll("."+i.P));r.length>0&&r.forEach(function(e){e.setAttribute("tabindex",t)});var a="."+i.s+":not(."+i.v+") ."+i.w;[].slice.call(this.parent.element.querySelectorAll(a)).forEach(function(e){e.setAttribute("tabindex",t)})},e.prototype.destroy=function(){this.keyboardModule.destroy()},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=(n.n(r),n(3)),a=(n.n(i),n(1)),o=function(){function e(e){this.parent=e,this.renderTooltip()}return e.prototype.renderTooltip=function(){this.tooltipObj=new i.Tooltip({cssClass:this.parent.cssClass+" "+a._42,enableRtl:this.parent.enableRtl,mouseTrail:!this.parent.isAdaptive,offsetY:5,position:"BottomCenter",showTipPointer:!0,target:"."+a._9,beforeRender:this.onBeforeRender.bind(this),beforeClose:this.onBeforeClose.bind(this)}),this.tooltipObj.appendTo(this.parent.element),this.tooltipObj.isStringTemplate=!0},e.prototype.onBeforeRender=function(e){if(this.parent.dragAndDropModule.isDragging)return void(e.cancel=!0);var t;if(this.parent.tooltipTemplate){t=n.i(r.createElement)("div");var i=n.i(r.closest)(e.target,"."+a.g),o=this.parent.getCardDetails(i),l=this.parent.element.id+"_tooltipTemplate",s=this.parent.templateParser(this.parent.tooltipTemplate)(o,this.parent,"tooltipTemplate",l,!1);n.i(r.append)(s,t),this.parent.renderTemplates()}else t=n.i(r.initializeCSPTemplate)(function(){return'<div class="e-card-header-caption">'+e.target.innerText+"</div>"});this.tooltipObj.setProperties({content:t},!0)},e.prototype.onBeforeClose=function(){this.parent.resetTemplates(["tooltipTemplate"])},e.prototype.destroy=function(){this.tooltipObj.destroy(),n.i(r.addClass)([this.parent.element],"e-control"),this.tooltipObj=null},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),i=(n.n(r),n(3)),a=(n.n(i),n(26)),o=(n.n(a),n(1)),l=function(){function e(e){this.parent=e,this.tabHold=!1}return e.prototype.wireTouchEvents=function(){this.element=this.parent.element.querySelector("."+o.e),this.touchObj=new r.Touch(this.element,{tapHold:this.tapHoldHandler.bind(this)})},e.prototype.tapHoldHandler=function(e){this.tabHold=!0;var t=n.i(r.closest)(e.originalEvent.target,"."+o.g);t&&"Multiple"===this.parent.cardSettings.selectionType&&(this.parent.actionModule.cardSelection(t,!0,!1),this.mobilePopup||(this.renderMobilePopup(),this.mobilePopup.show()),this.updatePopupContent())},e.prototype.renderMobilePopup=function(){if("Multiple"===this.parent.cardSettings.selectionType){var e=n.i(r.createElement)("div",{className:o.h+" e-popup-close",innerHTML:'<div class="'+o.i+'"><button class="'+o.j+'"></button></div><div class="'+o.k+'"></div>'});document.body.appendChild(e),n.i(r.addClass)([e],o.c),this.mobilePopup=new i.Popup(e,{targetType:"container",enableRtl:this.parent.enableRtl,hideAnimation:{name:"ZoomOut"},showAnimation:{name:"ZoomIn"},collision:{X:"fit",Y:"fit"},position:{X:"left",Y:"top"},viewPortElement:document.body,zIndex:1004,close:this.popupClose.bind(this)});var t=this.mobilePopup.element.querySelector("."+o.j),l=new a.Button({cssClass:"e-flat e-round e-small",enableRtl:this.parent.enableRtl,iconCss:o.l+" "+o.m});l.appendTo(t),l.isStringTemplate=!0,r.EventHandler.add(t,"click",this.closeClick,this)}},e.prototype.getPopupContent=function(){var e,t=this.parent.getSelectedCards();return t.length>1?e="("+t.length+") "+this.parent.localeObj.getConstant("cardsSelected"):1===t.length&&(e=" "+this.parent.getCardDetails(t[0])[this.parent.cardSettings.headerField]),e},e.prototype.updatePopupContent=function(){if(this.mobilePopup){var e=this.getPopupContent();e?this.mobilePopup.element.querySelector("."+o.k).textContent=e:this.mobilePopup.hide()}},e.prototype.closeClick=function(){this.parent.touchModule.mobilePopup.hide()},e.prototype.popupClose=function(){this.popupDestroy()},e.prototype.popupDestroy=function(){if(this.mobilePopup&&this.mobilePopup.element){var e=this.mobilePopup.element.querySelector(".e-control.e-btn").ej2_instances[0];e&&e.destroy(),this.mobilePopup.destroy(),n.i(r.remove)(this.mobilePopup.element),this.mobilePopup=null}},e.prototype.unWireTouchEvents=function(){this.touchObj&&this.touchObj.destroy(),this.touchObj=null,this.element=null},e.prototype.destroy=function(){this.popupDestroy(),this.unWireTouchEvents(),this.tabHold=!1},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=(n.n(r),n(6)),a=(n.n(i),n(2)),o=function(){function e(e){this.dataState={isPending:!1,resolver:null,isDataChanged:!1},this.parent=e,this.keyField=this.parent.cardSettings.headerField,this.dataState={isDataChanged:!1},this.isObservable=!1,this.initDataManager(e.dataSource,e.query),this.refreshDataManager()}return e.prototype.initDataManager=function(e,t){this.dataManager=e instanceof i.DataManager?e:new i.DataManager(e),this.query=t instanceof i.Query?t:new i.Query,this.kanbanData=new i.DataManager(this.parent.kanbanData)},e.prototype.isRemote=function(){return!0!==this.dataManager.dataSource.offline&&void 0!==this.dataManager.dataSource.url&&""!==this.dataManager.dataSource.url},e.prototype.columnKeyFields=function(){for(var e=[],t=0,n=this.parent.columns;t<n.length;t++){var r=n[t];if(r.keyField.toString().split(",").length>1)for(var i=0,a=r.keyField.toString().split(",");i<a.length;i++){var o=a[i];e.push(o.trim())}else e.push(r.keyField.toString())}return e},e.prototype.getQuery=function(e){var t=this.query.clone();if(this.isRemote()&&this.parent.enableVirtualization){for(var i="auto"===this.parent.cardHeight?100:parseInt(n.i(r.formatUnit)(this.parent.cardHeight).split("px")[0],10),a="auto"===this.parent.height?2*Math.ceil(window.innerHeight/i):2*Math.ceil(parseInt(n.i(r.formatUnit)(this.parent.height).split("px")[0],10)/i),o=this.columnKeyFields(),l=0;l<o.length;l++)t.where(this.parent.keyField,"equal",o[l]);t.take(a),n.i(r.isNullOrUndefined)(e)&&(e="KanbanVirtualization"),t.addParams("KanbanVirtualization",e)}return t},e.prototype.getData=function(e){if(this.parent.dataSource&&"result"in this.parent.dataSource){var t=this.eventPromise({requestType:""},e);return this.isObservable=!0,t.promise}return this.dataManager.executeQuery(e)},e.prototype.setState=function(e){return this.dataState=e},e.prototype.getStateEventArgument=function(e){var t=new i.UrlAdaptor,a=new i.DataManager({url:"",adaptor:new i.UrlAdaptor}),o=t.processQuery(a,e),l=JSON.parse(o.data);return n.i(r.extend)(l,o.pvtData)},e.prototype.eventPromise=function(e,t,o){var l=this,s=e,d=this.getStateEventArgument(t),c=new i.Deferred,p=new i.Deferred;if(void 0!==e.requestType&&!1!==this.dataState.isDataChanged)if(d.action=e,"cardChanged"===e.requestType||"cardRemoved"===e.requestType||"cardCreated"===e.requestType){var u=e;u.promise=p.promise,u.state=d,u.index=o,this.setState({isPending:!0,resolver:p.resolve}),s.endEdit=p.resolve,s.cancelEdit=p.reject,this.parent.trigger(a.u,u),p.promise.then(function(){l.setState({isPending:!0,resolver:c.resolve}),l.parent.trigger(a.v,d),u.addedRecords.forEach(function(e){l.parent.kanbanData.push(e)}),u.changedRecords.forEach(function(e){var t=l.parent.kanbanData.filter(function(t){return t[l.parent.cardSettings.headerField]===e[l.parent.cardSettings.headerField]})[0];n.i(r.extend)(t,e)}),u.deletedRecords.forEach(function(e){var t=l.parent.kanbanData.findIndex(function(t){return t[l.parent.cardSettings.headerField]===e[l.parent.cardSettings.headerField]});l.parent.kanbanData.splice(t,1)})}).catch(function(){l.parent.hideSpinner()})}else this.setState({isPending:!0,resolver:c.resolve}),this.parent.trigger(a.v,d);else this.setState({}),c.resolve(this.parent.dataSource);return c},e.prototype.getTable=function(){if(this.parent.query){return this.getQuery().fromTable}return null},e.prototype.refreshDataManager=function(){var e=this;this.getData(this.getQuery()).then(function(t){return e.dataManagerSuccess(t)}).catch(function(t){return e.dataManagerFailure(t)})},e.prototype.dataManagerSuccess=function(e,t,n,r){var i=this;this.parent.isDestroyed||(t?(this.updateKanbanData(e),this.parent.enableVirtualization&&this.isRemote()&&this.parent.virtualLayoutModule.refresh()):this.parent.trigger(a.h,e,function(e){i.updateKanbanData(e),i.parent.notify(a.q,{processedData:i.parent.kanbanData}),i.parent.trigger(a.i,null,function(){return i.parent.hideSpinner()})}))},e.prototype.updateKanbanData=function(e){var t=n.i(r.extend)([],n.i(r.isNullOrUndefined)(e.result.result)?e.result:e.result.result,null,!0);if(this.isRemote()&&this.parent.enableVirtualization&&t.length>0&&!n.i(r.isNullOrUndefined)(e.result.count))for(var i=this.columnKeyFields(),a=0;a<i.length;a++)e.result.count[a].Key===i[a]&&(this.parent.columnDataCount[i[a]]=e.result.count[a].Value);this.parent.kanbanData=t},e.prototype.dataManagerFailure=function(e){var t=this;this.parent.isDestroyed||this.parent.trigger(a.c,{error:e},function(){return t.parent.hideSpinner()})},e.prototype.updateDataManager=function(e,t,i,o,l,s,d,c,p,u){var h=this;this.parent.showSpinner();var f,g={requestType:i,cancel:!1,addedRecords:t.addedRecords,changedRecords:t.changedRecords,deletedRecords:t.deletedRecords};this.setState({isDataChanged:!0}),this.eventPromise(g,this.query,l),this.parent.trigger(a.b,g,function(i){if(!i.cancel){switch(e){case"insert":f=h.dataManager.insert(o,h.getTable(),h.getQuery());break;case"update":h.parent.enableVirtualization&&!h.parent.dataModule.isRemote()&&s?(f=h.dataManager.remove(h.keyField,o,h.getTable(),h.getQuery()),f=h.dataManager.insert(o,h.getTable(),h.getQuery(),h.dataManager.dataSource.json.findIndex(function(e){return e[h.parent.cardSettings.headerField]===d}))):f=h.dataManager.update(h.keyField,o,h.getTable(),h.getQuery());break;case"delete":f=h.dataManager.remove(h.keyField,o,h.getTable(),h.getQuery());break;case"batch":if(!h.parent.dataModule.isRemote()&&s&&h.parent.enableVirtualization&&o){for(var a=0;a<o.length;a++)f=h.dataManager.remove(h.keyField,o[a],h.getTable(),h.getQuery());for(var g=h.dataManager.dataSource.json.findIndex(function(e){return e[h.parent.cardSettings.headerField]===d}),a=0;a<o.length;a++,g++)f=h.dataManager.insert(o[a],h.getTable(),h.getQuery(),g)}else f=h.dataManager.saveChanges(t,h.keyField,h.getTable(),h.getQuery())}h.dataManager.dataSource.offline?h.isObservable||(h.kanbanData=h.dataManager,h.parent.kanbanData=h.dataManager.dataSource.json,l=c===p&&u?l-1:l,h.refreshUI(i,l,s),h.parent.enableVirtualization&&h.parent.virtualLayoutModule.refreshColumnData(c,p,i.requestType,o[h.parent.keyField])):f.then(function(e){if(!h.parent.isDestroyed){h.getData(h.getQuery()).then(function(e){return h.dataManagerSuccess(e,"DataSourceChange",i,l)}).catch(function(e){return h.dataManagerFailure(e)}),"cardCreated"===i.requestType?Array.isArray(e)?h.modifyArrayData(i.addedRecords,e):i.addedRecords[0]=n.i(r.extend)(i.addedRecords[0],e):"cardChanged"===i.requestType?Array.isArray(e)?h.modifyArrayData(i.changedRecords,e):i.changedRecords[0]=n.i(r.extend)(i.changedRecords[0],e):"cardRemoved"===i.requestType&&(Array.isArray(e)?h.modifyArrayData(i.deletedRecords,e):i.deletedRecords[0]=n.i(r.extend)(i.deletedRecords[0],e)),l=c===p&&u?l-1:l,h.refreshUI(i,l,s),h.parent.enableVirtualization&&h.parent.virtualLayoutModule.refreshColumnData(c,p,i.requestType,o[h.parent.keyField])}}).catch(function(e){h.dataManagerFailure(e)})}})},e.prototype.modifyArrayData=function(e,t){if(e.length===t.length)for(var i=0;i<t.length;i++)e[i]=n.i(r.extend)(e[i],t[i]);return e},e.prototype.refreshUI=function(e,t,n){var r=this;this.parent.enableVirtualization?(this.parent.virtualLayoutModule.columnData=this.parent.virtualLayoutModule.getColumnCards(),e.addedRecords.forEach(function(i,a){r.parent.virtualLayoutModule.renderCardBasedOnIndex(i,t+a,n,e.requestType)}),e.changedRecords.forEach(function(i){r.parent.virtualLayoutModule.removeCard(i),r.parent.virtualLayoutModule.renderCardBasedOnIndex(i,t,n,e.requestType),r.parent.virtualLayoutModule.isSelectedCard&&r.parent.actionModule.SingleCardSelection(i),r.parent.sortSettings.field&&"Index"===r.parent.sortSettings.sortBy&&"Descending"===r.parent.sortSettings.direction&&t>0?--t:t++}),e.deletedRecords.forEach(function(e){r.parent.virtualLayoutModule.removeCard(e)}),this.parent.virtualLayoutModule.refresh()):(this.parent.layoutModule.columnData=this.parent.layoutModule.getColumnCards(),this.parent.swimlaneSettings.keyField&&(this.parent.layoutModule.kanbanRows=this.parent.layoutModule.getRows(),this.parent.layoutModule.swimlaneData=this.parent.layoutModule.getSwimlaneCards()),e.addedRecords.forEach(function(e,n){r.parent.swimlaneSettings.keyField&&!e[r.parent.swimlaneSettings.keyField]&&(e[r.parent.swimlaneSettings.keyField]=""),r.parent.layoutModule.renderCardBasedOnIndex(e,t+n)}),e.changedRecords.forEach(function(e){r.parent.swimlaneSettings.keyField&&!e[r.parent.swimlaneSettings.keyField]&&(e[r.parent.swimlaneSettings.keyField]=""),r.parent.layoutModule.removeCard(e),r.parent.layoutModule.renderCardBasedOnIndex(e,t),r.parent.layoutModule.isSelectedCard&&r.parent.actionModule.SingleCardSelection(e),r.parent.sortSettings.field&&"Index"===r.parent.sortSettings.sortBy&&"Descending"===r.parent.sortSettings.direction&&t>0?--t:t++}),e.deletedRecords.forEach(function(e){r.parent.layoutModule.removeCard(e)}),this.parent.layoutModule.refresh()),this.parent.renderTemplates(),this.parent.notify(a.p,{}),this.parent.trigger(a.i,e,function(){return r.parent.hideSpinner()})},e}()},function(e,t,n){"use strict";var r=n(18);n.d(t,"a",function(){return r.a});var i=n(2);n.d(t,"b",function(){return i.a}),n.d(t,"c",function(){return i.b}),n.d(t,"d",function(){return i.c}),n.d(t,"e",function(){return i.d}),n.d(t,"f",function(){return i.e}),n.d(t,"g",function(){return i.f}),n.d(t,"h",function(){return i.g}),n.d(t,"i",function(){return i.h}),n.d(t,"j",function(){return i.i}),n.d(t,"k",function(){return i.j}),n.d(t,"l",function(){return i.k}),n.d(t,"m",function(){return i.l}),n.d(t,"n",function(){return i.m}),n.d(t,"o",function(){return i.n}),n.d(t,"p",function(){return i.o}),n.d(t,"q",function(){return i.p}),n.d(t,"r",function(){return i.q}),n.d(t,"s",function(){return i.r}),n.d(t,"t",function(){return i.s}),n.d(t,"u",function(){return i.t}),n.d(t,"v",function(){return i.u}),n.d(t,"w",function(){return i.v})},function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r=n(0),i=(n.n(r),n(3)),a=(n.n(i),n(16)),o=n(25),l=n(21),s=n(22),d=n(5),c=n(24),p=n(23),u=n(9),h=n(10),f=n(12),g=n(11),m=n(13),y=n(14),v=n(15),b=n(19),S=n(20),C=n(2),w=n(1),E=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},O=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.columnDataCount={},r.needsID=!0,r}return E(t,e),t.prototype.preRender=function(){this.isAdaptive=r.Browser.isDevice,this.kanbanData=[],this.enablePersistence&&this.swimlaneToggleArray||(this.swimlaneToggleArray=[]),this.activeCardData={data:null,element:null};var e={items:"items",min:"Min",max:"Max",cardsSelected:"Cards Selected",addTitle:"Add New Card",editTitle:"Edit Card Details",deleteTitle:"Delete Card",deleteContent:"Are you sure you want to delete this card?",save:"Save",delete:"Delete",cancel:"Cancel",yes:"Yes",no:"No",close:"Close",noCard:"No cards to display",unassigned:"Unassigned"};this.localeObj=new r.L10n(this.getModuleName(),e,this.locale),this.scrollPosition={content:{left:0,top:0},column:{}},this.isInitialRender=!0},t.prototype.requiredModules=function(){return[]},t.prototype.getPersistData=function(){return this.dataSource.length>0?this.addOnPersist(["columns","dataSource","swimlaneToggleArray"]):this.addOnPersist(["columns","kanbanData","swimlaneToggleArray"])},t.prototype.getModuleName=function(){return"kanban"},t.prototype.render=function(){var e=[w.a],t=[];this.enableRtl?e.push(w.b):t.push(w.b),this.isAdaptive?e.push(w.c):t.push(w.c),this.cssClass&&e.push(this.cssClass),this.element.setAttribute("role","main"),n.i(r.classList)(this.element,e,t),this.element.style.width=n.i(r.formatUnit)(this.width),this.element.style.height=n.i(r.formatUnit)(this.height),n.i(i.createSpinner)({target:this.element}),this.showSpinner(),this.initializeModules()},t.prototype.onPropertyChanged=function(e,t){for(var i=0,o=Object.keys(e);i<o.length;i++){switch(o[i]){case"cssClass":t.cssClass&&n.i(r.removeClass)([this.element],t.cssClass),e.cssClass&&n.i(r.addClass)([this.element],e.cssClass);break;case"enableRtl":case"locale":this.refresh();break;case"width":this.element.style.width=n.i(r.formatUnit)(e.width),this.element.querySelector("."+w.d).firstElementChild.style.width="auto",this.notify(C.p,{});break;case"height":this.element.style.height=n.i(r.formatUnit)(e.height),this.element.querySelector("."+w.e).style.height="auto",this.notify(C.p,{});break;case"dataSource":case"query":this.dataModule&&this.dataModule.setState({isDataChanged:!1}),this.dataModule=new a.a(this);break;case"columns":case"constraintType":this.notify(C.q,{processedData:this.kanbanData});break;case"swimlaneSettings":this.onSwimlaneSettingsPropertyChanged(e.swimlaneSettings,t.swimlaneSettings);break;case"cardSettings":this.onCardSettingsPropertyChanged(e.cardSettings,t.cardSettings);break;case"allowDragAndDrop":e.allowDragAndDrop?this.enableVirtualization?this.virtualLayoutModule.wireDragEvent():this.layoutModule.wireDragEvent():this.enableVirtualization?this.virtualLayoutModule.unWireDragEvent():this.layoutModule.unWireDragEvent();break;case"enableTooltip":this.tooltipModule&&(this.tooltipModule.destroy(),this.tooltipModule=null),e.enableTooltip&&(this.tooltipModule=new y.a(this),this.enableVirtualization?this.virtualLayoutModule.refreshCards():this.layoutModule.refreshCards());break;case"dialogSettings":e.dialogSettings&&(this.dialogModule=new g.a(this));break;case"allowKeyboard":this.keyboardModule&&(this.keyboardModule.destroy(),this.keyboardModule=null),e.allowKeyboard&&(this.keyboardModule=new m.a(this));break;case"stackedHeaders":this.enableVirtualization?this.virtualLayoutModule.refreshHeaders():this.layoutModule.refreshHeaders();break;case"sortSettings":this.notify(C.q,{processedData:this.kanbanData})}}},t.prototype.onSwimlaneSettingsPropertyChanged=function(e,t){for(var n=0,r=Object.keys(e);n<r.length;n++){switch(r[n]){case"keyField":case"textField":case"showEmptyRow":case"showItemCount":case"template":case"sortDirection":this.notify(C.q,{processedData:this.kanbanData});break;case"enableFrozenRows":this.layoutModule.frozenSwimlaneRow&&!this.swimlaneSettings.enableFrozenRows&&this.layoutModule.removeFrozenRows()}}},t.prototype.onCardSettingsPropertyChanged=function(e,t){for(var i=[],a=0,o=Object.keys(e);a<o.length;a++){switch(o[a]){case"showHeader":case"headerField":case"contentField":case"template":case"tagsField":case"grabberField":case"footerCssField":this.enableVirtualization?this.virtualLayoutModule.refreshCards():this.layoutModule.refreshCards();break;case"selectionType":i=this.getSelectedCards(),i.length>0&&(n.i(r.removeClass)(i,w.f),this.enableVirtualization?this.virtualLayoutModule.disableAttributeSelection(i):this.layoutModule.disableAttributeSelection(i))}}},t.prototype.initializeModules=function(){this.dataModule=new a.a(this),this.enableVirtualization?this.virtualLayoutModule=new S.a(this):this.layoutModule=new b.a(this),this.allowKeyboard&&(this.keyboardModule=new m.a(this)),this.actionModule=new u.a(this),this.crudModule=new h.a(this),this.dragAndDropModule=new f.a(this),this.dialogModule=new g.a(this),this.enableTooltip&&(this.tooltipModule=new y.a(this)),(r.Browser.isDevice||r.Browser.isTouch)&&(this.touchModule=new v.a(this))},t.prototype.renderTemplates=function(){this.isReact&&this.renderReactTemplates()},t.prototype.resetTemplates=function(e){this.isReact&&this.clearTemplate(e)},t.prototype.destroyModules=function(){this.layoutModule&&(this.layoutModule.destroy(),this.layoutModule=null),this.keyboardModule&&(this.keyboardModule.destroy(),this.keyboardModule=null),this.touchModule&&(this.touchModule.destroy(),this.touchModule=null),this.tooltipModule&&(this.tooltipModule.destroy(),this.tooltipModule=null),this.virtualLayoutModule&&(this.virtualLayoutModule.destroy(),this.virtualLayoutModule=null),this.dialogModule=null,this.actionModule=null,this.crudModule=null,this.dataModule=null,this.dragAndDropModule=null},t.prototype.templateParser=function(e){if(e)try{return"function"==typeof e?n.i(r.compile)(e):document.querySelectorAll(e).length?n.i(r.compile)(document.querySelector(e).innerHTML.trim()):n.i(r.compile)(e)}catch(t){return n.i(r.compile)(e)}},t.prototype.getCardDetails=function(e){var t=this,n="number"==typeof this.kanbanData[0][this.cardSettings.headerField],r=n?parseInt(e.getAttribute("data-id"),10):e.getAttribute("data-id");return this.kanbanData.filter(function(e){return e[t.cardSettings.headerField]===r})[0]},t.prototype.getColumnData=function(e,t){return this.enableVirtualization?this.virtualLayoutModule.getColumnCards(t)[""+e]||[]:this.layoutModule.getColumnCards(t)[""+e]||[]},t.prototype.getSwimlaneData=function(e){return this.layoutModule.getSwimlaneCards()[""+e]||[]},t.prototype.getSelectedCards=function(){return[].slice.call(this.element.querySelectorAll("."+w.g+"."+w.f))},t.prototype.showSpinner=function(){n.i(i.showSpinner)(this.element)},t.prototype.hideSpinner=function(){n.i(i.hideSpinner)(this.element)},t.prototype.openDialog=function(e,t){this.dialogModule.openDialog(e,t)},t.prototype.closeDialog=function(){this.dialogModule.closeDialog()},t.prototype.addCard=function(e,t){this.crudModule.addCard(e,t)},t.prototype.updateCard=function(e,t){this.crudModule.updateCard(e,t)},t.prototype.deleteCard=function(e){this.crudModule.deleteCard(e)},t.prototype.addColumn=function(e,t){this.actionModule.addColumn(e,t)},t.prototype.deleteColumn=function(e){this.actionModule.deleteColumn(e)},t.prototype.showColumn=function(e){this.actionModule.showColumn(e)},t.prototype.hideColumn=function(e){this.actionModule.hideColumn(e)},t.prototype.refreshUI=function(e,t){t=t||0,this.dataModule.refreshUI(e,t)},t.prototype.refreshHeader=function(){this.resetTemplates(["columnTemplate"]),this.layoutModule&&this.layoutModule.refreshHeaders(),this.renderTemplates()},t.prototype.destroy=function(){this.destroyModules(),[].slice.call(this.element.childNodes).forEach(function(e){n.i(r.detach)(e)});var t=[w.a];this.cssClass&&(t=t.concat(this.cssClass.split(" "))),n.i(r.removeClass)([this.element],t),e.prototype.destroy.call(this)},k([n.i(r.Property)()],t.prototype,"cssClass",void 0),k([n.i(r.Property)("auto")],t.prototype,"width",void 0),k([n.i(r.Property)("auto")],t.prototype,"height",void 0),k([n.i(r.Property)("auto")],t.prototype,"cardHeight",void 0),k([n.i(r.Property)()],t.prototype,"enableVirtualization",void 0),k([n.i(r.Property)([])],t.prototype,"dataSource",void 0),k([n.i(r.Property)()],t.prototype,"query",void 0),k([n.i(r.Property)()],t.prototype,"keyField",void 0),k([n.i(r.Property)("Column")],t.prototype,"constraintType",void 0),k([n.i(r.Property)([])],t.prototype,"externalDropId",void 0),k([n.i(r.Collection)([],d.a)],t.prototype,"columns",void 0),k([n.i(r.Property)(!0)],t.prototype,"allowKeyboard",void 0),k([n.i(r.Property)(!0)],t.prototype,"enableHtmlSanitizer",void 0),k([n.i(r.Collection)([],c.a)],t.prototype,"stackedHeaders",void 0),k([n.i(r.Complex)({},o.a)],t.prototype,"swimlaneSettings",void 0),k([n.i(r.Complex)({},l.a)],t.prototype,"cardSettings",void 0),k([n.i(r.Complex)({},p.a)],t.prototype,"sortSettings",void 0),k([n.i(r.Complex)({},s.a)],t.prototype,"dialogSettings",void 0),k([n.i(r.Property)(!0)],t.prototype,"allowDragAndDrop",void 0),k([n.i(r.Property)(!1)],t.prototype,"enableTooltip",void 0),k([n.i(r.Property)(!1)],t.prototype,"showEmptyColumn",void 0),k([n.i(r.Property)(!1)],t.prototype,"enablePersistence",void 0),k([n.i(r.Property)()],t.prototype,"tooltipTemplate",void 0),k([n.i(r.Event)()],t.prototype,"actionBegin",void 0),k([n.i(r.Event)()],t.prototype,"actionComplete",void 0),k([n.i(r.Event)()],t.prototype,"actionFailure",void 0),k([n.i(r.Event)()],t.prototype,"created",void 0),k([n.i(r.Event)()],t.prototype,"dataBinding",void 0),k([n.i(r.Event)()],t.prototype,"dataBound",void 0),k([n.i(r.Event)()],t.prototype,"cardClick",void 0),k([n.i(r.Event)()],t.prototype,"cardDoubleClick",void 0),k([n.i(r.Event)()],t.prototype,"queryCellInfo",void 0),k([n.i(r.Event)()],t.prototype,"cardRendered",void 0),k([n.i(r.Event)()],t.prototype,"dragStart",void 0),k([n.i(r.Event)()],t.prototype,"drag",void 0),k([n.i(r.Event)()],t.prototype,"dragStop",void 0),k([n.i(r.Event)()],t.prototype,"dialogOpen",void 0),k([n.i(r.Event)()],t.prototype,"dialogClose",void 0),k([n.i(r.Event)()],t.prototype,"dataStateChange",void 0),k([n.i(r.Event)()],t.prototype,"dataSourceChanged",void 0),t=k([r.NotifyPropertyChanges],t)}(r.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),i=(n.n(r),n(4)),a=n(2),o=n(1),l=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(e){function t(t){var n=e.call(this,t)||this;return n.kanbanRows=[],n.parent=t,n.columnKeys=[],n.swimlaneIndex=0,n.swimlaneData={},n.scrollLeft=0,n.frozenOrder=0,n.parent.on(a.q,n.initRender,n),n.parent.on(a.p,n.scrollUiUpdate,n),n}return l(t,e),t.prototype.initRender=function(){if(0!==this.parent.columns.length){if(this.columnData=this.getColumnCards(),this.kanbanRows=this.getRows(),this.swimlaneData=this.getSwimlaneCards(),this.parent.isAdaptive){var e=this.parent.element.querySelector("."+o.e);e&&(this.scrollLeft=e.scrollLeft)}this.destroy(),this.parent.on(a.q,this.initRender,this),this.parent.on(a.p,this.scrollUiUpdate,this),this.parent.isAdaptive&&this.parent.swimlaneSettings.keyField&&0!==this.parent.kanbanData.length&&this.renderSwimlaneHeader();var t=n.i(r.createElement)("div",{className:o.d});this.parent.element.appendChild(t),this.renderHeader(t),this.renderContent(),this.renderCards(),this.renderValidation(),this.parent.renderTemplates(),this.parent.notify(a.p,{}),this.wireEvents(),this.parent.isInitialRender&&(this.parent.isInitialRender=!1)}},t.prototype.renderHeader=function(e){var t=n.i(r.createElement)("div",{className:this.parent.swimlaneSettings.keyField?o.V:""});e.appendChild(t);var i=n.i(r.createElement)("table",{className:o.Q+" "+o.W,attrs:{role:"table"}});t.appendChild(i),this.renderColGroup(i);var l=n.i(r.createElement)("thead");i.appendChild(l),this.parent.stackedHeaders.length>0&&l.appendChild(this.createStackedRow(this.parent.stackedHeaders));var s=n.i(r.createElement)("tr",{className:o.X});l.appendChild(s);for(var d=this,c=0,p=this.parent.columns;c<p.length;c++){var u=p[c];!function(e){if(d.isColumnVisible(e)){var t=d.parent.actionModule.columnToggleArray.indexOf(e.keyField.toString()),i=n.i(r.createElement)("th",{className:-1===t?o.K:o.K+" "+o.B,attrs:{"data-role":"kanban-column","data-key":e.keyField.toString()}}),l=[];e.allowToggle&&(l.push(o.U),e.isExpanded||l.push(o.B)),n.i(r.addClass)([i],l);var c=n.i(r.createElement)("div",{className:o.Y});i.appendChild(c);var p=d.columnData[e.keyField].length,u=n.i(r.createElement)("div",{className:o.Z});if(c.appendChild(u),e.template){var h={keyField:e.keyField,headerText:e.headerText,minCount:e.minCount,maxCount:e.maxCount,allowToggle:e.allowToggle,isExpanded:e.isExpanded,showItemCount:e.showItemCount,count:p};n.i(r.addClass)([i],o._0);var f=d.parent.element.id+"_columnTemplate",g=d.parent.templateParser(e.template)(h,d.parent,"columnTemplate",f,!1);n.i(r.append)(g,u)}else{var m=n.i(r.createElement)("div",{className:o._1,innerHTML:e.headerText});if(u.appendChild(m),e.showItemCount){var y=n.i(r.createElement)("div",{className:o._2,innerHTML:"- "+p.toString()+" "+d.parent.localeObj.getConstant("items")});u.appendChild(y)}}if(e.allowToggle){var v=!(!e.isExpanded||-1!==t),b=v?o.R:o.S,S=n.i(r.createElement)("div",{className:o.M+" "+o.l+" "+b,attrs:{tabindex:"0",role:"button"}});S.setAttribute("aria-label",v?e.keyField+" Expand":e.keyField+" Collapse"),i.setAttribute("aria-expanded",v.toString()),c.appendChild(S)}var C=[{keyField:e.keyField,textField:e.headerText,count:p}],w={data:C,element:s,cancel:!1,requestType:"headerRow"};d.parent.trigger(a.g,w,function(e){e.cancel||s.appendChild(i)})}}(u)}},t.prototype.renderContent=function(){var e=n.i(r.createElement)("div",{className:o.e});this.parent.element.appendChild(e);var t=n.i(r.createElement)("div",{className:this.parent.swimlaneSettings.keyField?o.V:""});e.appendChild(t);var i=n.i(r.createElement)("table",{className:o.Q+" "+o._3,attrs:{role:"presentation"}});t.appendChild(i),this.renderColGroup(i);var a=n.i(r.createElement)("tbody");a.setAttribute("role","rowgroup"),i.appendChild(a);var l=!1;this.swimlaneRow=this.kanbanRows,this.initializeSwimlaneTree();for(var s=0,d=this.swimlaneRow;s<d.length;s++){var c=d[s];if(this.parent.swimlaneSettings.keyField&&0!==this.parent.swimlaneToggleArray.length){l=-1!==this.parent.swimlaneToggleArray.indexOf(c.keyField)}this.parent.swimlaneSettings.keyField&&!this.parent.isAdaptive&&this.renderSwimlaneRow(a,c,l),this.renderSingleContent(a,c,l)}},t.prototype.renderSingleContent=function(e,t,i){for(var l=i?o.s+" "+o.B:o.s,s=n.i(r.createElement)("tr",{className:l,attrs:{"aria-expanded":"true",role:"row"}}),d=0,c=this.parent.columns;d<c.length;d++){var p=c[d];if(this.isColumnVisible(p)){var u=this.parent.actionModule.columnToggleArray.indexOf(p.keyField.toString()),h=-1===u?o.w:o.w+" "+o.B,f=(p.allowDrag?" "+o._4:"")+(p.allowDrop?" "+o.J+" "+o.x:""),g=n.i(r.createElement)("td",{className:h+f,attrs:{"data-role":"kanban-column","data-key":p.keyField.toString(),tabindex:"0",role:"treegrid","aria-label":p.keyField.toString()}});if(p.allowToggle&&!p.isExpanded||-1!==u){n.i(r.addClass)([g],o.B);var m=(p.showItemCount?"["+this.getColumnData(p.keyField,this.swimlaneData[t.keyField]).length+"] ":"")+p.headerText;g.appendChild(n.i(r.createElement)("div",{className:o.T,innerHTML:m})),g.setAttribute("aria-expanded","false")}if(p.showAddButton){var y=n.i(r.createElement)("div",{className:o.H,attrs:{tabindex:"-1"}});y.appendChild(n.i(r.createElement)("div",{className:o._5+" "+o.l})),g.appendChild(y)}s.appendChild(g)}}var v=[{keyField:t.keyField,textField:t.textField,count:t.count}],b={data:v,element:s,cancel:!1,requestType:"contentRow"};this.parent.trigger(a.g,b,function(t){t.cancel||(e.classList.contains("e-swimlane-row")?e.insertAdjacentElement("beforebegin",s):e.appendChild(s))})},t.prototype.initializeSwimlaneTree=function(){this.parent.swimlaneSettings.keyField&&this.parent.isAdaptive&&0!==this.parent.kanbanData.length&&(this.swimlaneRow=[this.kanbanRows[this.swimlaneIndex]],this.renderSwimlaneTree(),this.parent.element.querySelector("."+o._6).innerHTML=this.swimlaneRow[0].textField)},t.prototype.renderSwimlaneRow=function(e,t,i){var l=o.s+" "+o.v,s=i?" "+o.B:"",d=n.i(r.createElement)("tr",{className:l+s,attrs:{"data-key":t.keyField,"aria-expanded":(!i).toString(),role:"row"}}),c=this.parent.columns.length-this.parent.actionModule.hideColumnKeys.length,p=n.i(r.createElement)("td",{className:o.w,attrs:{"data-role":"kanban-column",colspan:c.toString()}}),u=n.i(r.createElement)("div",{className:o._7});p.appendChild(u);var h=i?o.O:o.P,f=n.i(r.createElement)("div",{className:o.l+" "+h,attrs:{tabindex:"0",role:"button","aria-label":i?t.keyField+" Collapse":t.keyField+" Expand"}});u.appendChild(f);var g=n.i(r.createElement)("div",{className:o.Y});u.appendChild(g);var m=this.swimlaneData[t.keyField].length;if(this.parent.swimlaneSettings.template){var y=n.i(r.extend)({},t,{count:m},!0);n.i(r.addClass)([p],o._0);var v=this.parent.element.id+"_swimlaneTemplate",b=this.parent.templateParser(this.parent.swimlaneSettings.template)(y,this.parent,"swimlaneTemplate",v,!1);n.i(r.append)(b,g)}else g.appendChild(n.i(r.createElement)("div",{className:o._8,innerHTML:t.textField,attrs:{"data-role":t.textField}}));this.parent.swimlaneSettings.showItemCount&&u.appendChild(n.i(r.createElement)("div",{className:o._2,innerHTML:"- "+m.toString()+" "+this.parent.localeObj.getConstant("items")})),d.appendChild(p);var S=[{keyField:t.keyField,textField:t.textField,count:t.count}],C={data:S,element:d,cancel:!1,requestType:"swimlaneRow"};this.parent.trigger(a.g,C,function(t){t.cancel||(e.classList.contains("e-swimlane-row")?e.insertAdjacentElement("beforebegin",d):e.appendChild(d))})},t.prototype.renderCards=function(){var e=this,t=this.swimlaneRow,i=[].slice.call(this.parent.element.querySelectorAll(".e-content-row:not(.e-swimlane-row)")),l=[].slice.call(this.parent.element.querySelectorAll(".e-content-row.e-swimlane-row")),s=[],d=!1;i.forEach(function(i,c){for(var p=0,u=0,h=e.parent.columns;u<h.length;u++){var f=h[u];!function(l){if(e.isColumnVisible(l)){var s=e.parent.swimlaneSettings.keyField?e.getColumnData(l.keyField,e.swimlaneData[t[c].keyField]):e.columnData[l.keyField];p+=s.length;var u=i.querySelector('[data-key="'+l.keyField+'"]'),h=n.i(r.createElement)("div",{className:o.y,attrs:{role:"listbox",tabindex:"0"}});if(l.transitionColumns.length>0&&(d=!0),!d&&n.i(r.isNullOrUndefined)(e.parent.swimlaneSettings.keyField)){var f=n.i(r.createElement)("div",{className:o.r});u.appendChild(f)}if(u.appendChild(h),s.length>0)for(var g=0,m=s;g<m.length;g++){var y=m[g];!function(t){var i=t[e.parent.cardSettings.headerField],l=e.parent.actionModule.selectionArray.indexOf(i),s=e.renderCard(t);-1!==l&&(s.setAttribute("aria-selected","true"),n.i(r.addClass)([s],o.f));var d={data:t,element:s,cancel:!1};e.parent.trigger(a.f,d,function(e){e.cancel||h.appendChild(s)})}(y)}else h.appendChild(e.renderEmptyCard())}}(f)}0===p&&(s.push(i),l.length>0&&s.push(l[c]))}),this.parent.swimlaneSettings.showEmptyRow||0!==this.parent.kanbanData.length||this.parent.showEmptyColumn||s.forEach(function(e){return n.i(r.remove)(e)})},t.prototype.renderCard=function(e){var t=n.i(r.createElement)("div",{className:o.g,attrs:{"data-id":e[this.parent.cardSettings.headerField],"data-key":e[this.parent.keyField],"aria-selected":"false",tabindex:"-1",role:"option"}});if("auto"!==this.parent.cardHeight&&(t.style.height=n.i(r.formatUnit)(this.parent.cardHeight)),this.parent.cardSettings.template){n.i(r.addClass)([t],o._0);var i=this.parent.element.id+"_cardTemplate",a=this.parent.templateParser(this.parent.cardSettings.template)(e,this.parent,"cardTemplate",i,!1);n.i(r.append)(a,t)}else{var l=this.parent.enableTooltip?" "+o._9:"";if(this.parent.cardSettings.showHeader){var s=n.i(r.createElement)("div",{className:o._10}),d=n.i(r.createElement)("div",{className:o._11}),c=n.i(r.createElement)("div",{className:o._12+l,innerHTML:e[this.parent.cardSettings.headerField]||""});s.appendChild(d),d.appendChild(c),t.appendChild(s)}var p=n.i(r.createElement)("div",{className:o._13+l,innerHTML:e[this.parent.cardSettings.contentField]||""});if(t.appendChild(p),this.parent.cardSettings.tagsField&&e[this.parent.cardSettings.tagsField]){for(var u=n.i(r.createElement)("div",{className:o._14}),h=e[this.parent.cardSettings.tagsField].toString().split(","),f=0,g=h;f<g.length;f++){var m=g[f];u.appendChild(n.i(r.createElement)("div",{className:o._15+" "+o._16,innerHTML:m}))}t.appendChild(u)}if(this.parent.cardSettings.grabberField&&e[this.parent.cardSettings.grabberField]&&(n.i(r.addClass)([t],o._17),t.style.borderLeftColor=e[this.parent.cardSettings.grabberField]),this.parent.cardSettings.footerCssField){for(var y=n.i(r.createElement)("div",{className:o._18}),v=e[this.parent.cardSettings.footerCssField].split(","),b=0,S=v;b<S.length;b++){var C=S[b];y.appendChild(n.i(r.createElement)("div",{className:C.trim()+" "+o._19}))}t.appendChild(y)}}return t},t.prototype.renderEmptyCard=function(){return n.i(r.createElement)("span",{className:o._20,innerHTML:this.parent.localeObj.getConstant("noCard")})},t.prototype.renderColGroup=function(e){var t=this,i=n.i(r.createElement)("colgroup");this.parent.columns.forEach(function(e){if(t.isColumnVisible(e)){var l=t.parent.actionModule.columnToggleArray.indexOf(e.keyField.toString()),s=e.allowToggle&&!e.isExpanded,d=-1===l?s?o.B:"":o.B,c=n.i(r.createElement)("col",{className:d,attrs:{"data-key":e.keyField.toString()},styles:t.parent.isAdaptive?"width: "+(s?n.i(r.formatUnit)(a.t):n.i(r.formatUnit)(t.getWidth())):""});i.appendChild(c)}}),e.appendChild(i)},t.prototype.getRows=function(){var e=this,t=[];return this.parent.swimlaneSettings.keyField?(this.parent.kanbanData.map(function(i){if(e.parent.swimlaneSettings.showEmptyRow||!(n.i(r.isNullOrUndefined)(i[e.parent.keyField])||""===i[e.parent.keyField]||i[e.parent.keyField]&&-1===e.columnKeys.indexOf(i[e.parent.keyField].toString()))){var a=i[e.parent.swimlaneSettings.textField]||i[e.parent.swimlaneSettings.keyField],o=i[e.parent.swimlaneSettings.keyField];if(!i[e.parent.swimlaneSettings.keyField]){if(!e.parent.swimlaneSettings.showUnassignedRow)return;a=e.parent.localeObj.getConstant("unassigned"),o=""}t.push({keyField:o,textField:a})}}),t=t.filter(function(e,t,n){return t===n.map(function(e){return e.keyField}).indexOf(e.keyField)}),t=this.swimlaneSorting(t),t.forEach(function(t){t.count=e.parent.kanbanData.filter(function(n){return e.columnKeys.indexOf(n[e.parent.keyField])>-1&&n[e.parent.swimlaneSettings.keyField]===t.keyField}).length}),0===t.length&&t.push({keyField:"",textField:""})):t.push({keyField:"",textField:""}),t},t.prototype.swimlaneSorting=function(e){return this.parent.swimlaneSettings.sortComparer?e=this.parent.swimlaneSettings.sortComparer.call(this.parent,e):(e.sort(function(e,t){return e.textField.localeCompare(t.textField,void 0,{numeric:!0})}),"Descending"===this.parent.swimlaneSettings.sortDirection&&e.reverse()),e},t.prototype.createStackedRow=function(e){var t=n.i(r.createElement)("tr",{className:o.X+" "+o._21}),i=[];this.parent.columns.forEach(function(t){for(var n="",r=0,a=e;r<a.length;r++){var o=a[r];-1!==o.keyFields.indexOf(t.keyField.toString())&&(n=o.text)}i.push(n)});for(var a=0;a<i.length;a++){for(var l=1,s=a+1;s<i.length&&(""!==i[a]&&""!==i[s]&&i[a]===i[s]);s++)l++;var d=n.i(r.createElement)("div",{className:o._1,innerHTML:i[a]}),c=n.i(r.createElement)("th",{className:o.K+" "+o.L,attrs:{colspan:l.toString()}});t.appendChild(c).appendChild(d),a+=l-1}return t},t.prototype.scrollUiUpdate=function(){var e=this,t=this.parent.element.querySelector("."+o.d),i=this.parent.element.querySelector("."+o.e),l=this.parent.element.offsetHeight-t.offsetHeight;if(this.parent.isAdaptive){l=window.innerHeight-(t.offsetHeight+a.r);var s=this.parent.element.querySelector("."+o._7);s&&(l-=s.offsetHeight);[].slice.call(this.parent.element.querySelectorAll("."+o.w)).forEach(function(t){var i=t.querySelector("."+o.y);i.classList.contains(o.I)||(i.style.height=n.i(r.formatUnit)(l),r.EventHandler.add(t,"touchmove",e.onAdaptiveScroll,e))})}"auto"!==this.parent.height&&"100%"!==this.parent.height&&(i.style.height=n.i(r.formatUnit)(l)),[].slice.call(t.children).forEach(function(t){var a=0;i.offsetWidth-i.clientWidth>0&&(a=17,i.offsetHeight-i.clientHeight>0&&(t.style.width=n.i(r.formatUnit)(i.clientWidth))),e.parent.enableRtl?t.style.paddingLeft=n.i(r.formatUnit)(a):t.style.paddingRight=n.i(r.formatUnit)(a)}),this.updateScrollPosition()},t.prototype.onContentScroll=function(e){var t=e.target,i=this.parent.element.querySelector("."+o.d);[].slice.call(i.children).forEach(function(e){e.scrollLeft=t.scrollLeft}),this.parent.scrollPosition.content={left:t.scrollLeft,top:t.scrollTop},!n.i(r.isNullOrUndefined)(this.parent.swimlaneSettings.keyField)&&this.parent.swimlaneSettings.enableFrozenRows&&this.frozenRows(e)},t.prototype.addFrozenSwimlaneDataKey=function(e){var t=e.getAttribute("data-key");n.i(r.isNullOrUndefined)(t)||this.frozenSwimlaneRow.setAttribute("data-key",t)},t.prototype.frozenRows=function(e){var t=this.parent.element.querySelector("."+o.v),i=this.parent.element.querySelector("."+o.d),a=this.parent.element.querySelector("."+o.e);if(n.i(r.isNullOrUndefined)(this.frozenSwimlaneRow)){this.frozenSwimlaneRow=n.i(r.createElement)("div",{className:o.N});var l=n.i(r.createElement)("div",{className:o._22});this.frozenSwimlaneRow.appendChild(l),this.parent.element.insertBefore(this.frozenSwimlaneRow,this.parent.element.firstElementChild),l.appendChild(t.querySelector("."+o._7).cloneNode(!0)),this.addFrozenSwimlaneDataKey(t),n.i(r.setStyleAttribute)(this.frozenSwimlaneRow,{height:n.i(r.formatUnit)(t.getBoundingClientRect().height),width:n.i(r.formatUnit)(a.querySelector(".e-swimlane").getBoundingClientRect().width),top:n.i(r.formatUnit)(i.getBoundingClientRect().height.toString())}),n.i(r.setStyleAttribute)(i,{position:"relative",top:n.i(r.formatUnit)(-this.frozenSwimlaneRow.getBoundingClientRect().height)}),n.i(r.setStyleAttribute)(a,{position:"relative",top:n.i(r.formatUnit)(-this.frozenSwimlaneRow.getBoundingClientRect().height)})}else{var s=[].slice.call(this.parent.element.querySelectorAll("."+o.v)),d=s[this.frozenOrder],c=s[this.frozenOrder-1],p=s[this.frozenOrder+1],u=void 0,h=void 0,f=void 0;d&&(u=d.getBoundingClientRect().top+d.getBoundingClientRect().height),c&&(h=c.getBoundingClientRect().top+c.getBoundingClientRect().height),p&&(f=p.getBoundingClientRect().top+p.getBoundingClientRect().height);var g=a.getBoundingClientRect().top+this.frozenSwimlaneRow.getBoundingClientRect().height,m=this.frozenSwimlaneRow.querySelector("."+o._22);f&&g>=f&&this.frozenOrder<s.length-1?(m&&(n.i(r.remove)(m.querySelector("."+o._7)),m.appendChild(p.querySelector("."+o._7).cloneNode(!0)),this.addFrozenSwimlaneDataKey(p)),++this.frozenOrder):h&&g<u&&g>h&&this.frozenOrder>0&&(m&&(n.i(r.remove)(m.querySelector("."+o._7)),m.appendChild(c.querySelector("."+o._7).cloneNode(!0)),this.addFrozenSwimlaneDataKey(c)),--this.frozenOrder)}e&&0===e.target.scrollTop&&this.removeFrozenRows()},t.prototype.removeFrozenRows=function(){n.i(r.remove)(this.frozenSwimlaneRow),this.frozenSwimlaneRow=null;var e=this.parent.element.querySelector("."+o.d),t=this.parent.element.querySelector("."+o.e);n.i(r.setStyleAttribute)(e,{position:"",top:""}),n.i(r.setStyleAttribute)(t,{position:"",top:""}),this.parent.scrollPosition.content={left:this.parent.scrollPosition.content.left,top:0},t.scrollTop=0,this.frozenOrder=0},t.prototype.onColumnScroll=function(e){var t=e.target;if(t.offsetParent){var n=t.offsetParent.getAttribute("data-key");this.parent.scrollPosition.column[""+n]={left:t.scrollLeft,top:t.scrollTop}}},t.prototype.onAdaptiveScroll=function(e){this.parent.touchModule.tabHold&&!this.parent.touchModule.mobilePopup&&e.preventDefault()},t.prototype.isColumnVisible=function(e){var t=this,n=!1;return"number"==typeof e.keyField?n=-1===this.parent.actionModule.hideColumnKeys.indexOf(e.keyField.toString()):e.keyField.split(",").forEach(function(e){n=-1===t.parent.actionModule.hideColumnKeys.indexOf(e)}),n},t.prototype.renderLimits=function(e,t){var i=n.i(r.createElement)("div",{className:o.G});e.minCount&&i.appendChild(n.i(r.createElement)("div",{className:o._23,innerHTML:this.parent.localeObj.getConstant("min")+": "+e.minCount.toString()})),e.maxCount&&i.appendChild(n.i(r.createElement)("div",{className:o._24,innerHTML:this.parent.localeObj.getConstant("max")+": "+e.maxCount.toString()})),i.childElementCount>0&&(t.querySelector("."+o.y)?t.insertBefore(i,t.firstElementChild):t.appendChild(i))},t.prototype.renderValidation=function(){var e=this;this.parent.columns.forEach(function(t){if(t.minCount||t.maxCount){var i=e.columnData[t.keyField],a='[data-key="'+t.keyField+'"]',l=e.parent.element.querySelector("."+(o.K+a)),s=[].slice.call(e.parent.element.querySelectorAll("."+(o.w+a)));if("Swimlane"===e.parent.constraintType&&e.parent.swimlaneSettings.keyField)e.swimlaneRow.forEach(function(a,o){e.renderLimits(t,s[o]);var l=i.filter(function(t){return t[e.parent.swimlaneSettings.keyField]===a.keyField}),d=e.getValidationClass(t,l.length);d&&n.i(r.addClass)([s[o]],d)});else{e.renderLimits(t,l);var d=e.getValidationClass(t,i.length);d&&n.i(r.addClass)(s.concat(l),d)}}})},t.prototype.getValidationClass=function(e,t){var n;return e.maxCount&&t>e.maxCount?n=o._25:e.minCount&&t<e.minCount&&(n=o._26),n},t.prototype.refreshValidation=function(){[].slice.call(this.parent.element.querySelectorAll("."+o.G)).forEach(function(e){n.i(r.remove)(e)});var e=[].slice.call(this.parent.element.querySelectorAll("."+o._26));n.i(r.removeClass)(e,o._26);var t=[].slice.call(this.parent.element.querySelectorAll("."+o._25));n.i(r.removeClass)(t,o._25),this.renderValidation()},t.prototype.getColumnData=function(e,t){var n=this;void 0===t&&(t=this.parent.kanbanData);var r=[];if("number"==typeof e){var i=t.filter(function(t){return t[n.parent.keyField]===e});r=r.concat(i)}else for(var a=e.split(","),o=0,l=a;o<l.length;o++){var s=l[o];!function(e){var i=t.filter(function(t){return t[n.parent.keyField]===e.trim()});r=r.concat(i)}(s)}return this.sortCategory(r),r},t.prototype.sortCategory=function(e){var t=this.parent.cardSettings.headerField,n=this.parent.sortSettings.direction;switch(this.parent.sortSettings.sortBy){case"DataSourceOrder":this.sortOrder(t,n,e);break;case"Custom":case"Index":this.parent.sortSettings.field&&(t=this.parent.sortSettings.field),this.sortOrder(t,n,e)}return e},t.prototype.sortOrder=function(e,t,n){var r=!0;if(this.parent.kanbanData.length>0&&(r="number"==typeof this.parent.kanbanData[0][""+e]),!r&&"Index"===this.parent.sortSettings.sortBy)return n;var i,a;return n=n.sort(function(t,n){return r?(i=t[""+e],a=n[""+e]):(i=t[""+e].toLowerCase(),a=n[""+e].toLowerCase()),i>a?1:a>i?-1:0}),"Descending"===t&&n.reverse(),n},t.prototype.documentClick=function(e){if(e.target.classList.contains(o._27)&&this.parent.element.querySelector("."+o._28).classList.contains("e-popup-open")&&(this.treePopup.hide(),n.i(r.removeClass)([this.popupOverlay],"e-enable")),!n.i(r.closest)(e.target,"."+o.a)){var t=[].slice.call(this.parent.element.querySelectorAll("."+o.g+"."+o.f));n.i(r.removeClass)(t,o.f),this.disableAttributeSelection(t)}},t.prototype.disableAttributeSelection=function(e){e instanceof Element?e.setAttribute("aria-selected","false"):e.forEach(function(e){e.setAttribute("aria-selected","false")})},t.prototype.getColumnCards=function(e){var t=this,n={};return this.columnKeys=[],this.parent.columns.forEach(function(r){var i="number"==typeof r.keyField;t.columnKeys=i?t.columnKeys.concat(r.keyField.toString()):t.columnKeys.concat(r.keyField.split(",").map(function(e){return e.trim()}));var a=t.getColumnData(r.keyField,e);n[r.keyField]=a}),n},t.prototype.getSwimlaneCards=function(){var e=this,t={};return this.parent.swimlaneSettings.keyField&&this.kanbanRows.forEach(function(i){return t[i.keyField]=e.parent.kanbanData.filter(function(t){return!n.i(r.isNullOrUndefined)(t[e.parent.keyField])&&e.columnKeys.indexOf(t[e.parent.keyField].toString())>-1&&(!t[e.parent.swimlaneSettings.keyField]&&e.parent.swimlaneSettings.showUnassignedRow?"":t[e.parent.swimlaneSettings.keyField])===i.keyField})}),t},t.prototype.refreshHeaders=function(){var e=this.parent.element.querySelector("."+o.d);[].slice.call(e.children).forEach(function(e){return n.i(r.remove)(e)}),this.renderHeader(e)},t.prototype.refreshCards=function(){this.parent.resetTemplates(["cardTemplate"]),[].slice.call(this.parent.element.querySelectorAll("."+o.y)).forEach(function(e){return n.i(r.remove)(e)}),this.renderCards(),this.wireDragEvent(),this.parent.renderTemplates()},t.prototype.refresh=function(){var e=this,t=!1;if(this.parent.columns.forEach(function(n){if(n.showItemCount){n&&n.template&&!t&&(e.refreshHeaders(),t=!0);var r="."+o.K+'[data-key="'+n.keyField+'"] .'+o._2,i=e.parent.element.querySelector(r);if(i){var a="number"==typeof n.keyField,l=0;if(a)l=[].slice.call(e.parent.element.querySelectorAll("."+o.g+'[data-key="'+n.keyField+'"]')).length;else for(var s=n.keyField.split(","),d=0,c=s;d<c.length;d++){var p=c[d],u=[].slice.call(e.parent.element.querySelectorAll("."+o.g+'[data-key="'+p.trim()+'"]'));l=u.length+l}i.innerHTML="-"+l+""+e.parent.localeObj.getConstant("items")}}}),this.parent.swimlaneSettings.keyField){[].slice.call(this.parent.element.querySelectorAll("."+o.v)).forEach(function(t){var n=t.getAttribute("data-key"),r=t.querySelector("."+o._2);if(r&&n){var i=[].slice.call(t.nextElementSibling.querySelectorAll("."+o.g));r.innerHTML="-"+i.length+""+e.parent.localeObj.getConstant("items")}})}this.refreshValidation()},t.prototype.updateScrollPosition=function(){var e=this,t=this.parent.element.querySelector("."+o.e);t&&(r.Browser.isIE?(t.scrollTop=this.parent.scrollPosition.content.top,t.scrollLeft=this.parent.scrollPosition.content.left):t.scrollTo(this.parent.scrollPosition.content.left,this.parent.scrollPosition.content.top)),[].slice.call(this.parent.element.querySelectorAll("."+o.y)).forEach(function(t){if(t.offsetParent){var n=e.parent.scrollPosition.column[t.offsetParent.getAttribute("data-key")];n&&(r.Browser.isIE?(t.scrollTop=n.top,t.scrollLeft=n.left):t.scrollTo(n.left,n.top))}})},t.prototype.renderCardBasedOnIndex=function(e,t){var i=this,l=e[this.parent.keyField],s=this.parent.element.querySelector(".e-content-row:not(.e-swimlane-row)");if(this.parent.swimlaneSettings.keyField&&!this.parent.isAdaptive){var d='.e-content-row.e-swimlane-row[data-key="'+e[this.parent.swimlaneSettings.keyField]+'"]';if(this.parent.element.querySelector(d))s=this.parent.element.querySelector(d).nextElementSibling;else{if(-1!==this.columnKeys.indexOf(l)&&-1===this.parent.actionModule.hideColumnKeys.indexOf(l)){var c=this.kanbanRows.findIndex(function(t){return t.keyField===e[i.parent.swimlaneSettings.keyField]}),p=[].slice.call(this.parent.element.querySelectorAll(".e-swimlane-row")),u=this.parent.element.querySelector("."+o._3+" tbody");p[c]&&(u=p[c]),this.renderSwimlaneRow(u,this.kanbanRows[c],!1),this.renderSingleContent(u,this.kanbanRows[c],!1)}s=this.parent.element.querySelector(d).nextElementSibling,[].slice.call(s.children).forEach(function(e){var t=n.i(r.createElement)("div",{className:o.y});e.appendChild(t),t.appendChild(i.renderEmptyCard())})}}if("Index"!==this.parent.sortSettings.sortBy){var h=this.parent.cardSettings.headerField;if("Custom"===this.parent.sortSettings.sortBy&&(h=this.parent.sortSettings.field),n.i(r.isNullOrUndefined)(this.parent.swimlaneSettings.keyField))t=this.getColumnData(l,this.parent.kanbanData).findIndex(function(t){return t[""+h]===e[""+h]});else{var f=this.parent.getSwimlaneData(e[this.parent.swimlaneSettings.keyField]);t=this.getColumnData(l,f).findIndex(function(t){return t[""+h]===e[""+h]})}}else"Index"===this.parent.sortSettings.sortBy&&this.parent.sortSettings.field&&"Ascending"===this.parent.sortSettings.direction&&(t=e[this.parent.sortSettings.field]-1);if(s){var g=[].slice.call(s.children).filter(function(e){return-1!==e.getAttribute("data-key").replace(/\s/g,"").split(",").indexOf(l.toString().replace(/\s/g,""))})[0],m=g.querySelector("."+o.y),y=m.querySelector("."+o._20);y&&n.i(r.remove)(y);var v=this.renderCard(e);this.parent.allowDragAndDrop&&g.classList.contains(o._4)&&(this.parent.dragAndDropModule.wireDragEvents(v),n.i(r.addClass)([v],o.x));var b={data:e,element:v,cancel:!1};this.parent.trigger(a.f,b,function(e){e.cancel||(n.i(r.isNullOrUndefined)(t)||0===m.children.length?m.appendChild(v):m.insertBefore(v,m.childNodes[t]))})}},t.prototype.removeCard=function(e){var t=e[this.parent.cardSettings.headerField],i=this.parent.element.querySelector("."+o.g+'[data-id="'+t+'"]');this.isSelectedCard=!!i.classList.contains(o.f);var a=i.parentElement;i&&n.i(r.remove)(i),0===a.querySelectorAll("."+o.g+":not(."+o.o+")").length&&a.appendChild(this.renderEmptyCard())},t.prototype.wireEvents=function(){var e=this;r.EventHandler.add(this.parent.element,"click",this.parent.actionModule.clickHandler,this.parent.actionModule),r.EventHandler.add(this.parent.element,"dblclick",this.parent.actionModule.doubleClickHandler,this.parent.actionModule),r.EventHandler.add(document,r.Browser.touchStartEvent,this.documentClick,this);var t=this.parent.element.querySelector("."+o.e);r.EventHandler.add(t,"scroll",this.onContentScroll,this),[].slice.call(this.parent.element.querySelectorAll("."+o.y)).forEach(function(t){e.parent.isInitialRender&&t.offsetParent&&(e.parent.scrollPosition.column[t.offsetParent.getAttribute("data-key")]={left:0,top:0}),r.EventHandler.add(t,"scroll",e.onColumnScroll,e)}),this.parent.isAdaptive&&(this.parent.touchModule.wireTouchEvents(),t.scrollLeft=this.scrollLeft),this.wireDragEvent()},t.prototype.unWireEvents=function(){var e=this;r.EventHandler.remove(this.parent.element,"click",this.parent.actionModule.clickHandler),r.EventHandler.remove(this.parent.element,"dblclick",this.parent.actionModule.doubleClickHandler),r.EventHandler.remove(document,r.Browser.touchStartEvent,this.documentClick);var t=this.parent.element.querySelector("."+o.e);t&&(r.EventHandler.remove(t,"scroll",this.onContentScroll),this.parent.allowDragAndDrop&&this.unWireDragEvent());var n=[].slice.call(this.parent.element.querySelectorAll("."+o.y));n.length>0&&n.forEach(function(t){r.EventHandler.remove(t,"scroll",e.onColumnScroll)}),this.parent.isAdaptive&&this.parent.touchModule.unWireTouchEvents()},t.prototype.wireDragEvent=function(){var e=this;if(this.parent.allowDragAndDrop){var t=[].slice.call(this.parent.element.querySelectorAll("."+o.w+"."+o._4+" ."+o.g));n.i(r.addClass)(t,o.x),t.forEach(function(t){return e.parent.dragAndDropModule.wireDragEvents(t)})}},t.prototype.unWireDragEvent=function(){var e=this,t=[].slice.call(this.parent.element.querySelectorAll("."+o.w+"."+o._4+" ."+o.g));n.i(r.removeClass)(t,o.x),t.forEach(function(t){return e.parent.dragAndDropModule.unWireDragEvents(t)})},t.prototype.destroy=function(){this.parent.resetTemplates(),this.parent.off(a.q,this.initRender),this.parent.off(a.p,this.scrollUiUpdate),this.unWireEvents();var e=this.parent.element.querySelector("."+o.d);e&&n.i(r.remove)(e);var t=this.parent.element.querySelector("."+o.e);t&&n.i(r.remove)(t),this.treeViewObj&&(this.treeViewObj.destroy(),this.treeViewObj=null),this.treePopup&&(this.treePopup.destroy(),this.treePopup=null);var i=this.parent.element.querySelector("."+o._7);i&&n.i(r.remove)(i);var l=this.parent.element.querySelector("."+o._29);l&&n.i(r.remove)(l)},t}(i.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),i=(n.n(r),n(6)),a=(n.n(i),n(4)),o=n(2),l=n(1),s=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(e){function t(t){var n=e.call(this,t)||this;return n.parent=t,n.kanbanRows=[],n.scrollStatus={},n.offsets={},n.tempOffsets={},n.offsetKeys=[],n.columnKeys=[],n.scrollLeft=0,n.frozenOrder=0,n.parent.enableVirtualization&&(n.parent.on(o.q,n.initRender,n),n.parent.on(o.p,n.scrollUiUpdate,n)),n}return s(t,e),t.prototype.initRender=function(){if(this.isSwimlane=!n.i(r.isNullOrUndefined)(this.parent.swimlaneSettings.keyField)&&this.parent.swimlaneSettings.keyField.trim().length>1,this.query=this.parent.query instanceof i.Query?this.parent.query:new i.Query,0!==this.parent.columns.length){if(this.cardHeight=this.cardHeightCalculate(),this.columnData=this.getColumnCards(),this.kanbanRows=this.getRows(),this.parent.isAdaptive){var e=this.parent.element.querySelector("."+l.e);e&&(this.scrollLeft=e.scrollLeft)}this.destroy(),this.parent.on(o.q,this.initRender,this),this.parent.on(o.p,this.scrollUiUpdate,this);var t=n.i(r.createElement)("div",{className:l.d});this.parent.element.appendChild(t),this.renderHeader(t),this.isSwimlane||(this.renderContent(),this.renderCards()),this.renderValidation(),this.parent.renderTemplates(),this.parent.notify(o.p,{}),this.wireEvents(),this.parent.isInitialRender&&(this.parent.isInitialRender=!1)}},t.prototype.cardHeightCalculate=function(){return"auto"===this.parent.cardHeight?108:parseInt(n.i(r.formatUnit)(this.parent.cardHeight).split("px")[0],10)+8},t.prototype.renderHeader=function(e){var t=n.i(r.createElement)("div",{className:this.parent.swimlaneSettings.keyField?l.V:""});e.appendChild(t);var i=n.i(r.createElement)("table",{className:l.Q+" "+l.W,attrs:{role:"presentation"}});t.appendChild(i),this.renderColGroup(i);var a=n.i(r.createElement)("thead");i.appendChild(a),this.parent.stackedHeaders.length>0&&a.appendChild(this.createStackedRow(this.parent.stackedHeaders));var s=n.i(r.createElement)("tr",{className:l.X});a.appendChild(s);for(var d=this,c=0,p=this.parent.columns;c<p.length;c++){var u=p[c];!function(e){if(d.isColumnVisible(e)){var t=d.parent.actionModule.columnToggleArray.indexOf(e.keyField.toString()),i=n.i(r.createElement)("th",{className:-1===t?l.K:l.K+" "+l.B,attrs:{"data-role":"kanban-column","data-key":e.keyField.toString()}}),a=[];e.allowToggle&&(a.push(l.U),e.isExpanded||a.push(l.B)),n.i(r.addClass)([i],a);var c=n.i(r.createElement)("div",{className:l.Y});i.appendChild(c);var p=d.parent.dataModule.isRemote()?d.parent.columnDataCount[e.keyField]:d.columnData[e.keyField].length,u=n.i(r.createElement)("div",{className:l.Z});if(c.appendChild(u),e.template){var h={keyField:e.keyField,headerText:e.headerText,minCount:e.minCount,maxCount:e.maxCount,allowToggle:e.allowToggle,isExpanded:e.isExpanded,showItemCount:e.showItemCount,count:p};n.i(r.addClass)([i],l._0);var f=d.parent.element.id+"_columnTemplate",g=d.parent.templateParser(e.template)(h,d.parent,"columnTemplate",f,!1);n.i(r.append)(g,u)}else{var m=n.i(r.createElement)("div",{className:l._1,innerHTML:e.headerText});if(u.appendChild(m),e.showItemCount){var y=n.i(r.createElement)("div",{className:l._2,innerHTML:"- "+p.toString()+" "+d.parent.localeObj.getConstant("items")});u.appendChild(y)}}if(e.allowToggle){var v=!(!e.isExpanded||-1!==t),b=v?l.R:l.S,S=n.i(r.createElement)("div",{className:l.M+" "+l.l+" "+b,attrs:{tabindex:"0"}});S.setAttribute("aria-label",v?e.keyField+" Expand":e.keyField+" Collapse"),i.setAttribute("aria-expanded",v.toString()),c.appendChild(S)}var C=[{keyField:e.keyField,textField:e.headerText,count:p}],w={data:C,element:s,cancel:!1,requestType:"headerRow"};d.parent.trigger(o.g,w,function(e){e.cancel||s.appendChild(i)})}}(u)}},t.prototype.renderContent=function(){var e=n.i(r.createElement)("div",{className:l.e});this.parent.element.appendChild(e);var t=n.i(r.createElement)("div",{className:this.parent.swimlaneSettings.keyField?l.V:""});e.appendChild(t);var i=n.i(r.createElement)("table",{className:l.Q+" "+l._3,attrs:{role:"presentation"}});t.appendChild(i),this.renderColGroup(i);var a=n.i(r.createElement)("tbody");i.appendChild(a);for(var o=!1,s=0,d=this.kanbanRows;s<d.length;s++){var c=d[s];if(this.parent.swimlaneSettings.keyField&&0!==this.parent.swimlaneToggleArray.length){o=-1!==this.parent.swimlaneToggleArray.indexOf(c.keyField)}this.renderSingleContent(a,c,o)}},t.prototype.renderSingleContent=function(e,t,i){for(var a=i?l.s+" "+l.B:l.s,s=n.i(r.createElement)("tr",{className:a,attrs:{"aria-expanded":"true"}}),d=0,c=this.parent.columns;d<c.length;d++){var p=c[d];if(this.isColumnVisible(p)){var u=this.parent.actionModule.columnToggleArray.indexOf(p.keyField.toString()),h=-1===u?l.w:l.w+" "+l.B,f=(p.allowDrag?" "+l._4:"")+(p.allowDrop?" "+l.J+" "+l.x:""),g=n.i(r.createElement)("td",{className:h+f,attrs:{"data-role":"kanban-column","data-key":p.keyField.toString(),"aria-expanded":"true",tabindex:"0",role:"navigation"}});if(p.allowToggle&&!p.isExpanded||-1!==u){n.i(r.addClass)([g],l.B);var m=(p.showItemCount?"["+(this.parent.dataModule.isRemote()?this.parent.columnDataCount[p.keyField]:this.getColumnData(p.keyField).length)+"] ":"")+p.headerText;g.appendChild(n.i(r.createElement)("div",{className:l.T,innerHTML:m})),g.setAttribute("aria-expanded","false")}if(p.showAddButton){var y=n.i(r.createElement)("div",{className:l.H,attrs:{tabindex:"-1"}});y.appendChild(n.i(r.createElement)("div",{className:l._5+" "+l.l})),g.appendChild(y)}if(s.appendChild(g),this.parent.enableVirtualization){var v=this.parent.element.querySelector(".e-kanban-header").getBoundingClientRect().height;"auto"===this.parent.height?g.style.height=window.innerHeight-(v+this.parent.element.getBoundingClientRect().top+15)+"px":g.style.height=parseInt(n.i(r.formatUnit)(this.parent.height).split("px")[0],10)-(v+15)+"px"}}}var b=[{keyField:t.keyField,textField:t.textField,count:t.count}],S={data:b,element:s,cancel:!1,requestType:"contentRow"};this.parent.trigger(o.g,S,function(t){t.cancel||(e.classList.contains("e-swimlane-row")?e.insertAdjacentElement("beforebegin",s):e.appendChild(s))})},t.prototype.windowResize=function(){for(var e=this.parent.element.querySelectorAll("."+l.w),t=this.parent.element.querySelector(".e-kanban-header").getBoundingClientRect().height,i=0;i<e.length;i++)"auto"===this.parent.height?e[i].style.height=window.innerHeight-(t+this.parent.element.getBoundingClientRect().top+15)+"px":e[i].style.height=parseInt(n.i(r.formatUnit)(this.parent.height).split("px")[0],10)-(t+15)+"px"},t.prototype.refreshColumnData=function(e,t,i,a){var o=this,s=[].slice.call(this.parent.element.querySelectorAll(".e-content-row:not(.e-swimlane-row)")),d=("cardChanged"===i||"cardCreated"===i||"cardRemoved"===i)&&!n.i(r.isNullOrUndefined)(a);s.forEach(function(n,r){for(var i=0,a=o.parent.columns;i<a.length;i++){var s=a[i];!function(r){if(o.isColumnVisible(r)&&(r.keyField===e||r.keyField===t)||d){var i=0,a=[],s=o.getColumnCards()[r.keyField],c=o.parent.dataModule.isRemote()?o.parent.columnDataCount[r.keyField]:s.length,p=o.cardHeight*c;a=Array.apply(null,Array(c)).map(function(){return++i});var u=n.querySelector('[data-key="'+r.keyField+'"]'),h=Math.ceil(parseInt(u.style.height.split("px")[0],10)/o.cardHeight);o.offsets[1]=h*o.cardHeight;for(var f=1;f<a.length;f++)o.offsets[a[f]]=o.offsets[a[f-1]]+h*o.cardHeight,o.tempOffsets[a[f]]=0|o.offsets[a[f]-1];var g=u.querySelector("."+l.y),m=c%2==0?c-2:c-1,y=o.getInfoFromView(o.scrollStatus[r.keyField]),v=o.getTranslateY(y),b=g.querySelector("."+l.z);b.style.maxHeight=c*o.cardHeight+"px",o.setPadding(v,b,c),o.currentStatus={column:r.keyField,columnOverAllHeight:p,columnHeight:parseInt(u.style.height.split("px")[0],10),previousScrollTop:o.scrollStatus[r.keyField].currentScrollTop,currentScrollTop:g.scrollTop,scrollDirection:o.scrollStatus[r.keyField].scrollDirection,currentBlockIndex:o.scrollStatus[r.keyField].currentBlockIndex,oldBlockIndex:o.scrollStatus[r.keyField].oldBlockIndex,offsets:o.offsets,tempOffsets:o.tempOffsets,totalColumnData:c,singleIndexCardCount:h,maxBlock:m},o.scrollStatus[r.keyField]=o.currentStatus}}(s)}})},t.prototype.renderCards=function(){var e=this,t=(this.kanbanRows,[].slice.call(this.parent.element.querySelectorAll(".e-content-row:not(.e-swimlane-row)"))),i=[].slice.call(this.parent.element.querySelectorAll(".e-content-row.e-swimlane-row")),a=[],s=!1;t.forEach(function(t,d){for(var c=0,p=0,u=e.parent.columns;p<u.length;p++){var h=u[p];!function(i){if(e.isColumnVisible(i)){var a=0,d=[];e.offsets={},e.tempOffsets={};var p=e.columnData[i.keyField],u=e.parent.dataModule.isRemote()?e.parent.columnDataCount[i.keyField]:p.length;c+=u;var h=e.cardHeight*u+7,f=t.querySelector('[data-key="'+i.keyField+'"]'),g=Math.ceil(parseFloat(f.style.height.split("px")[0])/e.cardHeight),m=g>u?u:Math.floor(u/g);d=Array.apply(null,Array(u)).map(function(){return++a}),e.offsets[1]=g*e.cardHeight+7;for(var y=1;y<d.length;y++)e.offsets[d[y]]=e.offsets[d[y-1]]+g*e.cardHeight,e.tempOffsets[d[y]]=0|e.offsets[d[y]-1];var v=n.i(r.createElement)("div",{className:l.y,attrs:{role:"listbox"}}),b=n.i(r.createElement)("div",{className:l.z,attrs:{role:"listbox"}});v.appendChild(b);var S=m%2==0?m:m+1;if(e.currentStatus={column:i.keyField,columnOverAllHeight:h,columnHeight:parseInt(f.style.height.split("px")[0],10),previousScrollTop:null,currentScrollTop:v.scrollTop,scrollDirection:null,currentBlockIndex:[1,2],oldBlockIndex:[1,2],offsets:e.offsets,tempOffsets:e.tempOffsets,totalColumnData:u,singleIndexCardCount:g,maxBlock:S},e.scrollStatus[i.keyField]=e.currentStatus,i.transitionColumns.length>0&&(s=!0),!s&&n.i(r.isNullOrUndefined)(e.parent.swimlaneSettings.keyField)){var C=n.i(r.createElement)("div",{className:l.r});f.appendChild(C)}if(f.appendChild(v),u>0){for(var y=0;y<2*g&&y<p.length;y++)!function(t){var i=p[t][e.parent.cardSettings.headerField],a=e.parent.actionModule.selectionArray.indexOf(i),s=e.renderCard(p[t]);-1!==a&&(s.setAttribute("aria-selected","true"),n.i(r.addClass)([s],l.f));var d={data:p[t],element:s,cancel:!1};e.parent.trigger(o.f,d,function(e){e.cancel||b.appendChild(s)})}(y);b.style.maxHeight=e.cardHeight*u+"px"}else b.appendChild(e.renderEmptyCard());e.setPadding(0,b,u)}}(h)}0===c&&(a.push(t),i.length>0&&a.push(i[d]))}),this.parent.swimlaneSettings.showEmptyRow||0!==this.parent.kanbanData.length||this.parent.showEmptyColumn||a.forEach(function(e){return n.i(r.remove)(e)})},t.prototype.renderCard=function(e){var t=n.i(r.createElement)("div",{className:l.g,attrs:{"data-id":e[this.parent.cardSettings.headerField],"data-key":e[this.parent.keyField],"aria-selected":"false",tabindex:"-1",role:"option"}});if(t.style.height=this.cardHeight-8+"px",this.parent.cardSettings.template){n.i(r.addClass)([t],l._0);var i=this.parent.element.id+"_cardTemplate",a=this.parent.templateParser(this.parent.cardSettings.template)(e,this.parent,"cardTemplate",i,!1);n.i(r.append)(a,t)}else{var o=this.parent.enableTooltip?" "+l._9:"";if(this.parent.cardSettings.showHeader){var s=n.i(r.createElement)("div",{className:l._10}),d=n.i(r.createElement)("div",{className:l._11}),c=n.i(r.createElement)("div",{className:l._12+o,innerHTML:e[this.parent.cardSettings.headerField]||""});s.appendChild(d),d.appendChild(c),t.appendChild(s)}var p=n.i(r.createElement)("div",{className:l._13+o,innerHTML:e[this.parent.cardSettings.contentField]||""});if(t.appendChild(p),this.parent.cardSettings.tagsField&&e[this.parent.cardSettings.tagsField]){for(var u=n.i(r.createElement)("div",{className:l._14}),h=e[this.parent.cardSettings.tagsField].toString().split(","),f=0,g=h;f<g.length;f++){var m=g[f];u.appendChild(n.i(r.createElement)("div",{className:l._15+" "+l._16,innerHTML:m}))}t.appendChild(u)}if(this.parent.cardSettings.grabberField&&e[this.parent.cardSettings.grabberField]&&(n.i(r.addClass)([t],l._17),t.style.borderLeftColor=e[this.parent.cardSettings.grabberField]),this.parent.cardSettings.footerCssField){for(var y=n.i(r.createElement)("div",{className:l._18}),v=e[this.parent.cardSettings.footerCssField].split(","),b=0,S=v;b<S.length;b++){var C=S[b];y.appendChild(n.i(r.createElement)("div",{className:C.trim()+" "+l._19}))}t.appendChild(y)}}return t},t.prototype.renderEmptyCard=function(){return n.i(r.createElement)("span",{className:l._20,innerHTML:this.parent.localeObj.getConstant("noCard")})},t.prototype.renderColGroup=function(e){var t=this,i=n.i(r.createElement)("colgroup");this.parent.columns.forEach(function(e){if(t.isColumnVisible(e)){var a=t.parent.actionModule.columnToggleArray.indexOf(e.keyField.toString()),s=e.allowToggle&&!e.isExpanded,d=-1===a?s?l.B:"":l.B,c=n.i(r.createElement)("col",{className:d,attrs:{"data-key":e.keyField.toString()},styles:t.parent.isAdaptive?"width: "+(s?n.i(r.formatUnit)(o.t):n.i(r.formatUnit)(t.getWidth())):""});i.appendChild(c)}}),e.appendChild(i)},t.prototype.getRows=function(){var e=[];return e.push({keyField:"",textField:""}),e},t.prototype.createStackedRow=function(e){var t=n.i(r.createElement)("tr",{className:l.X+" "+l._21}),i=[];this.parent.columns.forEach(function(t){for(var n="",r=0,a=e;r<a.length;r++){var o=a[r];-1!==o.keyFields.indexOf(t.keyField.toString())&&(n=o.text)}i.push(n)});for(var a=0;a<i.length;a++){for(var o=1,s=a+1;s<i.length&&(""!==i[a]&&""!==i[s]&&i[a]===i[s]);s++)o++;var d=n.i(r.createElement)("div",{className:l._1,innerHTML:i[a]}),c=n.i(r.createElement)("th",{className:l.K+" "+l.L,attrs:{colspan:o.toString()}});t.appendChild(c).appendChild(d),a+=o-1}return t},t.prototype.scrollUiUpdate=function(){var e=this,t=this.parent.element.querySelector("."+l.d),i=this.parent.element.querySelector("."+l.e),a=this.parent.element.offsetHeight-t.offsetHeight;if(this.parent.isAdaptive){a=window.innerHeight-(t.offsetHeight+o.r);var s=this.parent.element.querySelector("."+l._7);s&&(a-=s.offsetHeight);[].slice.call(this.parent.element.querySelectorAll("."+l.w)).forEach(function(t){var i=t.querySelector("."+l.y);i.classList.contains(l.I)||(i.style.height=n.i(r.formatUnit)(a),r.EventHandler.add(t,"touchmove",e.onAdaptiveScroll,e))})}"auto"!==this.parent.height&&"100%"!==this.parent.height&&(i.style.height=n.i(r.formatUnit)(a)),[].slice.call(t.children).forEach(function(t){var a=0;i.offsetWidth-i.clientWidth>0&&(a=17,i.offsetHeight-i.clientHeight>0&&(t.style.width=n.i(r.formatUnit)(i.clientWidth))),e.parent.enableRtl?t.style.paddingLeft=n.i(r.formatUnit)(a):t.style.paddingRight=n.i(r.formatUnit)(a)}),this.updateScrollPosition()},t.prototype.onContentScroll=function(e){var t=e.target,n=this.parent.element.querySelector("."+l.d);[].slice.call(n.children).forEach(function(e){e.scrollLeft=t.scrollLeft}),this.parent.scrollPosition.content={left:t.scrollLeft,top:t.scrollTop}},t.prototype.getOffset=function(e,t){return Math.min(0|t.offsets[e],0|t.offsets[t.maxBlock])},t.prototype.getTranslateY=function(e){var t=(e.newBlockIndex[0]||1)-1,n=this.getOffset(t,e),r=this.getOffset(e.newBlockIndex[e.newBlockIndex.length-1],e);return n>e.currentScrollTop?this.getOffset(t-1,e):r<e.currentScrollTop+e.columnHeight?this.getOffset(t+1,e):n},t.prototype.setPadding=function(e,t,n,r,i){r&&"down"===i?(t.style.paddingTop=e+"px",t.style.paddingBottom="0px"):(t.style.paddingTop=e+"px",t.style.paddingBottom=this.cardHeight*n-e+"px")},t.prototype.getData=function(e,t,n,r){var a=this.query.clone(),o=new i.Predicate(e,"equal",t,!0);if(a.where(o),a.take(n),a.skip(r),a.addParams("KanbanVirtualScroll","KanbanVirtualScroll"),this.parent.dataSource&&"result"in this.parent.dataSource){return this.eventPromise({requestType:""},a).promise}return this.parent.dataModule.dataManager.executeQuery(a)},t.prototype.eventPromise=function(e,t){var n=this.getStateEventArgument(t),r=new i.Deferred;return n.updateData=r.resolve,n.action=e,r},t.prototype.getStateEventArgument=function(e){var t=new i.UrlAdaptor,a=new i.DataManager({url:"",adaptor:new i.UrlAdaptor}),o=t.processQuery(a,e),l=JSON.parse(o.data);return n.i(r.extend)(l,o.pvtData)},t.prototype.dataManagerSuccess=function(e,t,i,a){var l,s=this;return t?l=n.i(r.extend)([],n.i(r.isNullOrUndefined)(e.result.result)?e.result:e.result.result,null,!0):this.parent.trigger(o.h,e,function(e){l=n.i(r.extend)([],n.i(r.isNullOrUndefined)(e.result.result)?e.result:e.result.result,null,!0),s.parent.trigger(o.i,null,function(){return s.parent.hideSpinner()})}),l},t.prototype.dataManagerFailure=function(e){var t=this;this.parent.isDestroyed||this.parent.trigger(o.c,{error:e},function(){return t.parent.hideSpinner()})},t.prototype.onColScrollShowSkeleton=function(e){var t=e.target;if(!(this.parent.element.querySelectorAll(".e-card-skeleton-wrapper").length>0)){var n=t.parentElement.getAttribute("data-key"),r=this.scrollStatus[n].previousScrollTop,i=t.parentElement.clientHeight;(t.scrollTop-r>i||r-t.scrollTop>i)&&this.showSkeleton(t,this.scrollStatus[n].singleIndexCardCount)}},t.prototype.showSkeleton=function(e,t){var i=n.i(r.createElement)("div",{className:"e-card-virtual-skeleton-wrapper",attrs:{role:"listbox"}});e.parentElement.insertBefore(i,e),i.style.position="absolute",i.style.zIndex="10";for(var a=0;a<t;a++){var o=n.i(r.createElement)("div",{className:"e-card-skeleton-wrapper"}),l=n.i(r.createElement)("span",{className:"e-skeleton e-skeleton-text e-shimmer-wave"});l.style.height=this.cardHeight+"px",l.style.width=e.querySelector(".e-card").getBoundingClientRect().width+"px",o.appendChild(l),i.appendChild(o)}},t.prototype.hideSkeleton=function(e){setTimeout(function(){for(var t=e.querySelectorAll(".e-card-virtual-skeleton-wrapper"),i=0;i<t.length;i++)n.i(r.detach)(t[i])},50)},t.prototype.onColumnScroll=function(e){var t,i=this,a=e.target,o=a.scrollTop;if(a.offsetParent&&(t=a.offsetParent.getAttribute("data-key"),this.parent.scrollPosition.column[t]={left:a.scrollLeft,top:a.scrollTop}),this.parent.enableVirtualization){var s=a,d=0,c=this.getColumnCards()[t],p=this.parent.dataModule.isRemote()?this.parent.columnDataCount[t]:c.length;d+=p;var u=this.cardHeight*d,h=[],f=[];if(this.checkScrollDirection(t,o),"fast"===this.findScrollSpeed(a,t)&&o>u)return void this.hideSkeleton(s.parentElement);var g=this.scrollStatus[t].maxBlock,m=this.scrollStatus[t].currentBlockIndex.indexOf(g)>-1,y=e.timeStamp-this.scrollStatus[t].previousTimeStamps<300;if(m&&!n.i(r.isNullOrUndefined)(this.scrollStatus[t].previousTimeStamps)&&y)return void this.hideSkeleton(s.parentElement);this.scrollStatus[t].previousTimeStamps=e.timeStamp;var v=this.getInfoFromView(this.scrollStatus[t]);h=v.currentBlockIndex.filter(function(e){return-1===v.newBlockIndex.indexOf(e)}),f=v.newBlockIndex.filter(function(e){return-1===v.currentBlockIndex.indexOf(e)});var b=o+a.clientHeight>=u,S=b?u-s.querySelector("."+l.z).childElementCount*this.cardHeight:this.getTranslateY(v),C=s.querySelector("."+l.z);if(h.length>0){var w=void 0,E=void 0;1===h[0]?(w=0,E=h.length*this.scrollStatus[t].singleIndexCardCount-1):(w=(h[0]-1)*this.scrollStatus[t].singleIndexCardCount,E=w+h.length*this.scrollStatus[t].singleIndexCardCount),this.removeCardsOnScroll(C,"down"===this.scrollStatus[t].scrollDirection,w,E)}if(f.length>0)if(this.parent.dataModule.isRemote()){var k=(f[0]-1)*this.scrollStatus[t].singleIndexCardCount,O=[],x=this.getData(this.parent.keyField,t,this.scrollStatus[t].singleIndexCardCount*f.length,k);x.then(function(e){O=i.dataManagerSuccess(e),i.scrollCardInsert(t,C,a,o,s,"down"===i.scrollStatus[t].scrollDirection?0:O.length-1,!0,O,null)}).catch(function(e){return i.dataManagerFailure(e)})}else{var k="down"===this.scrollStatus[t].scrollDirection?(f[0]-1)*this.scrollStatus[t].singleIndexCardCount:(f[0]-1)*this.scrollStatus[t].singleIndexCardCount+this.scrollStatus[t].singleIndexCardCount*f.length-1,D="down"===this.scrollStatus[t].scrollDirection?k+this.scrollStatus[t].singleIndexCardCount*f.length:(f[0]-1)*this.scrollStatus[t].singleIndexCardCount;this.scrollCardInsert(t,C,a,o,s,k,!1,c,D)}this.scrollStatus[t].currentBlockIndex=this.scrollStatus[t].newBlockIndex,this.setPadding(S,C,p,b,this.scrollStatus[t].scrollDirection),v.currentBlockIndex=v.newBlockIndex,this.parent.renderTemplates(),this.hideSkeleton(s.parentElement)}},t.prototype.checkScrollDirection=function(e,t){this.scrollStatus[e].previousScrollTop=this.scrollStatus[e].currentScrollTop,this.scrollStatus[e].currentScrollTop=t,t>this.scrollStatus[e].previousScrollTop?this.scrollStatus[e].scrollDirection="down":this.scrollStatus[e].scrollDirection="up"},t.prototype.findScrollSpeed=function(e,t){return"down"===this.scrollStatus[t].scrollDirection&&e.scrollTop-this.scrollStatus[t].previousScrollTop>e.clientHeight?"fast":"up"===this.scrollStatus[t].scrollDirection&&this.scrollStatus[t].previousScrollTop-e.scrollTop>e.clientHeight?"fast":"slow"},t.prototype.removeCardsOnScroll=function(e,t,i,a){for(var o=i;o<a;o++){for(var s=t?e.firstChild:e.lastChild;!n.i(r.isNullOrUndefined)(s)&&(s.classList.contains(l.u)||s.classList.contains(l.t)||s.classList.contains(l.q)||s.classList.contains(l.o));)s=t?s.nextSibling:s.previousSibling;n.i(r.isNullOrUndefined)(s)||n.i(r.detach)(s)}},t.prototype.scrollCardInsert=function(e,t,i,a,s,d,c,p,u){var h=this,f=c?p.length:u,g=c?0:u;if(p.length>0){for(var m=this,y=d;"down"===this.scrollStatus[e].scrollDirection?y<f:y>=g;"down"===this.scrollStatus[e].scrollDirection?y++:y--)!function(i){if(!n.i(r.isNullOrUndefined)(p[i])){var a=p[i][m.parent.cardSettings.headerField],s=m.parent.actionModule.selectionArray.indexOf(a),d=m.renderCard(p[i]);-1!==s&&(d.setAttribute("aria-selected","true"),n.i(r.addClass)([d],l.f));var c={data:p[i],element:d,cancel:!1};m.parent.trigger(o.f,c,function(i){i.cancel||("down"===h.scrollStatus[e].scrollDirection?t.appendChild(d):t.insertBefore(d,t.firstChild),h.parent.dragAndDropModule.wireDragEvents(d),n.i(r.addClass)([d],l.x))})}}(y);i.scrollTop=a}else s.appendChild(this.renderEmptyCard())},t.prototype.ensureColumnNotEmpty=function(e){var t=this.scrollStatus[e].singleIndexCardCount,i=this.columnData[e],a=this.parent.element.querySelector('.e-content-row:not(.e-swimlane-row) [data-key="'+e+'"]'),o=a.querySelector("."+l.z),s=o.querySelectorAll("."+l.g);if(s.length>0){var d=s[s.length-1].getAttribute("data-id"),c=s[0].getAttribute("data-id"),p=void 0,u=void 0;if(s.length<2*t){for(var h=0;h<i.length;h++)d===i[h][this.parent.cardSettings.headerField].toString()&&(p=h),c===i[h][this.parent.cardSettings.headerField].toString()&&(u=h);for(var f=s.length,h=f;h<2*t;h++){var g=p===i.length-1,m=p<i.length?p+1:u-1;if(m<=i.length){var y=i[m];if(!n.i(r.isNullOrUndefined)(y)){var v=this.renderCard(y);this.triggerCardRendering(v,m,i,o,g),g?u=m:p=m}}}}}},t.prototype.triggerCardRendering=function(e,t,i,a,s){var d=this,c=i[t][this.parent.cardSettings.headerField];-1!==this.parent.actionModule.selectionArray.indexOf(c)&&(e.setAttribute("aria-selected","true"),n.i(r.addClass)([e],l.f));var p={data:i[t],element:e,cancel:!1};this.parent.trigger(o.f,p,function(t){t.cancel||(s?a.insertBefore(e,a.querySelectorAll("."+l.g)[0]):a.appendChild(e),d.parent.dragAndDropModule.wireDragEvents(e),n.i(r.addClass)([e],l.x))})},t.prototype.ensureBlocks=function(e){var t,n=e.newBlockIndex[e.block],r=Math.ceil(e.totalColumnData/e.singleIndexCardCount),i=Math.max;return t="down"===e.scrollDirection?n>=r?[i(n,1),--n,--n].reverse():n+1>=r?[i(n-1,1),n,++n]:[i(n,1),++n,++n]:n===r?[i(n-2,1),i(n-1,1),n]:[i(n-1,1),n,n+1],t.filter(function(e){return e>0})},t.prototype.getInfoFromView=function(e){var t=!1,n=e;n.page=this.getPageFromTop(e),n.newBlockIndex=this.getBlockIndexes(n.page);var r=this.ensureBlocks(n);if(n.newBlockIndex.toString()!==r.toString()){var i=r[r.length-1];-1===n.newBlockIndex.indexOf(i)&&(t=!0)}return n.newBlockIndex=t?r:n.newBlockIndex,n},t.prototype.getBlockIndexes=function(e){return[e+(e-1),2*e]},t.prototype.getPageFromTop=function(e){var t=this,n=e.totalColumnData,r=0;return this.offsetKeys=Object.keys(e.offsets),this.offsetKeys.some(function(i){var a=Number(i),o=e.currentScrollTop<=e.offsets[parseInt(i,10)]||a===n&&e.currentScrollTop>e.offsets[parseInt(i,10)];if(o){var l=Math.ceil(n/e.singleIndexCardCount);t.offsetKeys.length%2!=0&&a.toString()===t.offsetKeys[t.offsetKeys.length-2]&&e.currentScrollTop<=e.offsets[t.offsetKeys.length-1]&&(a=a+1>l?l:a+1),a=a>l?l:a,e.block=a%2==0?1:0,r=Math.max(1,Math.min(t.getPage(a,l),l))}return o}),r},t.prototype.getPage=function(e,t){return e+1>t?e%2==0?e/2:(e-1)/2:e%2==0?e/2:(e+1)/2},t.prototype.onAdaptiveScroll=function(e){this.parent.touchModule.tabHold&&!this.parent.touchModule.mobilePopup&&e.preventDefault()},t.prototype.isColumnVisible=function(e){var t=this,n=!1;return"number"==typeof e.keyField?n=-1===this.parent.actionModule.hideColumnKeys.indexOf(e.keyField.toString()):e.keyField.split(",").forEach(function(e){n=-1===t.parent.actionModule.hideColumnKeys.indexOf(e)}),n},t.prototype.renderLimits=function(e,t){var i=n.i(r.createElement)("div",{className:l.G});e.minCount&&i.appendChild(n.i(r.createElement)("div",{className:l._23,innerHTML:this.parent.localeObj.getConstant("min")+": "+e.minCount.toString()})),e.maxCount&&i.appendChild(n.i(r.createElement)("div",{className:l._24,innerHTML:this.parent.localeObj.getConstant("max")+": "+e.maxCount.toString()})),i.childElementCount>0&&(t.querySelector("."+l.y)?t.insertBefore(i,t.firstElementChild):t.appendChild(i))},t.prototype.renderValidation=function(){var e=this;this.parent.columns.forEach(function(t){if(t.minCount||t.maxCount){var i=e.columnData[t.keyField],a='[data-key="'+t.keyField+'"]',o=e.parent.element.querySelector("."+(l.K+a)),s=[].slice.call(e.parent.element.querySelectorAll("."+(l.w+a)));e.renderLimits(t,o);var d=e.getValidationClass(t,i.length);d&&n.i(r.addClass)(s.concat(o),d)}})},t.prototype.getValidationClass=function(e,t){var n;return e.maxCount&&t>e.maxCount?n=l._25:e.minCount&&t<e.minCount&&(n=l._26),n},t.prototype.refreshValidation=function(){[].slice.call(this.parent.element.querySelectorAll("."+l.G)).forEach(function(e){n.i(r.remove)(e)});var e=[].slice.call(this.parent.element.querySelectorAll("."+l._26));n.i(r.removeClass)(e,l._26);var t=[].slice.call(this.parent.element.querySelectorAll("."+l._25));n.i(r.removeClass)(t,l._25),this.renderValidation()},t.prototype.getColumnData=function(e,t){var n=this;void 0===t&&(t=this.parent.kanbanData);var r=[];if("number"==typeof e){var i=t.filter(function(t){return t[n.parent.keyField]===e});r=r.concat(i)}else for(var a=e.split(","),o=0,l=a;o<l.length;o++){var s=l[o];!function(e){var i=t.filter(function(t){return t[n.parent.keyField]===e.trim()});r=r.concat(i)}(s)}return this.sortCategory(r),r},t.prototype.sortCategory=function(e){var t=this.parent.cardSettings.headerField,n=this.parent.sortSettings.direction;switch(this.parent.sortSettings.sortBy){case"DataSourceOrder":this.sortOrder(t,n,e);break;case"Custom":case"Index":this.parent.sortSettings.field&&(t=this.parent.sortSettings.field),this.sortOrder(t,n,e)}return e},t.prototype.sortOrder=function(e,t,n){var r=!0;if(this.parent.kanbanData.length>0&&(r="number"==typeof this.parent.kanbanData[0][e]),!r&&"Index"===this.parent.sortSettings.sortBy)return n;var i,a;return n=n.sort(function(t,n){return r?(i=t[e],a=n[e]):(i=t[e].toLowerCase(),a=n[e].toLowerCase()),i>a?1:a>i?-1:0}),"Descending"===t&&n.reverse(),n},t.prototype.documentClick=function(e){if(e.target.classList.contains(l._27)&&this.parent.element.querySelector("."+l._28).classList.contains("e-popup-open")&&(this.treePopup.hide(),n.i(r.removeClass)([this.popupOverlay],"e-enable")),!n.i(r.closest)(e.target,"."+l.a)){var t=[].slice.call(this.parent.element.querySelectorAll("."+l.g+"."+l.f));n.i(r.removeClass)(t,l.f),this.disableAttributeSelection(t)}},t.prototype.disableAttributeSelection=function(e){e instanceof Element?e.setAttribute("aria-selected","false"):e.forEach(function(e){e.setAttribute("aria-selected","false")})},t.prototype.getColumnCards=function(e){var t=this,n={};return this.columnKeys=[],this.parent.columns.forEach(function(r){var i="number"==typeof r.keyField;t.columnKeys=i?t.columnKeys.concat(r.keyField.toString()):t.columnKeys.concat(r.keyField.split(",").map(function(e){return e.trim()}));var a=t.getColumnData(r.keyField,e);n[r.keyField]=a}),n},t.prototype.refreshHeaders=function(){var e=this.parent.element.querySelector("."+l.d);[].slice.call(e.children).forEach(function(e){return n.i(r.remove)(e)}),this.renderHeader(e)},t.prototype.refreshCards=function(){this.parent.resetTemplates(["cardTemplate"]),[].slice.call(this.parent.element.querySelectorAll("."+l.z)).forEach(function(e){return n.i(r.remove)(e)}),this.renderCards(),this.wireDragEvent(),this.parent.renderTemplates()},t.prototype.refresh=function(){var e=this,t=!1;this.parent.columns.forEach(function(n){if(n.showItemCount){n&&n.template&&!t&&(e.refreshHeaders(),t=!0);var r="."+l.K+'[data-key="'+n.keyField+'"] .'+l._2,i=e.parent.element.querySelector(r);if(i){var a=e.parent.dataModule.isRemote()?e.parent.columnDataCount[n.keyField]:e.columnData[n.keyField].length,o="number"==typeof n.keyField,s=0;if(o)s=[].slice.call(e.parent.element.querySelectorAll("."+l.g+"[data-key="+n.keyField+"]")).length;else for(var d=n.keyField.split(","),c=0,p=d;c<p.length;c++){var u=p[c],h=[].slice.call(e.parent.element.querySelectorAll("."+l.g+"[data-key="+u.trim()+"]"));s=h.length+s}i.innerHTML="- "+a+" "+e.parent.localeObj.getConstant("items")}}}),this.refreshValidation()},t.prototype.updateScrollPosition=function(){var e=this,t=this.parent.element.querySelector("."+l.e);t&&(r.Browser.isIE?(t.scrollTop=this.parent.scrollPosition.content.top,t.scrollLeft=this.parent.scrollPosition.content.left):t.scrollTo(this.parent.scrollPosition.content.left,this.parent.scrollPosition.content.top)),[].slice.call(this.parent.element.querySelectorAll("."+l.y)).forEach(function(t){if(t.offsetParent){var n=e.parent.scrollPosition.column[t.offsetParent.getAttribute("data-key")];n&&(r.Browser.isIE?(t.scrollTop=n.top,t.scrollLeft=n.left):t.scrollTo(n.left,n.top))}})},t.prototype.renderCardBasedOnIndex=function(e,t,i,a){var s=this,d=e[this.parent.keyField],c=this.parent.element.querySelector(".e-content-row:not(.e-swimlane-row)");if("Index"!==this.parent.sortSettings.sortBy){var p=this.parent.cardSettings.headerField;if("Custom"===this.parent.sortSettings.sortBy&&(p=this.parent.sortSettings.field),n.i(r.isNullOrUndefined)(this.parent.swimlaneSettings.keyField))t=this.getColumnData(d,this.parent.kanbanData).findIndex(function(t){return t[p]===e[p]});else{var u=this.parent.getSwimlaneData(e[this.parent.swimlaneSettings.keyField]);t=this.getColumnData(d,u).findIndex(function(t){return t[p]===e[p]})}}else"Index"===this.parent.sortSettings.sortBy&&this.parent.sortSettings.field&&"Ascending"===this.parent.sortSettings.direction&&(t=e[this.parent.sortSettings.field]-1);if(c){var h=[].slice.call(c.children).filter(function(e){return-1!==e.getAttribute("data-key").replace(/\s/g,"").split(",").indexOf(d.toString().replace(/\s/g,""))})[0],f=h.querySelector("."+l.z),g=f.querySelector("."+l._20);g&&n.i(r.remove)(g);var m=this.renderCard(e);this.parent.allowDragAndDrop&&h.classList.contains(l._4)&&(this.parent.dragAndDropModule.wireDragEvents(m),n.i(r.addClass)([m],l.x));var y={data:e,element:m,cancel:!1};this.parent.trigger(o.f,y,function(e){var o=!!i||f.childNodes.length<s.scrollStatus[d].singleIndexCardCount;(!e.cancel&&o||!n.i(r.isNullOrUndefined)(a))&&(n.i(r.isNullOrUndefined)(t)||0===f.children.length?f.appendChild(m):f.insertBefore(m,f.childNodes[t]))})}},t.prototype.removeCard=function(e){var t=e[this.parent.cardSettings.headerField],i=this.parent.element.querySelector("."+l.g+'[data-id="'+t+'"]');this.isSelectedCard=!!i.classList.contains(l.f);var a=i.parentElement;i&&n.i(r.remove)(i),0===a.querySelectorAll("."+l.g+":not(."+l.o+")").length&&a.appendChild(this.renderEmptyCard())},t.prototype.wireEvents=function(){var e=this;r.EventHandler.add(this.parent.element,"click",this.parent.actionModule.clickHandler,this.parent.actionModule),r.EventHandler.add(this.parent.element,"dblclick",this.parent.actionModule.doubleClickHandler,this.parent.actionModule),r.EventHandler.add(document,r.Browser.touchStartEvent,this.documentClick,this),window.addEventListener("resize",this.windowResize.bind(this));var t=this.parent.element.querySelector("."+l.e);r.EventHandler.add(t,"scroll",this.onContentScroll,this),[].slice.call(this.parent.element.querySelectorAll("."+l.y)).forEach(function(t){e.parent.isInitialRender&&t.offsetParent&&(e.parent.scrollPosition.column[t.offsetParent.getAttribute("data-key")]={left:0,top:0}),r.EventHandler.add(t,"scroll",e.onColScrollShowSkeleton,e),r.EventHandler.add(t,"scroll",n.i(r.debounce)(e.onColumnScroll,200),e)}),this.parent.isAdaptive&&(this.parent.touchModule.wireTouchEvents(),t.scrollLeft=this.scrollLeft),this.wireDragEvent()},t.prototype.unWireEvents=function(){var e=this;r.EventHandler.remove(this.parent.element,"click",this.parent.actionModule.clickHandler),r.EventHandler.remove(this.parent.element,"dblclick",this.parent.actionModule.doubleClickHandler),r.EventHandler.remove(document,r.Browser.touchStartEvent,this.documentClick),window.removeEventListener("resize",this.windowResize.bind(this));var t=this.parent.element.querySelector("."+l.e);t&&(r.EventHandler.remove(t,"scroll",this.onContentScroll),r.EventHandler.remove(t,"scroll",this.onColScrollShowSkeleton),this.parent.allowDragAndDrop&&this.unWireDragEvent());var i=[].slice.call(this.parent.element.querySelectorAll("."+l.y));i.length>0&&i.forEach(function(t){r.EventHandler.remove(t,"scroll",n.i(r.debounce)(e.onColumnScroll,200))}),this.parent.isAdaptive&&this.parent.touchModule.unWireTouchEvents()},t.prototype.wireDragEvent=function(){var e=this;if(this.parent.allowDragAndDrop){var t=[].slice.call(this.parent.element.querySelectorAll("."+l.w+"."+l._4+" ."+l.g));n.i(r.addClass)(t,l.x),t.length>0&&t.forEach(function(t){return e.parent.dragAndDropModule.wireDragEvents(t)})}},t.prototype.unWireDragEvent=function(){var e=this,t=[].slice.call(this.parent.element.querySelectorAll("."+l.w+"."+l._4+" ."+l.g));n.i(r.removeClass)(t,l.x),t.length>0&&t.forEach(function(t){return e.parent.dragAndDropModule.unWireDragEvents(t)})},t.prototype.destroy=function(){this.parent.resetTemplates(),this.parent.off(o.q,this.initRender),this.parent.off(o.p,this.scrollUiUpdate),this.unWireEvents();var e=this.parent.element.querySelector("."+l.d);e&&n.i(r.remove)(e);var t=this.parent.element.querySelector("."+l.e);t&&n.i(r.remove)(t),this.treeViewObj&&(this.treeViewObj.destroy(),this.treeViewObj=null),this.treePopup&&(this.treePopup.destroy(),this.treePopup=null);var i=this.parent.element.querySelector("."+l._7);i&&n.i(r.remove)(i);var a=this.parent.element.querySelector("."+l._29);a&&n.i(r.remove)(a)},t}(a.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=(n.n(r),this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),a=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([n.i(r.Property)(!0)],t.prototype,"showHeader",void 0),a([n.i(r.Property)()],t.prototype,"headerField",void 0),a([n.i(r.Property)()],t.prototype,"contentField",void 0),a([n.i(r.Property)()],t.prototype,"tagsField",void 0),a([n.i(r.Property)()],t.prototype,"grabberField",void 0),a([n.i(r.Property)()],t.prototype,"footerCssField",void 0),a([n.i(r.Property)()],t.prototype,"template",void 0),a([n.i(r.Property)("Single")],t.prototype,"selectionType",void 0),t}(r.ChildProperty)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=(n.n(r),this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),a=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([n.i(r.Property)()],t.prototype,"template",void 0),a([n.i(r.Property)([])],t.prototype,"fields",void 0),a([n.i(r.Property)(null)],t.prototype,"model",void 0),t}(r.ChildProperty)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=(n.n(r),this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),a=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([n.i(r.Property)("Index")],t.prototype,"sortBy",void 0),a([n.i(r.Property)()],t.prototype,"field",void 0),a([n.i(r.Property)("Ascending")],t.prototype,"direction",void 0),t}(r.ChildProperty)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=(n.n(r),this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),a=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([n.i(r.Property)()],t.prototype,"text",void 0),a([n.i(r.Property)()],t.prototype,"keyFields",void 0),t}(r.ChildProperty)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=(n.n(r),this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),a=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([n.i(r.Property)()],t.prototype,"keyField",void 0),a([n.i(r.Property)()],t.prototype,"textField",void 0),a([n.i(r.Property)(!1)],t.prototype,"showEmptyRow",void 0),a([n.i(r.Property)(!0)],t.prototype,"showItemCount",void 0),a([n.i(r.Property)(!1)],t.prototype,"allowDragAndDrop",void 0),a([n.i(r.Property)()],t.prototype,"template",void 0),a([n.i(r.Property)("Ascending")],t.prototype,"sortDirection",void 0),a([n.i(r.Property)()],t.prototype,"sortComparer",void 0),a([n.i(r.Property)(!0)],t.prototype,"showUnassignedRow",void 0),a([n.i(r.Property)(!1)],t.prototype,"enableFrozenRows",void 0),t}(r.ChildProperty)},function(e,t){e.exports=r},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t){e.exports=o}])});