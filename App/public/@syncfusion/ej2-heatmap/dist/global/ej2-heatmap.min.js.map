{"version":3,"file":"ej2-heatmap.min.js","sources":["../../src/heatmap/model/theme.js","../../src/heatmap/utils/helper.js","../../src/heatmap/model/base.js","../../src/heatmap/utils/colorMapping.js","../../src/heatmap/axis/axis.js","../../src/heatmap/axis/axis-helpers.js","../../src/heatmap/series/series.js","../../src/heatmap/utils/tooltip.js","../../src/heatmap/datasource/twodimensional.js","../../src/heatmap/legend/legend.js","../../src/heatmap/datasource/adaptor.js","../../src/heatmap/utils/export.js","../../src/heatmap/heatmap.js","../../src/global.js"],"sourcesContent":["/**\n * Specifies HeatMaps Themes\n */\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport var Theme;\n(function (Theme) {\n    /** @private */\n    Theme.heatMapTitleFont = {\n        size: '15px',\n        fontWeight: '500',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.titleFont = {\n        size: '13px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI',\n        textOverflow: 'None'\n    };\n    /** @private */\n    Theme.axisTitleFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.axisLabelFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI',\n        textOverflow: 'None'\n    };\n    /** @private */\n    Theme.legendLabelFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI',\n        textOverflow: 'None'\n    };\n    /** @private */\n    Theme.rectLabelFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI',\n        textOverflow: 'None'\n    };\n    /** @private */\n    Theme.tooltipFont = {\n        size: '13px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI',\n        textOverflow: 'None'\n    };\n})(Theme || (Theme = {}));\n/**\n * Functions to check whether target object implement specific interface.\n *\n * @param  { HeatMapTheme } theme - specifies the value.\n * @returns { IThemeStyle } returns the theme style\n * @private\n */\nexport function getThemeColor(theme) {\n    var style;\n    switch (theme.toLowerCase()) {\n        case 'highcontrastlight':\n        case 'highcontrast':\n            style = {\n                heatMapTitle: '#ffffff',\n                axisTitle: '#ffffff',\n                axisLabel: '#ffffff',\n                cellBorder: '#EEEEEE',\n                background: '#000000',\n                cellTextColor: '#000000',\n                toggledColor: '#000000',\n                emptyCellColor: '#EEEEEE',\n                legendLabel: '#ffffff',\n                palette: [{ 'color': '#BEE7EE' },\n                    { 'color': '#85c4cf' },\n                    { 'color': '#4CA1AF' }]\n            };\n            break;\n        case 'materialdark':\n        case 'fabricdark':\n        case 'bootstrapdark':\n            style = {\n                heatMapTitle: '#ffffff',\n                axisTitle: '#ffffff',\n                axisLabel: '#DADADA',\n                cellBorder: '#EEEEEE',\n                background: '#000000',\n                cellTextColor: '#000000',\n                toggledColor: '#000000',\n                emptyCellColor: '#EEEEEE',\n                legendLabel: '#ffffff',\n                palette: [{ 'color': '#BEE7EE' },\n                    { 'color': '#85c4cf' },\n                    { 'color': '#4CA1AF' }]\n            };\n            break;\n        case 'bootstrap4':\n            style = {\n                heatMapTitle: '#212529',\n                axisTitle: '#212529',\n                axisLabel: '#212529',\n                cellBorder: '#E9ECEF',\n                background: '#FFFFFF',\n                cellTextColor: '#212529',\n                toggledColor: '#ffffff',\n                emptyCellColor: '#E9ECEF',\n                legendLabel: '#212529',\n                palette: [{ 'color': '#BEE7EE' },\n                    { 'color': '#85c4cf' },\n                    { 'color': '#4CA1AF' }]\n            };\n            break;\n        case 'tailwind':\n            style = {\n                heatMapTitle: '#374151',\n                axisTitle: '#374151',\n                axisLabel: '#6B7280',\n                cellBorder: '#E5E7EB',\n                background: 'transparent',\n                cellTextColor: '#111827',\n                toggledColor: 'transparent',\n                emptyCellColor: '#E5E7EB',\n                legendLabel: '#374151',\n                palette: [{ 'color': '#5A61F6' },\n                    { 'color': '#65A30D' },\n                    { 'color': '#14B8A6' }]\n            };\n            break;\n        case 'tailwinddark':\n            style = {\n                heatMapTitle: '#D1D5DB',\n                axisTitle: '#D1D5DB',\n                axisLabel: '#9CA3AF',\n                cellBorder: '#4B5563',\n                background: 'transparent',\n                cellTextColor: '#FFFFFF',\n                toggledColor: 'transparent',\n                emptyCellColor: '#374151',\n                legendLabel: '#D1D5DB',\n                palette: [{ 'color': '#8B5CF6' },\n                    { 'color': '#22D3EE' },\n                    { 'color': '#F87171' }]\n            };\n            break;\n        case 'bootstrap5':\n            style = {\n                heatMapTitle: '#343A40',\n                axisTitle: '#343A40',\n                axisLabel: '#495057',\n                cellBorder: '#D1D5DB',\n                background: 'transparent',\n                cellTextColor: '#111827',\n                toggledColor: 'transparent',\n                emptyCellColor: '#E5E7EB',\n                legendLabel: '#343A40',\n                palette: [{ 'color': '#D7E7FF' },\n                    { 'color': '#0D6EFD' },\n                    { 'color': '#013889' }]\n            };\n            break;\n        case 'bootstrap5dark':\n            style = {\n                heatMapTitle: '#E9ECEF',\n                axisTitle: '#E9ECEF',\n                axisLabel: '#CED4DA',\n                cellBorder: '#4B5563',\n                background: 'transparent',\n                cellTextColor: '#FFFFFF',\n                toggledColor: 'transparent',\n                emptyCellColor: '#343A40',\n                legendLabel: '#E9ECEF',\n                palette: [{ 'color': '#A860F1' },\n                    { 'color': '#5ECB9B' },\n                    { 'color': '#557EF7' }]\n            };\n            break;\n        case 'fluent':\n            style = {\n                heatMapTitle: '#201F1E',\n                axisTitle: '#201F1E',\n                axisLabel: '#201F1E',\n                cellBorder: '#EDEBE9',\n                background: 'transparent',\n                cellTextColor: '#111827',\n                toggledColor: 'transparent',\n                emptyCellColor: '#EDEBE9',\n                legendLabel: '#201F1E',\n                palette: [{ 'color': '#EDEBE9' },\n                    { 'color': '#614570' },\n                    { 'color': '#4C6FB1' }]\n            };\n            break;\n        case 'fluentdark':\n            style = {\n                heatMapTitle: '#F3F2F1',\n                axisTitle: '#F3F2F1',\n                axisLabel: '#201F1E',\n                cellBorder: '#EDEBE9',\n                background: 'transparent',\n                cellTextColor: '#FFFFFF',\n                toggledColor: 'transparent',\n                emptyCellColor: '#292827',\n                legendLabel: '#F3F2F1',\n                palette: [{ 'color': '#292827' },\n                    { 'color': '#2A72D5' },\n                    { 'color': '#43B786' }]\n            };\n            break;\n        case 'material3':\n            style = {\n                heatMapTitle: '#1C1B1F',\n                axisTitle: '#1C1B1F',\n                axisLabel: '#1C1B1F',\n                cellBorder: '#C4C7C5',\n                background: 'transparent',\n                cellTextColor: '#1C1B1F',\n                toggledColor: '#F6F0FB',\n                emptyCellColor: '#F6F0FB',\n                legendLabel: '#49454E',\n                palette: [{ 'color': '#6200EE' },\n                    { 'color': '#E77A16' },\n                    { 'color': '#82C100' }]\n            };\n            break;\n        case 'material3dark':\n            style = {\n                heatMapTitle: '#E6E1E5',\n                axisTitle: '#E6E1E5',\n                axisLabel: '#E6E1E5',\n                cellBorder: '#444746',\n                background: 'transparent',\n                cellTextColor: '#E6E1E5',\n                toggledColor: '#49454F',\n                emptyCellColor: '#49454E',\n                legendLabel: '#CAC4D0',\n                palette: [{ 'color': '#4EAAFF' },\n                    { 'color': '#FA4EAB' },\n                    { 'color': '#FFF500' }]\n            };\n            break;\n        default:\n            style = {\n                heatMapTitle: '#424242',\n                axisTitle: '#424242',\n                axisLabel: '#686868',\n                cellBorder: '#EEEEEE',\n                cellTextColor: '#000000',\n                toggledColor: '#ffffff',\n                background: '#FFFFFF',\n                emptyCellColor: '#EEEEEE',\n                legendLabel: '#353535',\n                palette: [{ 'color': '#BEE7EE' },\n                    { 'color': '#85c4cf' },\n                    { 'color': '#4CA1AF' }]\n            };\n            break;\n    }\n    return style;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { remove, createElement, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { SvgRenderer } from '@syncfusion/ej2-svg-base';\nimport { RgbColor } from '../utils/colorMapping';\n/**\n * Function to check whether target object implement specific interface\n *\n * @param  {string} value - specifies the value\n * @param  {number} containerSize - specifies the containerSize\n * @returns {number} returns the number\n * @hidden\n */\nexport function stringToNumber(value, containerSize) {\n    if (value !== null && value !== undefined) {\n        return value.indexOf('%') !== -1 ? (containerSize / 100) * parseInt(value, 10) : parseInt(value, 10);\n    }\n    return null;\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param  {string} text - specifies the text\n * @param  {FontModel} font - specifies the font\n * @returns {Size} returns the number\n * @hidden\n */\nexport function measureText(text, font) {\n    var htmlObject = document.getElementById('heatmapmeasuretext');\n    if (htmlObject === null) {\n        htmlObject = createElement('text', { id: 'heatmapmeasuretext' });\n        document.body.appendChild(htmlObject);\n    }\n    htmlObject.innerText = text;\n    htmlObject.style.position = 'absolute';\n    htmlObject.style.visibility = 'hidden';\n    htmlObject.style.fontSize = (font.size).indexOf('px') !== -1 ? font.size : font.size + 'px';\n    htmlObject.style.fontWeight = font.fontWeight;\n    htmlObject.style.fontStyle = font.fontStyle;\n    htmlObject.style.fontFamily = font.fontFamily;\n    htmlObject.style.top = '-100';\n    htmlObject.style.left = '0';\n    htmlObject.style.whiteSpace = 'nowrap';\n    // For bootstrap line height issue\n    htmlObject.style.lineHeight = 'normal';\n    return new Size(htmlObject.clientWidth, htmlObject.clientHeight);\n}\n/** @private */\nvar TextElement = /** @class */ (function () {\n    function TextElement(fontModel, fontColor) {\n        this['font-size'] = fontModel.size;\n        this['font-style'] = fontModel.fontStyle.toLowerCase();\n        this['font-family'] = fontModel.fontFamily;\n        this['font-weight'] = fontModel.fontWeight.toLowerCase();\n        this.fill = fontColor ? fontColor : '';\n    }\n    return TextElement;\n}());\nexport { TextElement };\n/**\n * Function to check whether target object implement specific interface\n *\n * @param  {number} width - specifies the text\n * @param  {number} leftPadding - specifies the font\n * @param  {number} rightPadding - specifies the font\n * @param  {FontModel} titleStyle - specifies the font\n * @returns {number} returns the number\n * @hidden\n */\nexport function titlePositionX(width, leftPadding, rightPadding, titleStyle) {\n    var positionX;\n    if (titleStyle.textAlignment === 'Near') {\n        positionX = leftPadding;\n    }\n    else if (titleStyle.textAlignment === 'Center') {\n        positionX = leftPadding + width / 2;\n    }\n    else {\n        positionX = width + leftPadding;\n    }\n    return positionX;\n}\n/**\n * Specifies the size information of an element.\n */\nvar Size = /** @class */ (function () {\n    /** @private */\n    function Size(width, height) {\n        this.width = width;\n        this.height = height;\n    }\n    return Size;\n}());\nexport { Size };\n/** @private */\nvar CustomizeOption = /** @class */ (function () {\n    function CustomizeOption(id) {\n        this.id = id;\n    }\n    return CustomizeOption;\n}());\nexport { CustomizeOption };\n/** @private */\nvar PathOption = /** @class */ (function (_super) {\n    __extends(PathOption, _super);\n    function PathOption(id, fill, width, color, opacity, dashArray, d) {\n        var _this = _super.call(this, id) || this;\n        _this.opacity = opacity;\n        _this.fill = fill;\n        _this.stroke = color ? color : '';\n        _this['stroke-width'] = parseFloat(width.toString());\n        _this['stroke-dasharray'] = dashArray;\n        _this.d = d;\n        return _this;\n    }\n    return PathOption;\n}(CustomizeOption));\nexport { PathOption };\n/**\n * Class to define currentRect private property.\n *\n * @private\n */\nvar CurrentRect = /** @class */ (function () {\n    function CurrentRect(x, y, width, height, value, id, xIndex, yIndex, xValue, yValue, visible, displayText, textId, allowCollection) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.value = value;\n        this.id = id;\n        this.xIndex = xIndex;\n        this.yIndex = yIndex;\n        this.xValue = xValue;\n        this.yValue = yValue;\n        this.visible = visible;\n        this.displayText = displayText;\n        this.textId = textId;\n        /** @private */\n        this.allowCollection = allowCollection;\n    }\n    return CurrentRect;\n}());\nexport { CurrentRect };\n/**\n * Specifies the details of the selected cells.\n */\nvar SelectedCellDetails = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function SelectedCellDetails(value, xLabel, yLabel, xValue, yValue, cellElement, xPosition, yPosition, width, height, x, y) {\n        this.value = value;\n        this.xLabel = xLabel;\n        this.yLabel = yLabel;\n        this.xValue = xValue;\n        this.yValue = yValue;\n        this.cellElement = cellElement;\n        this.xPosition = xPosition;\n        this.yPosition = yPosition;\n        this.width = width;\n        this.height = height;\n        this.x = x;\n        this.y = y;\n    }\n    return SelectedCellDetails;\n}());\nexport { SelectedCellDetails };\n/**\n * Class to define property to draw rectangle.\n *\n * @private\n */\nvar RectOption = /** @class */ (function (_super) {\n    __extends(RectOption, _super);\n    function RectOption(id, fill, border, opacity, rect, borderColor, rx, ry, transform, dashArray) {\n        var _this = _super.call(this, id, fill, border.width, borderColor, opacity, dashArray) || this;\n        _this.y = rect.y;\n        _this.x = rect.x;\n        _this.height = rect.height > 0 ? rect.height : 0;\n        _this.width = rect.width > 0 ? rect.width : 0;\n        _this.rx = rx ? rx : 0;\n        _this.ry = ry ? ry : 0;\n        _this.transform = transform ? transform : '';\n        return _this;\n    }\n    return RectOption;\n}(PathOption));\nexport { RectOption };\n/**\n * Class to define property to draw circle.\n *\n * @private\n */\nvar CircleOption = /** @class */ (function (_super) {\n    __extends(CircleOption, _super);\n    function CircleOption(id, fill, border, opacity, borderColor, cx, cy, r) {\n        var _this = _super.call(this, id, fill, border.width, borderColor, opacity) || this;\n        _this.cx = cx ? cx : 0;\n        _this.cy = cy ? cy : 0;\n        _this.r = r ? r : 0;\n        return _this;\n    }\n    return CircleOption;\n}(PathOption));\nexport { CircleOption };\n/**\n * Helper Class to define property to draw rectangle.\n *\n * @private\n */\nvar Rect = /** @class */ (function () {\n    function Rect(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n    return Rect;\n}());\nexport { Rect };\n/**\n * Class to define property to draw text.\n *\n * @private\n */\nvar TextOption = /** @class */ (function (_super) {\n    __extends(TextOption, _super);\n    function TextOption(id, basic, element, fontColor) {\n        var _this = _super.call(this, element, fontColor) || this;\n        _this.transform = '';\n        _this['dominant-baseline'] = 'auto';\n        _this.labelRotation = 0;\n        _this.baseline = 'auto';\n        _this.id = id;\n        _this.x = basic.x;\n        _this.y = basic.y;\n        _this['text-anchor'] = basic['text-anchor'];\n        _this.text = basic.text;\n        _this.transform = basic.transform;\n        _this.labelRotation = basic.labelRotation;\n        _this['dominant-baseline'] = basic['dominant-baseline'];\n        _this.baseline = basic.baseline;\n        _this.dy = basic.dy;\n        return _this;\n    }\n    return TextOption;\n}(TextElement));\nexport { TextOption };\n/**\n * Helper Class to define property to draw text.\n *\n * @private\n */\nvar TextBasic = /** @class */ (function () {\n    function TextBasic(x, y, anchor, text, labelRotation, transform, baseLine, dy) {\n        this.transform = '';\n        this['dominant-baseline'] = 'auto';\n        this.labelRotation = 0;\n        this.baseline = 'auto';\n        this.x = x ? x : 0;\n        this.y = y ? y : 0;\n        this['text-anchor'] = anchor ? anchor : 'start';\n        this.text = text ? text : '';\n        this.transform = transform ? transform : '';\n        this.labelRotation = labelRotation;\n        this['dominant-baseline'] = baseLine ? baseLine : 'auto';\n        this.baseline = baseLine ? baseLine : '';\n        this.dy = dy ? dy : '';\n    }\n    return TextBasic;\n}());\nexport { TextBasic };\n/**\n * Class to define property to draw line.\n *\n * @private\n */\nvar Line = /** @class */ (function () {\n    function Line(x1, y1, x2, y2) {\n        this.x1 = x1;\n        this.y1 = y1;\n        this.x2 = x2;\n        this.y2 = y2;\n    }\n    return Line;\n}());\nexport { Line };\n/**\n * Class to define property to draw line.\n *\n * @private\n */\nvar LineOption = /** @class */ (function (_super) {\n    __extends(LineOption, _super);\n    function LineOption(id, line, stroke, strokewidth, opacity, dasharray) {\n        var _this = _super.call(this, id, null, strokewidth, stroke, opacity, dasharray, null) || this;\n        _this.x1 = line.x1;\n        _this.y1 = line.y1;\n        _this.x2 = line.x2;\n        _this.y2 = line.y2;\n        return _this;\n    }\n    return LineOption;\n}(PathOption));\nexport { LineOption };\n/**\n * Properties required to render path.\n *\n * @private\n */\nvar PathAttributes = /** @class */ (function (_super) {\n    __extends(PathAttributes, _super);\n    function PathAttributes(id, path, fill, border, borderWidth, opacity, borderColor) {\n        var _this = _super.call(this, id, fill, borderWidth, borderColor, opacity, null) || this;\n        _this.d = path.d;\n        _this.x = path.x;\n        _this.y = path.y;\n        return _this;\n    }\n    return PathAttributes;\n}(PathOption));\nexport { PathAttributes };\n/**\n * Helper Class to define property to path.\n *\n * @private\n */\nvar Path = /** @class */ (function () {\n    function Path(d, innerR, x, y, x1, y1, cx, cy, start, end, radius, counterClockWise) {\n        this.d = d;\n        this.innerR = innerR;\n        this.cx = cx;\n        this.cy = cy;\n        this.x = x;\n        this.y = y;\n        this.x1 = x1;\n        this.y1 = y1;\n        this.start = start;\n        this.end = end;\n        this.radius = radius;\n        this.counterClockWise = counterClockWise;\n    }\n    return Path;\n}());\nexport { Path };\n/**\n * Function to check whether target object implement specific interface\n *\n * @param  {number} values - specifies the values\n * @returns {number} returns the number\n * @hidden\n */\nexport function sum(values) {\n    var sum = 0;\n    for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n        var value = values_1[_i];\n        sum += value;\n    }\n    return sum;\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { Size } heatmapSize - Specifies the heatmapsize\n * @param { number } topPadding - Specifies the topPadding\n * @param { number }  bottomPadding - Specifies the bottomPadding\n * @param { FontModel } titleStyle - Specifies the titleStyle\n * @returns {number} returns the number\n * @private\n */\nexport function titlePositionY(heatmapSize, topPadding, bottomPadding, titleStyle) {\n    var positionY;\n    if (titleStyle.textAlignment === 'Near') {\n        positionY = heatmapSize.height - bottomPadding;\n    }\n    else if (titleStyle.textAlignment === 'Center') {\n        positionY = heatmapSize.height / 2;\n    }\n    else {\n        positionY = topPadding;\n    }\n    return positionY;\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { FontModel } font - Specifies the heatmapsize\n * @param { string } text - Specifies the topPadding\n * @param { number }  angle - Specifies the bottomPadding\n * @returns {Size} returns the size\n * @private\n */\nexport function rotateTextSize(font, text, angle) {\n    var renderer = new SvgRenderer('heatmapMeasureRotateText');\n    var svgObject = renderer.createSvg({ id: 'heatmapMeasureRotateText_svg', width: 100, height: 100 });\n    var options = {\n        'font-size': font.size,\n        'font-style': font.fontStyle.toLowerCase(),\n        'font-family': font.fontFamily,\n        'font-weight': font.fontWeight.toLowerCase(),\n        'transform': 'rotate(' + angle + ', 0, 0)',\n        'text-anchor': 'middle'\n    };\n    var htmlObject = renderer.createText(options, text);\n    svgObject.appendChild(htmlObject);\n    document.body.appendChild(svgObject);\n    var box = htmlObject.getBoundingClientRect();\n    remove(svgObject);\n    return new Size((box.right - box.left), (box.bottom - box.top));\n}\n/**\n * Class to draw SVG and Canvas Rectangle & Text.\n *\n * @private\n */\nvar DrawSvgCanvas = /** @class */ (function () {\n    function DrawSvgCanvas(heatmap) {\n        this.heatMap = heatmap;\n    }\n    //Svg & Canvas Rectangle Part\n    DrawSvgCanvas.prototype.drawRectangle = function (properties, parentElement, isFromSeries) {\n        if (!this.heatMap.enableCanvasRendering) {\n            delete properties.d;\n            parentElement.appendChild(this.heatMap.renderer.drawRectangle(properties));\n        }\n        else {\n            this.drawCanvasRectangle(this.heatMap.canvasRenderer, properties, isFromSeries);\n        }\n    };\n    //Svg & Canvas Bubble Part\n    DrawSvgCanvas.prototype.drawCircle = function (properties, parentElement) {\n        if (!this.heatMap.enableCanvasRendering) {\n            delete properties.d;\n            parentElement.appendChild(this.heatMap.renderer.drawCircle(properties));\n        }\n        else {\n            this.drawCanvasCircle(this.heatMap.canvasRenderer, properties);\n        }\n    };\n    //Svg & Canvas Pie Part\n    DrawSvgCanvas.prototype.drawPath = function (properties, options, parentElement) {\n        if (!this.heatMap.enableCanvasRendering) {\n            delete properties.x;\n            delete properties.y;\n            parentElement.appendChild(this.heatMap.renderer.drawPath(properties));\n        }\n        else {\n            this.drawCanvasPath(this.heatMap.canvasRenderer, properties, options);\n        }\n    };\n    //Svg & Canvas Text Part\n    DrawSvgCanvas.prototype.createText = function (properties, parentElement, text) {\n        if (!this.heatMap.enableCanvasRendering) {\n            delete properties.labelRotation;\n            delete properties.baseline;\n            delete properties.text;\n            parentElement.appendChild(this.heatMap.renderer.createText(properties, text));\n            properties.text = text;\n        }\n        else {\n            this.canvasDrawText(properties, text);\n        }\n    };\n    //Draw the wrapped text for both SVG & canvas\n    DrawSvgCanvas.prototype.createWrapText = function (options, font, parentElement) {\n        var renderOptions = {};\n        var htmlObject;\n        var tspanElement;\n        var height;\n        renderOptions = {\n            'id': options.id,\n            'x': options.x,\n            'y': options.y,\n            'fill': options.fill,\n            'font-size': font.size,\n            'font-style': font.fontStyle,\n            'font-family': font.fontFamily,\n            'font-weight': font.fontWeight.toLowerCase(),\n            'text-anchor': options['text-anchor'],\n            'transform': options.transform,\n            'dominant-baseline': options['dominant-baseline']\n        };\n        var text = options.text[0];\n        if (!this.heatMap.enableCanvasRendering) {\n            htmlObject = this.heatMap.renderer.createText(renderOptions, text);\n        }\n        else {\n            this.heatMap.canvasRenderer.createText(options, text);\n        }\n        if (typeof options.text !== 'string' && options.text.length > 1) {\n            for (var i = 1, len = options.text.length; i < len; i++) {\n                height = (measureText(options.text[i], font).height);\n                if (!this.heatMap.enableCanvasRendering) {\n                    tspanElement = this.heatMap.renderer.createTSpan({\n                        'x': options.x, 'id': options.id + i,\n                        'y': (options.y) + (i * height)\n                    }, options.text[i]);\n                    htmlObject.appendChild(tspanElement);\n                }\n                else {\n                    options.id = options.id + i;\n                    options.y += height;\n                    this.heatMap.canvasRenderer.createText(options, options.text[i]);\n                }\n            }\n        }\n        if (!this.heatMap.enableCanvasRendering) {\n            parentElement.appendChild(htmlObject);\n        }\n    };\n    DrawSvgCanvas.prototype.drawLine = function (properties, parentElement) {\n        if (!this.heatMap.enableCanvasRendering) {\n            delete properties.d;\n            parentElement.appendChild(this.heatMap.renderer.drawLine(properties));\n        }\n        else {\n            this.heatMap.canvasRenderer.drawLine(properties);\n        }\n    };\n    //Canvas Text Part\n    DrawSvgCanvas.prototype.canvasDrawText = function (options, label, translateX, translateY) {\n        var ctx = this.heatMap.canvasRenderer.ctx;\n        if (!translateX) {\n            translateX = options.x;\n        }\n        if (!translateY) {\n            translateY = options.y;\n        }\n        var fontWeight = this.getOptionValue(options, 'font-weight');\n        if (!isNullOrUndefined(fontWeight) && fontWeight.toLowerCase() === 'regular') {\n            fontWeight = 'normal';\n        }\n        var fontFamily = this.getOptionValue(options, 'font-family');\n        var fontSize = (options['font-size'].toString()).indexOf('px') === -1 ? options['font-size'] + 'px' : options['font-size'];\n        var anchor = this.getOptionValue(options, 'text-anchor');\n        var fontStyle = this.getOptionValue(options, 'font-style').toLowerCase();\n        var font = (fontStyle + ' ' + fontWeight + ' ' + fontSize + ' ' + fontFamily);\n        if (anchor === 'middle') {\n            anchor = 'center';\n        }\n        ctx.save();\n        ctx.fillStyle = options.fill;\n        ctx.font = font;\n        ctx.textAlign = anchor;\n        if (options.baseline) {\n            ctx.textBaseline = options.baseline;\n        }\n        ctx.translate(translateX, translateY);\n        ctx.rotate(options.labelRotation * Math.PI / 180);\n        ctx.fillText(label, options.x - translateX, options.y - translateY);\n        ctx.restore();\n    };\n    // method to get the attributes value\n    /* tslint:disable */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    DrawSvgCanvas.prototype.getOptionValue = function (options, key) {\n        return options[key];\n    };\n    DrawSvgCanvas.prototype.setAttributes = function (canvas, options) {\n        canvas.ctx.lineWidth = options['stroke-width'];\n        var dashArray = options['stroke-dasharray'];\n        if (!isNullOrUndefined(dashArray)) {\n            var dashArrayString = dashArray.split(',');\n            canvas.ctx.setLineDash([parseInt(dashArrayString[0], 10), parseInt(dashArrayString[1], 10)]);\n        }\n        canvas.ctx.strokeStyle = options['stroke'];\n    };\n    DrawSvgCanvas.prototype.drawCanvasRectangle = function (canvas, options, isFromSeries) {\n        var canvasCtx = canvas.ctx;\n        canvas.ctx.save();\n        canvas.ctx.beginPath();\n        canvas.ctx.globalAlpha = options['opacity'];\n        this.setAttributes(canvas, options);\n        this.drawCornerRadius(canvas, options);\n        if ((options['stroke-width'] && options['stroke-width'] !== 0) || isFromSeries) {\n            canvas.ctx.stroke();\n        }\n        canvas.ctx.restore();\n        canvas.ctx = canvasCtx;\n    };\n    // To draw the corner of a rectangle\n    DrawSvgCanvas.prototype.drawCornerRadius = function (canvas, options) {\n        var cornerRadius = options.rx;\n        var x = options.x;\n        var y = options.y;\n        var width = options.width;\n        var height = options.height;\n        if (options.fill === 'none') {\n            options.fill = 'transparent';\n        }\n        canvas.ctx.fillStyle = options.fill;\n        if (width < 2 * cornerRadius) {\n            cornerRadius = width / 2;\n        }\n        if (height < 2 * cornerRadius) {\n            cornerRadius = height / 2;\n        }\n        canvas.ctx.beginPath();\n        canvas.ctx.moveTo(x + width - cornerRadius, y);\n        canvas.ctx.arcTo(x + width, y, x + width, y + height, cornerRadius);\n        canvas.ctx.arcTo(x + width, y + height, x, y + height, cornerRadius);\n        canvas.ctx.arcTo(x, y + height, x, y, cornerRadius);\n        canvas.ctx.arcTo(x, y, x + width, y, cornerRadius);\n        canvas.ctx.closePath();\n        canvas.ctx.fill();\n    };\n    DrawSvgCanvas.prototype.drawCanvasCircle = function (canvas, options) {\n        canvas.ctx.save();\n        canvas.ctx.beginPath();\n        canvas.ctx.arc(options.cx, options.cy, options.r, 0, 2 * Math.PI);\n        canvas.ctx.fillStyle = options.fill;\n        canvas.ctx.globalAlpha = options.opacity;\n        canvas.ctx.fill();\n        this.setAttributes(canvas, options);\n        if (options['stroke-width'] && options['stroke-width'] !== 0) {\n            canvas.ctx.stroke();\n        }\n        canvas.ctx.restore();\n    };\n    DrawSvgCanvas.prototype.drawCanvasPath = function (canvas, properties, options) {\n        var path = properties.d;\n        var dataSplit = path.split(' ');\n        canvas.ctx.save();\n        canvas.ctx.beginPath();\n        canvas.ctx.globalAlpha = properties.opacity;\n        canvas.ctx.fillStyle = properties.fill;\n        this.setAttributes(canvas, properties);\n        for (var i = 0; i < dataSplit.length; i = i + 3) {\n            var x1 = parseFloat(dataSplit[i + 1]);\n            var y1 = parseFloat(dataSplit[i + 2]);\n            switch (dataSplit[i]) {\n                case 'M':\n                    canvas.ctx.moveTo(x1, y1);\n                    break;\n                case 'L':\n                    canvas.ctx.lineTo(x1, y1);\n                    break;\n                case 'A':\n                case 'a':\n                    canvas.ctx.arc(options.x, options.y, options.radius, (options.start * 0.0174533), (options.end * 0.0174533), false);\n                    i = dataSplit[i] === 'a' ? i + 13 : i + 5;\n                    break;\n                case 'Z':\n                    canvas.ctx.closePath();\n                    break;\n            }\n        }\n        canvas.ctx.fill();\n        if (properties['stroke-width'] && properties['stroke-width'] !== 0) {\n            canvas.ctx.stroke();\n        }\n        canvas.ctx.restore();\n    };\n    return DrawSvgCanvas;\n}());\nexport { DrawSvgCanvas };\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { string } title - Specifies the heatmapsize\n * @param { FontModel } style - Specifies the topPadding\n * @param { number }  width - Specifies the bottomPadding\n * @returns {string} returns the size\n * @private\n */\nexport function getTitle(title, style, width) {\n    var titleCollection = [];\n    switch (style.textOverflow) {\n        case 'Wrap':\n            titleCollection = textWrap(title, width, style);\n            break;\n        case 'Trim':\n            titleCollection.push(textTrim(width, title, style));\n            break;\n        default:\n            titleCollection.push(textNone(width, title, style));\n            break;\n    }\n    return titleCollection;\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { string } currentLabel - Specifies the heatmapsize\n * @param { number } maximumWidth - Specifies the topPadding\n * @param { FontModel }  font - Specifies the bottomPadding\n * @returns {string} returns the size\n * @private\n */\nexport function textWrap(currentLabel, maximumWidth, font) {\n    var textCollection = currentLabel.split(' ');\n    var label = '';\n    var labelCollection = [];\n    var text;\n    for (var i = 0, len = textCollection.length; i < len; i++) {\n        text = textCollection[i];\n        if (measureText(label.concat(text), font).width < maximumWidth) {\n            label = label.concat((label === '' ? '' : ' ') + text);\n        }\n        else {\n            if (label !== '') {\n                labelCollection.push(textTrim(maximumWidth, label, font));\n                label = text;\n            }\n            else {\n                labelCollection.push(textTrim(maximumWidth, text, font));\n                text = '';\n            }\n        }\n        if (label && i === len - 1) {\n            labelCollection.push(textTrim(maximumWidth, label, font));\n        }\n    }\n    return labelCollection;\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { number } maxWidth - Specifies the heatmapsize\n * @param { string } text - Specifies the topPadding\n * @param { FontModel }  font - Specifies the bottomPadding\n * @returns {string} returns the size\n * @private\n */\nexport function textTrim(maxWidth, text, font) {\n    var label = text;\n    var size = measureText(text, font).width;\n    if (size > maxWidth) {\n        var textLength = text.length;\n        for (var index = textLength - 1; index >= 0; --index) {\n            label = text.substring(0, index) + '...';\n            size = measureText(label, font).width;\n            if (size <= maxWidth) {\n                return label;\n            }\n        }\n    }\n    return label;\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { number } maxWidth - Specifies the heatmapsize\n * @param { string } text - Specifies the topPadding\n * @param { FontModel }  font - Specifies the bottomPadding\n * @returns {string} returns the size\n * @private\n */\nexport function textNone(maxWidth, text, font) {\n    var label = text;\n    var size = measureText(text, font).width;\n    if (size > maxWidth) {\n        var textLength = text.length;\n        for (var i = textLength - 1; i >= 0; --i) {\n            label = text.substring(0, i);\n            size = measureText(label, font).width;\n            if (size <= maxWidth) {\n                return label;\n            }\n        }\n    }\n    return label;\n}\n/** @private */\nvar Gradient = /** @class */ (function () {\n    function Gradient(x, x1, x2, y1, y2) {\n        this.id = x;\n        this.x1 = x1;\n        this.x2 = x2;\n        this.y1 = y1;\n        this.y2 = y2;\n    }\n    return Gradient;\n}());\nexport { Gradient };\nvar GradientColor = /** @class */ (function () {\n    function GradientColor(color, colorStop) {\n        this.color = color;\n        this.colorStop = colorStop;\n    }\n    return GradientColor;\n}());\nexport { GradientColor };\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { string } text - Specifies the heatmapsize\n * @param { number } x - Specifies the topPadding\n * @param { number }  y - Specifies the bottomPadding\n * @param { number }  areaWidth - Specifies the bottomPadding\n * @param { string }  id - Specifies the bottomPadding\n * @param { Element }  element - Specifies the bottomPadding\n * @param { boolean }  isTouch - Specifies the bottomPadding\n * @param { HeatMap }  heatmap - Specifies the bottomPadding\n * @returns {void} returns the size\n * @private\n */\nexport function showTooltip(text, x, y, areaWidth, id, element, isTouch, heatmap) {\n    var tooltip = document.getElementById(id);\n    var size = measureText(text, {\n        fontFamily: 'Segoe UI', size: '12px',\n        fontStyle: 'Normal', fontWeight: 'Regular'\n    });\n    var width = size.width + 5;\n    x = (x + width > areaWidth) ? x - width : x;\n    x = x < 0 ? 5 : x;\n    if (!tooltip) {\n        tooltip = createElement('div', { id: id });\n        tooltip.style.cssText = 'top:' + (y + 15).toString() + 'px;left:' + (x + 15).toString() +\n            'px;background-color: rgb(255, 255, 255) !important; color:black !important; ' +\n            'position:absolute;border:1px solid rgb(112, 112, 112); padding-left : 3px; padding-right : 2px;' +\n            'padding-bottom : 2px; padding-top : 2px; font-size:12px; font-family: Segoe UI';\n        tooltip.innerText = text;\n        element.appendChild(tooltip);\n    }\n    else {\n        tooltip.innerText = text;\n        tooltip.style.top = (y + 15).toString() + 'px';\n        tooltip.style.left = (x + 15).toString() + 'px';\n    }\n    if (text === heatmap.titleSettings.text) {\n        tooltip.style.width = (x + 15) + size.width + 7 > heatmap.availableSize.width ?\n            (heatmap.availableSize.width - (x + 15)).toString() + 'px' : '';\n    }\n    else {\n        tooltip.style.left = (x + 15) + size.width + 7 > heatmap.availableSize.width ?\n            (heatmap.availableSize.width - (size.width + 7)).toString() + 'px' : x.toString() + 'px';\n        tooltip.style.top = (y + 15) + size.height + 6 > heatmap.availableSize.height ?\n            (y - (size.height + 6) - 10).toString() + 'px' : tooltip.style.top; // 6 and 7 are padding and border width\n    }\n    if (isTouch) {\n        setTimeout(function () { removeElement(id); }, 1500);\n    }\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { string }  id - Specifies the bottomPadding\n * @returns {void} returns the size\n * @private\n */\nexport function removeElement(id) {\n    var element = getElement(id);\n    if (element) {\n        remove(element);\n        removeMeasureElement();\n    }\n}\n/**\n * @private\n */\nexport function removeMeasureElement() {\n    removeElement('heatmapmeasuretext');\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { string }  id - Specifies the bottomPadding\n * @returns {Element} returns the size\n * @private\n */\nexport function getElement(id) {\n    return document.getElementById(id);\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { number } value - Specifies the topPadding\n * @param { number }  interval - Specifies the bottomPadding\n * @param { string } intervalType - Specifies the heatmapsize\n * @param { number }  increment - Specifies the bottomPadding\n * @returns {Date} returns the size\n * @private\n */\nexport function increaseDateTimeInterval(value, interval, intervalType, increment) {\n    var result = new Date(value);\n    interval = Math.ceil(interval * increment);\n    switch (intervalType) {\n        case 'Years':\n            result.setFullYear(result.getFullYear() + interval);\n            break;\n        case 'Months':\n            result.setMonth(result.getMonth() + interval);\n            break;\n        case 'Days':\n            result.setDate(result.getDate() + interval);\n            break;\n        case 'Hours':\n            result.setHours(result.getHours() + interval);\n            break;\n        case 'Minutes':\n            result.setMinutes(result.getMinutes() + interval);\n            break;\n    }\n    return result;\n}\n/* private */\nvar CanvasTooltip = /** @class */ (function () {\n    function CanvasTooltip(text, rect) {\n        this.region = new Rect(0, 0, 0, 0);\n        this.text = text;\n        this.region = rect;\n    }\n    return CanvasTooltip;\n}());\nexport { CanvasTooltip };\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { CanvasTooltip } tooltipCollection - Specifies the topPadding\n * @param { number }  xPosition - Specifies the bottomPadding\n * @param { number } yPosition - Specifies the heatmapsize\n * @returns {string} returns the size\n * @private\n */\nexport function getTooltipText(tooltipCollection, xPosition, yPosition) {\n    var length = tooltipCollection.length;\n    var tooltip;\n    var region;\n    var text;\n    for (var i = 0; i < length; i++) {\n        tooltip = tooltipCollection[i];\n        region = tooltip.region;\n        if (xPosition >= region.x && xPosition <= (region.x + region.width) && yPosition >= region.y\n            && yPosition <= (region.y + region.height)) {\n            text = tooltip.text;\n            break;\n        }\n    }\n    return text;\n}\n/**\n * @private\n */\nvar PaletterColor = /** @class */ (function () {\n    function PaletterColor() {\n    }\n    return PaletterColor;\n}());\nexport { PaletterColor };\n/**\n * @private\n */\nvar GradientPointer = /** @class */ (function () {\n    function GradientPointer(pathX1, pathY1, pathX2, pathY2, pathX3, pathY3) {\n        this.pathX1 = pathX1;\n        this.pathY1 = pathY1;\n        this.pathX2 = pathX2;\n        this.pathY2 = pathY2;\n        this.pathX3 = pathX3;\n        this.pathY3 = pathY3;\n    }\n    return GradientPointer;\n}());\nexport { GradientPointer };\n/**\n * Class to define currentRect private property.\n *\n * @private\n */\nvar CurrentLegendRect = /** @class */ (function () {\n    function CurrentLegendRect(x, y, width, height, label, id) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.label = label;\n        this.id = id;\n    }\n    return CurrentLegendRect;\n}());\nexport { CurrentLegendRect };\n/** @private */\nvar LegendRange = /** @class */ (function () {\n    function LegendRange(x, y, width, height, value, visible, currentPage) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.value = value;\n        this.visible = visible;\n        this.currentPage = currentPage;\n    }\n    return LegendRange;\n}());\nexport { LegendRange };\n/** @private */\nvar ToggleVisibility = /** @class */ (function () {\n    function ToggleVisibility(visible, value, startValue, endValue) {\n        this.visible = visible;\n        this.value = value;\n        this.startValue = startValue;\n        this.endValue = endValue;\n    }\n    return ToggleVisibility;\n}());\nexport { ToggleVisibility };\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { string } color - Specifies the topPadding\n * @returns {string} returns the size\n * @private\n */\nexport function colorNameToHex(color) {\n    color = color === 'transparent' ? 'white' : color;\n    var element = document.getElementById('heatmapmeasuretext');\n    element.style.color = color;\n    color = window.getComputedStyle(element).color;\n    var isRGBValue = color.replace(/[()RGBrgba ]/g, '').split(',');\n    return convertToHexCode(new RgbColor(parseInt(isRGBValue[0], 10), parseInt(isRGBValue[1], 10), parseInt(isRGBValue[2], 10)));\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { RgbColor } value - Specifies the topPadding\n * @returns {string} returns the size\n * @private\n */\nexport function convertToHexCode(value) {\n    return '#' + componentToHex(value.R) + componentToHex(value.G) + componentToHex(value.B);\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { number }  value - Specifies the bottomPadding\n * @returns {string} returns the size\n * @private\n */\nexport function componentToHex(value) {\n    var hex = value.toString(16);\n    return hex.length === 1 ? '0' + hex : hex;\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { string }  hex - Specifies the bottomPadding\n * @returns {RgbColor} returns the size\n * @private\n */\nexport function convertHexToColor(hex) {\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? new RgbColor(parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)) :\n        new RgbColor(255, 255, 255);\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { boolean }  isCustom - Specifies the bottomPadding\n * @param { string }  format - Specifies the bottomPadding\n * @param { number }  tempInterval - Specifies the bottomPadding\n * @param { Function }  formatFun - Specifies the bottomPadding\n * @returns {string} returns the size\n * @private\n */\nexport function formatValue(isCustom, format, tempInterval, formatFun) {\n    return isCustom ? format.replace('{value}', formatFun(tempInterval))\n        : formatFun(tempInterval);\n}\n/** @private */\nvar MultiLevelPosition = /** @class */ (function () {\n    function MultiLevelPosition(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    return MultiLevelPosition;\n}());\nexport { MultiLevelPosition };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex, Collection } from '@syncfusion/ej2-base';\nimport { Theme } from './theme';\n/**\n * Sets and gets the options to customize the text in heatmap.\n */\nvar Font = /** @class */ (function (_super) {\n    __extends(Font, _super);\n    function Font() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('16px')\n    ], Font.prototype, \"size\", void 0);\n    __decorate([\n        Property('')\n    ], Font.prototype, \"color\", void 0);\n    __decorate([\n        Property('Segoe UI')\n    ], Font.prototype, \"fontFamily\", void 0);\n    __decorate([\n        Property('Normal')\n    ], Font.prototype, \"fontWeight\", void 0);\n    __decorate([\n        Property('Normal')\n    ], Font.prototype, \"fontStyle\", void 0);\n    __decorate([\n        Property('Center')\n    ], Font.prototype, \"textAlignment\", void 0);\n    __decorate([\n        Property('Trim')\n    ], Font.prototype, \"textOverflow\", void 0);\n    return Font;\n}(ChildProperty));\nexport { Font };\n/**\n * Sets and gets the options to configures the margins of the heatmap.\n */\nvar Margin = /** @class */ (function (_super) {\n    __extends(Margin, _super);\n    function Margin() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"left\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"right\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"top\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"bottom\", void 0);\n    return Margin;\n}(ChildProperty));\nexport { Margin };\n/**\n * Sets and gets the options to customize the borders in the heatmap.\n */\nvar Border = /** @class */ (function (_super) {\n    __extends(Border, _super);\n    function Border() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Border.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], Border.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Border.prototype, \"radius\", void 0);\n    return Border;\n}(ChildProperty));\nexport { Border };\n/**\n * Sets and gets the options to customize the tooltip borders in the heatmap.\n */\nvar TooltipBorder = /** @class */ (function (_super) {\n    __extends(TooltipBorder, _super);\n    function TooltipBorder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TooltipBorder.prototype, \"color\", void 0);\n    __decorate([\n        Property(0)\n    ], TooltipBorder.prototype, \"width\", void 0);\n    return TooltipBorder;\n}(ChildProperty));\nexport { TooltipBorder };\n/**\n * Sets and gets the options to configure the mapping value for size and color in bubble cell type.\n */\nvar BubbleData = /** @class */ (function (_super) {\n    __extends(BubbleData, _super);\n    function BubbleData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], BubbleData.prototype, \"size\", void 0);\n    __decorate([\n        Property(null)\n    ], BubbleData.prototype, \"color\", void 0);\n    return BubbleData;\n}(ChildProperty));\nexport { BubbleData };\n/**\n * Sets and gets the options to customize the title of heatmap.\n */\nvar Title = /** @class */ (function (_super) {\n    __extends(Title, _super);\n    function Title() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Title.prototype, \"text\", void 0);\n    __decorate([\n        Complex({}, Font)\n    ], Title.prototype, \"textStyle\", void 0);\n    return Title;\n}(ChildProperty));\nexport { Title };\n/**\n * Sets and gets the options to apply the fill color value for cell color range.\n */\nvar FillColor = /** @class */ (function (_super) {\n    __extends(FillColor, _super);\n    function FillColor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('#eeeeee')\n    ], FillColor.prototype, \"minColor\", void 0);\n    __decorate([\n        Property('#eeeeee')\n    ], FillColor.prototype, \"maxColor\", void 0);\n    return FillColor;\n}(ChildProperty));\nexport { FillColor };\n/**\n * Sets and gets the options to customize palette colors.\n */\nvar PaletteCollection = /** @class */ (function (_super) {\n    __extends(PaletteCollection, _super);\n    function PaletteCollection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"color\", void 0);\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"label\", void 0);\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"startValue\", void 0);\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"endValue\", void 0);\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"minColor\", void 0);\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"maxColor\", void 0);\n    return PaletteCollection;\n}(ChildProperty));\nexport { PaletteCollection };\n/**\n * Sets and gets the options to customize the label border.\n */\nvar AxisLabelBorder = /** @class */ (function (_super) {\n    __extends(AxisLabelBorder, _super);\n    function AxisLabelBorder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('#b5b5b5')\n    ], AxisLabelBorder.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], AxisLabelBorder.prototype, \"width\", void 0);\n    __decorate([\n        Property('Rectangle')\n    ], AxisLabelBorder.prototype, \"type\", void 0);\n    return AxisLabelBorder;\n}(ChildProperty));\nexport { AxisLabelBorder };\n/**\n * Sets and gets the options to customize the size of the bubble heatmap cell type.\n */\nvar BubbleSize = /** @class */ (function (_super) {\n    __extends(BubbleSize, _super);\n    function BubbleSize() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('0%')\n    ], BubbleSize.prototype, \"minimum\", void 0);\n    __decorate([\n        Property('100%')\n    ], BubbleSize.prototype, \"maximum\", void 0);\n    return BubbleSize;\n}(ChildProperty));\nexport { BubbleSize };\n/**\n * Sets and gets the options to configure the multi-level labels.\n */\nvar MultiLevelCategories = /** @class */ (function (_super) {\n    __extends(MultiLevelCategories, _super);\n    function MultiLevelCategories() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], MultiLevelCategories.prototype, \"start\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiLevelCategories.prototype, \"end\", void 0);\n    __decorate([\n        Property('')\n    ], MultiLevelCategories.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiLevelCategories.prototype, \"maximumTextWidth\", void 0);\n    return MultiLevelCategories;\n}(ChildProperty));\nexport { MultiLevelCategories };\n/**\n * Sets and gets the options to customize the multi-level labels.\n */\nvar MultiLevelLabels = /** @class */ (function (_super) {\n    __extends(MultiLevelLabels, _super);\n    function MultiLevelLabels() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Center')\n    ], MultiLevelLabels.prototype, \"alignment\", void 0);\n    __decorate([\n        Property('Wrap')\n    ], MultiLevelLabels.prototype, \"overflow\", void 0);\n    __decorate([\n        Complex(Theme.axisLabelFont, Font)\n    ], MultiLevelLabels.prototype, \"textStyle\", void 0);\n    __decorate([\n        Complex({ color: '#b5b5b5', width: 1, type: 'Rectangle' }, AxisLabelBorder)\n    ], MultiLevelLabels.prototype, \"border\", void 0);\n    __decorate([\n        Collection([], MultiLevelCategories)\n    ], MultiLevelLabels.prototype, \"categories\", void 0);\n    return MultiLevelLabels;\n}(ChildProperty));\nexport { MultiLevelLabels };\n/**\n * Internal class used to maintain colorcollection.\n * @private\n */\nvar ColorCollection = /** @class */ (function () {\n    function ColorCollection(value, color, label, startValue, endValue, minColor, maxColor) {\n        this.value = value;\n        this.color = color;\n        this.label = label;\n        this.startValue = startValue;\n        this.endValue = endValue;\n        this.minColor = minColor;\n        this.maxColor = maxColor;\n    }\n    return ColorCollection;\n}());\nexport { ColorCollection };\n/**\n * Specifies the current data of the bubble cell.\n */\nvar BubbleTooltipData = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function BubbleTooltipData(mappingName, bubbleData, valueType) {\n        this.mappingName = mappingName;\n        this.bubbleData = bubbleData;\n        this.valueType = valueType;\n    }\n    return BubbleTooltipData;\n}());\nexport { BubbleTooltipData };\n/**\n * Internal class used to maintain legend colorcollection.\n * @private\n */\nvar LegendColorCollection = /** @class */ (function () {\n    function LegendColorCollection(value, color, label, startValue, endValue, minColor, maxColor, isHidden) {\n        this.value = value;\n        this.color = color;\n        this.label = label;\n        this.startValue = startValue;\n        this.endValue = endValue;\n        this.minColor = minColor;\n        this.maxColor = maxColor;\n        this.isHidden = isHidden;\n    }\n    return LegendColorCollection;\n}());\nexport { LegendColorCollection };\n/**\n * class used to maintain xAxis labels details for multipleRow label intersect action.\n * @private\n */\nvar MultipleRow = /** @class */ (function () {\n    function MultipleRow(start, end, index, label, row) {\n        this.index = 1;\n        this.row = 1;\n        this.start = start;\n        this.end = end;\n        this.index = index;\n        this.label = label;\n        this.row = row;\n    }\n    return MultipleRow;\n}());\nexport { MultipleRow };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, extend, ChildProperty, Collection, isNullOrUndefined, Complex } from '@syncfusion/ej2-base';\nimport { ColorCollection, LegendColorCollection, PaletteCollection, FillColor } from '../model/base';\nimport { PaletterColor } from './helper';\n/**\n * Sets and gets the options to customize the color palette of heatmap.\n */\nvar PaletteSettings = /** @class */ (function (_super) {\n    __extends(PaletteSettings, _super);\n    function PaletteSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([{}], PaletteCollection)\n    ], PaletteSettings.prototype, \"palette\", void 0);\n    __decorate([\n        Property('Gradient')\n    ], PaletteSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property('')\n    ], PaletteSettings.prototype, \"emptyPointColor\", void 0);\n    __decorate([\n        Property('Table')\n    ], PaletteSettings.prototype, \"colorGradientMode\", void 0);\n    __decorate([\n        Complex({}, FillColor)\n    ], PaletteSettings.prototype, \"fillColor\", void 0);\n    return PaletteSettings;\n}(ChildProperty));\nexport { PaletteSettings };\n/**\n * Helper class for colormapping\n */\nvar RgbColor = /** @class */ (function () {\n    function RgbColor(r, g, b) {\n        this.R = r;\n        this.G = g;\n        this.B = b;\n    }\n    return RgbColor;\n}());\nexport { RgbColor };\nvar CellColor = /** @class */ (function () {\n    function CellColor(heatMap) {\n        this.heatMap = heatMap;\n    }\n    /**\n     * To convert hexa color to RGB.\n     *\n     * @returns {any}\n     * @private\n     */\n    CellColor.prototype.convertToRGB = function (value, colorMapping) {\n        var previousOffset = this.heatMap.isColorRange ? colorMapping[0].startValue : colorMapping[0].value;\n        var nextOffset = 0;\n        var i = 0;\n        var previousColor;\n        var nextColor;\n        if (this.heatMap.isColorRange && this.heatMap.paletteSettings.type === 'Gradient') {\n            for (i = 0; i < colorMapping.length; i++) {\n                var offset = Number(colorMapping[i].endValue);\n                if (value <= offset && value >= Number(colorMapping[i].startValue)) {\n                    nextOffset = offset;\n                    previousColor = this.heatMap.colorCollection[i].minColor;\n                    nextColor = this.heatMap.colorCollection[i].maxColor;\n                    break;\n                }\n                else if (colorMapping[0].startValue !== this.heatMap.dataSourceMinValue && value < colorMapping[0].startValue) {\n                    nextOffset = colorMapping[0].startValue;\n                    previousOffset = this.heatMap.dataSourceMinValue;\n                    previousColor = this.heatMap.paletteSettings.fillColor.minColor;\n                    nextColor = this.heatMap.paletteSettings.fillColor.maxColor;\n                    break;\n                }\n                else if (value > offset && value <= (i === (colorMapping.length - 1) ? this.heatMap.dataSourceMaxValue :\n                    colorMapping[i + 1].startValue)) {\n                    nextOffset = (i === (colorMapping.length - 1)) ? this.heatMap.dataSourceMaxValue : colorMapping[i + 1].startValue;\n                    previousOffset = offset;\n                    previousColor = this.heatMap.paletteSettings.fillColor.minColor;\n                    nextColor = this.heatMap.paletteSettings.fillColor.maxColor;\n                    break;\n                }\n                else {\n                    nextOffset = offset;\n                    previousOffset = offset;\n                }\n            }\n        }\n        else {\n            for (i = 1; i < colorMapping.length; i++) {\n                var offset = Number(colorMapping[i].value);\n                if (value <= offset) {\n                    nextOffset = offset;\n                    previousColor = this.getEqualColor(colorMapping, previousOffset);\n                    nextColor = this.getEqualColor(colorMapping, nextOffset);\n                    break;\n                }\n                else {\n                    nextOffset = offset;\n                    previousOffset = offset;\n                }\n            }\n        }\n        var percent = 0;\n        var full = (nextOffset) - previousOffset;\n        percent = (value - previousOffset) / full;\n        percent = isNaN(percent) ? 0 : percent;\n        return this.getPercentageColor(percent, previousColor, nextColor);\n    };\n    /**\n     * To convert RGB to HEX.\n     *\n     * @returns {string}\n     * @private\n     */\n    CellColor.prototype.rgbToHex = function (r, g, b) {\n        return '#' + this.componentToHex(r) + this.componentToHex(g) + this.componentToHex(b);\n    };\n    /**\n     * To convert Component to HEX.\n     *\n     * @returns {string}\n     * @private\n     */\n    CellColor.prototype.componentToHex = function (c) {\n        var hex = c.toString(16);\n        return hex.length === 1 ? '0' + hex : hex;\n    };\n    /**\n     * To get similar color.\n     *\n     * @returns {string}\n     * @private\n     */\n    CellColor.prototype.getEqualColor = function (list, offset) {\n        for (var i = 0; i < list.length; i++) {\n            if (Number(list[i].value) === offset) {\n                var color = list[i].color;\n                if (color.indexOf('rgb') !== -1) {\n                    color = this.convertToHex(color);\n                }\n                else if (color.indexOf('#') === -1) {\n                    color = '#FFFFFF';\n                }\n                return color;\n            }\n        }\n        return '#00000';\n    };\n    /**\n     * To convert RGB to HEX.\n     *\n     * @returns {string}\n     * @private\n     */\n    CellColor.prototype.convertToHex = function (color) {\n        var itemColor = color.substr(3);\n        itemColor = itemColor.split('(')[1].split(')')[0];\n        var colorSplit = itemColor.split(',');\n        itemColor = this.rgbToHex(parseInt(colorSplit[0], 10), parseInt(colorSplit[1], 10), parseInt(colorSplit[2], 10));\n        return itemColor;\n    };\n    /**\n     * To get RGB for percentage value.\n     *\n     * @returns {any}\n     * @private\n     */\n    CellColor.prototype.getPercentageColor = function (percent, previous, next) {\n        var nextColor = next.split('#')[1];\n        var prevColor = previous.split('#')[1];\n        var r = this.getPercentage(percent, parseInt(prevColor.substr(0, 2), 16), parseInt(nextColor.substr(0, 2), 16));\n        var g = this.getPercentage(percent, parseInt(prevColor.substr(2, 2), 16), parseInt(nextColor.substr(2, 2), 16));\n        var b = this.getPercentage(percent, parseInt(prevColor.substr(4, 2), 16), parseInt(nextColor.substr(4, 2), 16));\n        return new RgbColor(r, g, b);\n    };\n    /**\n     * To convert numbet to percentage.\n     *\n     * @returns {any}\n     * @private\n     */\n    CellColor.prototype.getPercentage = function (percent, previous, next) {\n        var full = next - previous;\n        return Math.round((previous + (full * percent)));\n    };\n    /**\n     * To get complete color Collection.\n     *\n     * @private\n     */\n    CellColor.prototype.getColorCollection = function () {\n        var heatMap = this.heatMap;\n        heatMap.colorCollection = [];\n        heatMap.legendColorCollection = [];\n        var range;\n        for (var j = 0; j < this.heatMap.paletteSettings.palette.length; j++) {\n            if (this.heatMap.paletteSettings.palette[j].startValue === null ||\n                this.heatMap.paletteSettings.palette[j].endValue === null) {\n                this.heatMap.isColorRange = false;\n                break;\n            }\n            else {\n                this.heatMap.isColorRange = true;\n            }\n        }\n        var minValue = heatMap.bubbleSizeWithColor ? heatMap.minColorValue : heatMap.dataSourceMinValue;\n        var maxValue = heatMap.bubbleSizeWithColor ? heatMap.maxColorValue : heatMap.dataSourceMaxValue;\n        heatMap.emptyPointColor = heatMap.paletteSettings.emptyPointColor ? heatMap.paletteSettings.emptyPointColor :\n            heatMap.themeStyle.emptyCellColor;\n        var tempcolorMapping = this.orderbyOffset(this.heatMap.isColorRange ? heatMap.paletteSettings.palette :\n            heatMap.paletteSettings.palette && heatMap.paletteSettings.palette.length > 1 ?\n                heatMap.paletteSettings.palette : heatMap.themeStyle.palette);\n        if (!tempcolorMapping.isCompact) {\n            if (heatMap.paletteSettings.type === 'Gradient') {\n                range = (maxValue - minValue) / (tempcolorMapping.offsets.length - 1);\n            }\n            else {\n                range = (maxValue - minValue) / (tempcolorMapping.offsets.length);\n            }\n            if (tempcolorMapping.offsets.length >= 2) {\n                for (var index = 0; index < tempcolorMapping.offsets.length; index++) {\n                    heatMap.colorCollection.push(new ColorCollection((Math.round(((minValue) + (index * range)) * 100) / 100), tempcolorMapping.offsets[index].color, tempcolorMapping.offsets[index].label, tempcolorMapping.offsets[index].startValue, tempcolorMapping.offsets[index].endValue, tempcolorMapping.offsets[index].minColor, tempcolorMapping.offsets[index].maxColor));\n                    heatMap.legendColorCollection.push(new LegendColorCollection(Math.round(((minValue) + (index * range)) * 100) / 100, tempcolorMapping.offsets[index].color, tempcolorMapping.offsets[index].label, tempcolorMapping.offsets[index].startValue, tempcolorMapping.offsets[index].endValue, tempcolorMapping.offsets[index].minColor, tempcolorMapping.offsets[index].maxColor, false));\n                }\n            }\n        }\n        else {\n            heatMap.colorCollection = tempcolorMapping.offsets;\n            heatMap.legendColorCollection = extend([], tempcolorMapping.offsets, null, true);\n        }\n        if (!this.heatMap.isColorRange) {\n            this.updateLegendColorCollection(minValue, maxValue, tempcolorMapping);\n        }\n    };\n    /**\n     * To update legend color Collection.\n     *\n     * @private\n     */\n    CellColor.prototype.updateLegendColorCollection = function (minValue, maxValue, tempcolorMapping) {\n        if (this.heatMap.paletteSettings.type === 'Fixed' && (tempcolorMapping.isCompact || tempcolorMapping.isLabel)) {\n            return;\n        }\n        if (Math.round(minValue * 100) / 100 < this.heatMap.legendColorCollection[0].value) {\n            this.heatMap.legendColorCollection.unshift(new LegendColorCollection(Math.round(minValue * 100) / 100, this.heatMap.legendColorCollection[0].color, this.heatMap.legendColorCollection[0].label, this.heatMap.legendColorCollection[0].startValue, this.heatMap.legendColorCollection[0].endValue, this.heatMap.legendColorCollection[0].minColor, this.heatMap.legendColorCollection[0].maxColor, true));\n        }\n        if (Math.round(maxValue * 100) / 100 > this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].value) {\n            this.heatMap.legendColorCollection.push(new LegendColorCollection(Math.round(maxValue * 100) / 100, this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].color, this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].label, this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].startValue, this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].endValue, this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].minColor, this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].maxColor, true));\n        }\n    };\n    /**\n     * To get ordered palette color collection.\n     *\n     * @private\n     */\n    CellColor.prototype.orderbyOffset = function (offsets) {\n        var returnCollection = new PaletterColor();\n        var key = this.heatMap.isColorRange ? 'to' : 'value';\n        var label = 'label';\n        returnCollection.isCompact = true;\n        returnCollection.isLabel = true;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        returnCollection.offsets = offsets.sort(function (a, b) {\n            if (isNullOrUndefined(a[label]) && isNullOrUndefined(b[label])) {\n                returnCollection.isLabel = false;\n            }\n            if (!isNullOrUndefined(a[key]) && !isNullOrUndefined(b[key])) {\n                return a[key] - b[key];\n            }\n            else {\n                returnCollection.isCompact = false;\n                return a;\n            }\n        });\n        if (!returnCollection.isCompact) {\n            returnCollection.offsets = this.heatMap.paletteSettings.palette && this.heatMap.paletteSettings.palette.length > 1 ?\n                this.heatMap.paletteSettings.palette : this.heatMap.themeStyle.palette;\n        }\n        return returnCollection;\n    };\n    /**\n     * To get color depends to value.\n     *\n     * @private\n     */\n    CellColor.prototype.getColorByValue = function (text) {\n        var color = '';\n        var rbg;\n        var compareValue = 0;\n        if (text.toString() !== '') {\n            if (this.heatMap.cellSettings.tileType === 'Bubble' &&\n                (this.heatMap.cellSettings.bubbleType === 'Size' || this.heatMap.cellSettings.bubbleType === 'Sector')) {\n                color = this.heatMap.isColorRange ? this.heatMap.colorCollection[0].minColor : this.heatMap.colorCollection[0].color;\n            }\n            else if (this.heatMap.paletteSettings.type === 'Fixed') {\n                for (var y = 0; y < this.heatMap.colorCollection.length; y++) {\n                    compareValue = this.heatMap.isColorRange ? this.heatMap.paletteSettings.palette[y].startValue :\n                        this.heatMap.colorCollection[y + 1] ? this.heatMap.colorCollection[y + 1].value :\n                            this.heatMap.colorCollection[y].value;\n                    var singleValue = this.heatMap.dataSourceMinValue === this.heatMap.dataSourceMaxValue;\n                    if (this.heatMap.isColorRange) {\n                        var legendRange = void 0;\n                        if ((text <= this.heatMap.colorCollection[y].endValue &&\n                            text >= this.heatMap.colorCollection[y].startValue)) {\n                            if (this.heatMap.legendVisibilityByCellType) {\n                                legendRange = this.heatMap.legendModule.legendRange;\n                            }\n                            color = (this.heatMap.legendVisibilityByCellType && legendRange[y] &&\n                                !legendRange[y].visible) ?\n                                this.heatMap.themeStyle.toggledColor : this.heatMap.colorCollection[y].minColor;\n                            break;\n                        }\n                        else {\n                            color = this.heatMap.paletteSettings.fillColor.minColor;\n                        }\n                    }\n                    else {\n                        if ((text <= compareValue && singleValue && y === 0) || text < compareValue ||\n                            (text >= compareValue && y === this.heatMap.colorCollection.length - 1)) {\n                            var legendRange = void 0;\n                            if (this.heatMap.legendVisibilityByCellType) {\n                                legendRange = this.heatMap.legendModule.legendRange;\n                            }\n                            color = (this.heatMap.legendVisibilityByCellType && legendRange[y] &&\n                                !legendRange[y].visible) ?\n                                this.heatMap.themeStyle.toggledColor : this.heatMap.colorCollection[y].color;\n                            break;\n                        }\n                    }\n                }\n            }\n            else {\n                if (this.heatMap.paletteSettings.colorGradientMode !== 'Table') {\n                    this.getColorCollection();\n                }\n                if (text < this.heatMap.colorCollection[0].value && !this.heatMap.isColorRange) {\n                    color = this.heatMap.colorCollection[0].color;\n                }\n                else if (text > this.heatMap.colorCollection[this.heatMap.colorCollection.length - 1].value &&\n                    !this.heatMap.isColorRange) {\n                    color = this.heatMap.colorCollection[this.heatMap.colorCollection.length - 1].color;\n                }\n                else {\n                    rbg = this.convertToRGB(text, this.heatMap.colorCollection);\n                    color = this.rgbToHex(rbg.R, rbg.G, rbg.B);\n                }\n            }\n        }\n        else {\n            color = this.heatMap.emptyPointColor;\n        }\n        return color;\n    };\n    return CellColor;\n}());\nexport { CellColor };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * HeatMap Axis file\n */\nimport { Property, Complex, ChildProperty, isNullOrUndefined, Collection } from '@syncfusion/ej2-base';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { Font, Title, AxisLabelBorder, MultiLevelLabels, MultipleRow } from '../model/base';\nimport { Theme } from '../model/theme';\nimport { Rect, measureText, Size, rotateTextSize, increaseDateTimeInterval, formatValue, textTrim } from '../utils/helper';\nimport { MultiLevelPosition, textWrap } from '../utils/helper';\n/**\n * Sets and gets the options to customize the axis of the heatmap.\n */\nvar Axis = /** @class */ (function (_super) {\n    __extends(Axis, _super);\n    function Axis() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.multipleRow = [];\n        /** @private */\n        _this.rect = new Rect(undefined, undefined, 0, 0);\n        /** @private */\n        _this.nearSizes = [];\n        /** @private */\n        _this.farSizes = [];\n        /** @private */\n        _this.maxLabelSize = new Size(0, 0);\n        /** @private */\n        _this.titleSize = new Size(0, 0);\n        /** @private */\n        _this.multilevel = [];\n        /** @private */\n        _this.axisLabels = [];\n        /** @private */\n        _this.tooltipLabels = [];\n        /** @private */\n        _this.labelValue = [];\n        /** @private */\n        _this.axisLabelSize = 0;\n        /** @private */\n        _this.axisLabelInterval = 0;\n        /** @private */\n        _this.dateTimeAxisLabelInterval = [];\n        /** @private */\n        _this.maxLength = 0;\n        /** @private */\n        _this.min = 0;\n        /** @private */\n        _this.max = 0;\n        /** @private */\n        _this.isIntersect = false;\n        /** @private */\n        _this.jsonCellLabel = [];\n        _this.multiLevelSize = [];\n        /** @private */\n        _this.xAxisMultiLabelHeight = [];\n        /** @private */\n        _this.yAxisMultiLabelHeight = [];\n        /** @private */\n        _this.multiLevelPosition = [];\n        return _this;\n    }\n    /**\n     * measure the axis title and label size\n     *\n     * @param axis\n     * @param heatmap\n     * @private\n     */\n    Axis.prototype.computeSize = function (axis, heatmap, rect) {\n        var size = new Size(0, 0);\n        var innerPadding = 10;\n        this.titleSize = axis.getTitleSize(axis, innerPadding);\n        this.maxLabelSize = axis.getMaxLabelSize(axis, heatmap);\n        this.getMultilevelLabelsHeight(axis, rect, heatmap);\n        for (var i = 0; i < this.multiLevelLabels.length; i++) {\n            size = axis.multiLevelLabelSize(innerPadding, i);\n            this.multiLevelSize.push(size);\n        }\n    };\n    /**\n     * calculating x, y position of multi level labels\n     *\n     * @private\n     */\n    Axis.prototype.multiPosition = function (axis, index) {\n        var innerPadding = axis.orientation === 'Horizontal' ? 10 : 20;\n        var multiPosition = new MultiLevelPosition(0, 0);\n        if (axis.orientation === 'Horizontal') {\n            var level0 = axis.maxLabelSize.height + innerPadding\n                + ((axis.angle === 0 || axis.angle === 180 || axis.angle === 360) ? 0 : innerPadding);\n            var level1 = this.xAxisMultiLabelHeight[index - 1];\n            multiPosition.x = (axis.isInversed ? axis.rect.x + axis.rect.width : axis.rect.x);\n            multiPosition.y = index === 0 ? axis.rect.y + (axis.opposedPosition ? -level0 : level0) :\n                axis.multiLevelPosition[index - 1].y + (axis.opposedPosition ? -level1 : level1);\n        }\n        else {\n            var level0 = axis.maxLabelSize.width + innerPadding;\n            var level1 = index !== 0 && (this.multiLevelSize[index - 1].width);\n            multiPosition.x = index === 0 ? axis.rect.x - (axis.opposedPosition ? -level0 : level0) :\n                axis.multiLevelPosition[index - 1].x - (axis.opposedPosition ? -(level1 + innerPadding) : level1 + innerPadding);\n            multiPosition.y = axis.isInversed ? axis.rect.y : axis.rect.y + axis.rect.height;\n        }\n        return multiPosition;\n    };\n    Axis.prototype.multiLevelLabelSize = function (innerPadding, index) {\n        var labelSize = new Size(0, 0);\n        var multiLevel = this.multiLevelLabels;\n        var categoryLabel = multiLevel[index].categories;\n        for (var i = 0; i < categoryLabel.length; i++) {\n            var size_1 = measureText(categoryLabel[i].text, multiLevel[index].textStyle);\n            labelSize.width = (labelSize.width > size_1.width) ? labelSize.width : size_1.width;\n            labelSize.height = (labelSize.height > size_1.height) ? labelSize.height : size_1.height;\n        }\n        var size = (this.orientation === 'Horizontal') ? this.xAxisMultiLabelHeight[index] :\n            this.yAxisMultiLabelHeight[index];\n        if (this.opposedPosition) {\n            this.farSizes.push(size);\n        }\n        else {\n            this.nearSizes.push(size);\n        }\n        return labelSize;\n    };\n    Axis.prototype.getMultilevelLabelsHeight = function (axis, rect, heatmap) {\n        var labelSize;\n        var gap;\n        var height;\n        var multiLevelLabelsHeight = [];\n        var start;\n        var end;\n        var startPosition;\n        var endPosition;\n        var isVertical = axis.orientation === 'Vertical';\n        var padding = axis.orientation === 'Vertical' ? 20 : 10;\n        this.multiLevelLabels.map(function (multiLevel, index) {\n            multiLevel.categories.map(function (categoryLabel) {\n                start = typeof categoryLabel.start === 'number' ? categoryLabel.start : Number(new Date(categoryLabel.start));\n                end = typeof categoryLabel.end === 'number' ? categoryLabel.end : Number(new Date(categoryLabel.end));\n                if (categoryLabel.text !== '' && categoryLabel.start !== null && categoryLabel.end !== null) {\n                    labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                    height = isVertical ? labelSize.width : labelSize.height;\n                    startPosition = heatmap.heatMapAxis.calculateLeftPosition(axis, start, categoryLabel.start, rect);\n                    endPosition = heatmap.heatMapAxis.calculateWidth(axis, categoryLabel.end, end, rect);\n                    labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                    gap = ((categoryLabel.maximumTextWidth === null) ? Math.abs(endPosition - startPosition) :\n                        categoryLabel.maximumTextWidth);\n                    if ((labelSize.width > gap - padding) && (multiLevel.overflow === 'Wrap') && !isVertical) {\n                        height = (height * (textWrap(categoryLabel.text, gap - padding, multiLevel.textStyle).length));\n                    }\n                    multiLevelLabelsHeight[index] = !multiLevelLabelsHeight[index] ? height + padding :\n                        ((multiLevelLabelsHeight[index] < height) ? height + padding : multiLevelLabelsHeight[index]);\n                }\n            });\n        });\n        if (isVertical) {\n            this.yAxisMultiLabelHeight = multiLevelLabelsHeight;\n        }\n        else {\n            this.xAxisMultiLabelHeight = multiLevelLabelsHeight;\n        }\n    };\n    Axis.prototype.getTitleSize = function (axis, innerPadding) {\n        var titleSize = new Size(0, 0);\n        if (this.title.text) {\n            titleSize = measureText(this.title.text, this.title.textStyle);\n            titleSize.height += innerPadding;\n        }\n        if (axis.opposedPosition) {\n            this.farSizes.push(titleSize.height);\n        }\n        else {\n            this.nearSizes.push(titleSize.height);\n        }\n        return titleSize;\n    };\n    Axis.prototype.getMaxLabelSize = function (axis, heatmap) {\n        var labelSize = new Size(0, 0);\n        var labels = this.axisLabels;\n        var padding = (axis.border.width > 0 || axis.multiLevelLabels.length > 0) ? 10 : 0;\n        var count = 1;\n        var row = 1;\n        var interval = (axis.valueType === 'DateTime' && axis.showLabelOn !== 'None') || (axis.textStyle.textOverflow === 'Wrap' || axis.textStyle.textOverflow === 'Trim') ?\n            heatmap.initialClipRect.width / axis.axisLabelSize : heatmap.initialClipRect.width / axis.axisLabels.length;\n        axis.angle = axis.labelRotation;\n        axis.isIntersect = false;\n        if ((axis.orientation === 'Horizontal' && (axis.labelIntersectAction === 'Rotate45' ||\n            (axis.labelRotation % 180 === 0 && axis.labelIntersectAction === 'Trim' || axis.enableTrim)) ||\n            axis.labelIntersectAction === 'MultipleRows') && axis.textStyle.textOverflow !== 'Wrap' && axis.textStyle.textOverflow !== 'Trim') {\n            var startX = heatmap.initialClipRect.x + ((!axis.isInversed) ? 0 : heatmap.initialClipRect.width);\n            var previousEnd = void 0;\n            var previousStart = void 0;\n            this.clearMultipleRow();\n            for (var i = 0, len = labels.length; i < len; i++) {\n                var label = labels[i];\n                var elementSize = measureText(label, axis.textStyle);\n                var axisInterval = (axis.valueType === 'DateTime' && axis.showLabelOn !== 'None') ?\n                    axis.dateTimeAxisLabelInterval[i] * interval : interval;\n                var startPoint = startX + (!axis.isInversed ?\n                    ((interval - elementSize.width) / 2) : -((interval + elementSize.width) / 2));\n                startPoint = startPoint < heatmap.initialClipRect.x ? heatmap.initialClipRect.x : startPoint;\n                var endPoint = startPoint + elementSize.width;\n                if (!axis.isInversed) {\n                    if (isNullOrUndefined(previousEnd)) {\n                        previousEnd = endPoint;\n                    }\n                    else if ((startPoint < previousEnd) && axis.labelIntersectAction !== 'MultipleRows') {\n                        if (axis.labelIntersectAction === 'Rotate45' && !axis.enableTrim) {\n                            axis.angle = 45;\n                        }\n                        else {\n                            axis.isIntersect = true;\n                        }\n                        break;\n                    }\n                    previousEnd = endPoint;\n                }\n                else {\n                    if (isNullOrUndefined(previousStart)) {\n                        previousStart = startPoint;\n                    }\n                    else if ((previousStart < endPoint && axis.labelIntersectAction !== 'MultipleRows')) {\n                        if (axis.labelIntersectAction === 'Rotate45' && !axis.enableTrim) {\n                            axis.angle = 45;\n                        }\n                        else {\n                            axis.isIntersect = true;\n                        }\n                        break;\n                    }\n                    previousStart = startPoint;\n                }\n                startX += axis.isInversed ? -axisInterval : axisInterval;\n                if (axis.orientation === 'Horizontal' && axis.labelIntersectAction === 'MultipleRows' && axis.labelRotation === 0) {\n                    this.multipleRow.push(new MultipleRow(startPoint, endPoint, count, label, row));\n                }\n            }\n            if (axis.orientation === 'Horizontal' && axis.labelIntersectAction === 'MultipleRows' && axis.isInversed) {\n                this.multipleRow = this.multipleRow.reverse();\n            }\n        }\n        var labelLength = 1;\n        for (var i = 0; i < labels.length; i++) {\n            var multipleRow = this.multipleRow;\n            var label = void 0;\n            if (axis.enableTrim || axis.textStyle.textOverflow === 'Trim') {\n                label = textTrim((axis.textStyle.textOverflow === 'Trim' && axis.orientation === 'Horizontal' ? interval : axis.maxLabelLength), labels[i], axis.textStyle);\n            }\n            else {\n                label = labels[i];\n            }\n            if (axis.textStyle.textOverflow === 'Wrap') {\n                var labelInterval = axis.orientation === 'Horizontal' ? interval : axis.maxLabelLength;\n                var wrappedlabels = textWrap(label, labelInterval, axis.textStyle);\n                labelLength = wrappedlabels.length > labelLength ? wrappedlabels.length : labelLength;\n                if (axis.orientation === 'Vertical' || (axis.orientation === 'Horizontal' && axis.angle % 180 !== 0)) {\n                    var labelWidth = 0;\n                    var wrappedlabelSize = new Size(0, 0);\n                    for (var index = 0; index < wrappedlabels.length; index++) {\n                        wrappedlabelSize = measureText(wrappedlabels[index], axis.textStyle);\n                        if (wrappedlabelSize.width > labelWidth) {\n                            labelWidth = wrappedlabelSize.width;\n                            label = wrappedlabels[index];\n                        }\n                    }\n                }\n            }\n            var size = (axis.angle % 180 === 0) ?\n                measureText(label, axis.textStyle) : rotateTextSize(axis.textStyle, label, axis.angle);\n            labelSize.width = (labelSize.width > size.width) ? labelSize.width : size.width;\n            if (axis.labelIntersectAction === 'MultipleRows' && axis.orientation === 'Horizontal' && axis.textStyle.textOverflow !== 'Wrap' && axis.textStyle.textOverflow !== 'Trim' && i > 0 && axis.labelRotation === 0) {\n                if (multipleRow[i].end >= heatmap.initialClipRect.width && i < labels.length - 1) {\n                    multipleRow[i].row = multipleRow[i].row + 1;\n                }\n                for (var k = 1; k <= axis.multilevel.length; k++) {\n                    if (multipleRow[i].start < multipleRow[i - 1].end) {\n                        if (axis.multilevel[k] < multipleRow[i].start) {\n                            count = k;\n                            break;\n                        }\n                        else if (k === axis.multilevel.length - 1) {\n                            count = axis.multilevel.length;\n                            break;\n                        }\n                    }\n                    else if (size.width < interval) {\n                        for (var j = 1; j <= axis.multilevel.length; j++) {\n                            if (axis.multilevel[j] < multipleRow[i].start) {\n                                count = j;\n                                multipleRow[j].row = count;\n                                break;\n                            }\n                        }\n                    }\n                }\n                labelSize.height = (labelSize.height > ((size.height * count) + (((size.height * 0.5) / 2) * (count - 1)))) ?\n                    labelSize.height : ((size.height * count) + (((size.height * 0.5) / 2) * count));\n                this.multipleRow[i].index = count;\n                axis.multilevel[count] = multipleRow[i].end;\n            }\n            else {\n                if (axis.orientation === 'Horizontal' && axis.labelIntersectAction === 'MultipleRows' && i === 0 &&\n                    axis.labelRotation === 0 && axis.textStyle.textOverflow !== 'Wrap' && axis.textStyle.textOverflow !== 'Trim') {\n                    axis.multilevel[1] = multipleRow[i].end;\n                }\n                labelSize.height = (labelSize.height > size.height) ? labelSize.height : size.height;\n            }\n        }\n        labelSize.height = (axis.angle % 180 === 0) ? labelSize.height * labelLength : labelSize.height;\n        if (heatmap.cellSettings.border.width >= 20 && axis.orientation !== 'Horizontal') {\n            labelSize.width = labelSize.width + (heatmap.cellSettings.border.width / 4);\n        }\n        if (axis.opposedPosition) {\n            this.farSizes.push((axis.orientation === 'Horizontal') ? labelSize.height : labelSize.width + padding);\n        }\n        else {\n            this.nearSizes.push((axis.orientation === 'Horizontal') ? labelSize.height : labelSize.width + padding);\n        }\n        return labelSize;\n    };\n    /**\n     * Generate the axis lables for numeric axis\n     *\n     * @param heatmap\n     * @private\n     */\n    Axis.prototype.calculateNumericAxisLabels = function (heatmap) {\n        //Axis Min\n        var min = 0;\n        var max = 0;\n        var interval = this.interval ? this.interval : 1;\n        var adaptorMin;\n        var adaptorMax;\n        if (heatmap.adaptorModule && heatmap.isCellData) {\n            adaptorMin = this.orientation === 'Horizontal' ?\n                heatmap.adaptorModule.adaptiveXMinMax.min : heatmap.adaptorModule.adaptiveYMinMax.min;\n            adaptorMax = this.orientation === 'Horizontal' ?\n                heatmap.adaptorModule.adaptiveXMinMax.max : heatmap.adaptorModule.adaptiveYMinMax.max;\n        }\n        min = !isNullOrUndefined(this.minimum) ? this.minimum : ((adaptorMin) ? adaptorMin : 0);\n        max = !isNullOrUndefined(this.maximum) ? this.maximum :\n            ((adaptorMax) ? adaptorMax : (this.maxLength * this.increment));\n        var temp;\n        if (this.minimum && this.maximum && min > max) {\n            temp = min;\n            min = max;\n            max = temp;\n        }\n        max = !isNullOrUndefined(this.maximum) ? max : (adaptorMax ? adaptorMax : (max + min));\n        var format = this.labelFormat;\n        var isCustom = format.match('{value}') !== null;\n        this.format = heatmap.intl.getNumberFormat({\n            format: isCustom ? '' : format\n        });\n        for (var i = min; i <= max; i = i + (interval * this.increment)) {\n            var value = formatValue(isCustom, format, i, this.format);\n            this.axisLabels.push(value);\n        }\n        this.min = 0;\n        this.axisLabelSize = Math.floor(((max - min) / this.increment) + 1);\n        this.max = this.axisLabelSize - 1;\n        this.axisLabelInterval = interval;\n        for (var i = min; i <= max; i = i + this.increment) {\n            var value = formatValue(isCustom, format, i, this.format);\n            this.tooltipLabels.push(value);\n            this.labelValue.push(i);\n        }\n        this.labelValue = this.isInversed ? this.labelValue.reverse() : this.labelValue;\n    };\n    /**\n     * Generate the axis lables for category axis\n     *\n     * @private\n     */\n    Axis.prototype.calculateCategoryAxisLabels = function () {\n        var labels = this.labels ? this.labels : [];\n        labels = (labels.length > 0) ? labels : this.jsonCellLabel;\n        var min = !isNullOrUndefined(this.minimum) && !(this.minimum instanceof Date) ? this.minimum : 0;\n        var max = !isNullOrUndefined(this.maximum) && !(this.maximum instanceof Date) ? this.maximum : this.maxLength;\n        var interval = this.interval ? this.interval : 1;\n        var temp;\n        if (!isNullOrUndefined(this.minimum) && !isNullOrUndefined(this.maximum) && min > max) {\n            temp = min;\n            min = max;\n            max = temp;\n        }\n        if (labels && labels.length > 0) {\n            for (var i = min; i <= max; i = i + interval) {\n                var value = !isNullOrUndefined(labels[i]) ? labels[i].toString() : i.toString();\n                this.axisLabels.push(value);\n            }\n        }\n        else {\n            for (var i = min; i <= max; i = i + interval) {\n                this.axisLabels.push(i.toString());\n            }\n        }\n        for (var i = min; i <= max; i++) {\n            this.tooltipLabels.push(!isNullOrUndefined(labels[i]) ? labels[i].toString() : i.toString());\n            this.labelValue.push(!isNullOrUndefined(labels[i]) ? labels[i].toString() : i.toString());\n        }\n        this.min = min;\n        this.max = max;\n        this.axisLabelSize = max - min + 1;\n        this.axisLabelInterval = interval;\n        this.labelValue = this.isInversed ? this.labelValue.reverse() : this.labelValue;\n    };\n    /**\n     * Generate the axis labels for date time axis.\n     *\n     * @param heatmap\n     * @private\n     */\n    Axis.prototype.calculateDateTimeAxisLabel = function (heatmap) {\n        var interval = this.interval ? this.interval : 1;\n        var option = {\n            skeleton: 'full',\n            type: 'dateTime'\n        };\n        var dateParser = heatmap.intl.getDateParser(option);\n        var dateFormatter = heatmap.intl.getDateFormat(option);\n        var min;\n        var max;\n        var adaptorMin = null;\n        var adaptorMax = null;\n        if (heatmap.adaptorModule && heatmap.isCellData) {\n            adaptorMin = this.orientation === 'Horizontal' ? heatmap.adaptorModule.adaptiveXMinMax.min :\n                heatmap.adaptorModule.adaptiveYMinMax.min;\n            adaptorMax = this.orientation === 'Horizontal' ? heatmap.adaptorModule.adaptiveXMinMax.max :\n                heatmap.adaptorModule.adaptiveYMinMax.max;\n        }\n        var minimum = this.minimum ? this.minimum : (adaptorMin ? adaptorMin : null);\n        var maximum = this.maximum ? this.maximum : (adaptorMax ? adaptorMax : null);\n        if (minimum === null && maximum === null) {\n            min = 0;\n            max = this.maxLength * this.increment;\n            for (var i = min; i <= max; i = i + (interval * this.increment)) {\n                this.axisLabels.push(i.toString());\n                this.tooltipLabels.push(i.toString());\n                this.labelValue.push(i.toString());\n            }\n            this.min = 0;\n            this.max = this.maxLength;\n            this.axisLabelSize = (max - min) / this.increment + 1;\n            this.axisLabelInterval = interval;\n        }\n        else {\n            if (minimum !== null && maximum === null) {\n                min = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: minimum }).val))));\n                max = increaseDateTimeInterval(min, this.maxLength, this.intervalType, this.increment).getTime();\n            }\n            else if (minimum === null && maximum !== null) {\n                max = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: maximum }).val))));\n                min = increaseDateTimeInterval(max, -this.maxLength, this.intervalType, this.increment).getTime();\n            }\n            else {\n                min = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: minimum }).val))));\n                max = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: maximum }).val))));\n            }\n            this.format = heatmap.intl.getDateFormat({\n                format: this.labelFormat, skeleton: this.getSkeleton()\n            });\n            var tempInterval = min;\n            while (tempInterval <= max) {\n                var value = this.format(new Date(tempInterval));\n                this.axisLabels.push(value);\n                if (this.showLabelOn !== 'None') {\n                    interval = this.calculateLabelInterval(tempInterval);\n                    this.dateTimeAxisLabelInterval.push(interval);\n                }\n                tempInterval = increaseDateTimeInterval(tempInterval, interval, this.intervalType, this.increment).getTime();\n            }\n            this.min = 0;\n            this.axisLabelInterval = interval;\n            this.axisLabelSize = this.getTotalLabelLength(min, max); // this.tooltipLabels.length;\n            this.max = this.axisLabelSize - 1;\n            tempInterval = min;\n            while (tempInterval <= max) {\n                var value = this.format(new Date(tempInterval));\n                this.tooltipLabels.push(value);\n                this.labelValue.push(new Date(tempInterval));\n                tempInterval = increaseDateTimeInterval(tempInterval, 1, this.intervalType, this.increment).getTime();\n            }\n        }\n        this.labelValue = this.isInversed ? this.labelValue.reverse() : this.labelValue;\n    };\n    Axis.prototype.calculateLabelInterval = function (interval) {\n        var year = new Date(interval).getFullYear();\n        var month = new Date(interval).getMonth() + 1;\n        var day = new Date(interval).getDate();\n        var numberOfDays;\n        var tempInterval;\n        if (this.showLabelOn === 'Years' || this.showLabelOn === 'Months') {\n            if (this.showLabelOn === 'Years' && this.intervalType === 'Months') {\n                tempInterval = Math.ceil(12 / this.increment);\n            }\n            else {\n                numberOfDays = this.showLabelOn === 'Years' ? year % 4 === 0 ? 366 : 365 : new Date(year, month, 0).getDate();\n                numberOfDays += 1 - day;\n                tempInterval = this.intervalType === 'Days' ? Math.ceil(numberOfDays / this.increment) : this.intervalType === 'Hours' ?\n                    Math.ceil((numberOfDays * 24) / this.increment) : this.intervalType === 'Minutes' ?\n                    Math.ceil((numberOfDays * 24 * 60) / this.increment) : 1;\n            }\n        }\n        else if (this.showLabelOn === 'Days') {\n            tempInterval = this.intervalType === 'Hours' ? Math.ceil(24 / this.increment) : this.intervalType === 'Minutes' ?\n                Math.ceil((24 * 60) / this.increment) : 1;\n        }\n        else if (this.showLabelOn === 'Hours') {\n            var minutes = new Date(interval).getMinutes();\n            tempInterval = this.intervalType === 'Minutes' ? Math.ceil((60 - minutes) / this.increment) : 1;\n        }\n        else {\n            tempInterval = 1;\n        }\n        return tempInterval;\n    };\n    /**\n     * @private\n     */\n    Axis.prototype.getSkeleton = function () {\n        var skeleton;\n        if (this.intervalType === 'Years') {\n            skeleton = 'yMMM';\n        }\n        else if (this.intervalType === 'Months') {\n            skeleton = 'MMMd';\n        }\n        else if (this.intervalType === 'Days') {\n            skeleton = 'yMd';\n        }\n        else if (this.intervalType === 'Hours') {\n            skeleton = 'EHm';\n        }\n        else if (this.intervalType === 'Minutes') {\n            skeleton = 'Hms';\n        }\n        else {\n            skeleton = 'Hms';\n        }\n        return skeleton;\n    };\n    /** @private */\n    Axis.prototype.getTotalLabelLength = function (min, max) {\n        var length = 0;\n        var minimum = new Date(min);\n        var maximum = new Date(max);\n        var difference;\n        var days;\n        switch (this.intervalType) {\n            case 'Years':\n                // eslint-disable-next-line no-case-declarations\n                var years = ((maximum.getFullYear() - minimum.getFullYear()) / this.increment) + 1;\n                length = Math.floor(years);\n                break;\n            case 'Months':\n                // eslint-disable-next-line no-case-declarations\n                var months = (maximum.getFullYear() - minimum.getFullYear()) * 12;\n                months -= minimum.getMonth();\n                months += maximum.getMonth();\n                length = months <= 0 ? 1 : Math.floor((months / this.increment) + 1);\n                break;\n            case 'Days':\n                difference = Math.abs(minimum.getTime() - maximum.getTime());\n                days = Math.floor(difference / (1000 * 3600 * 24));\n                length = Math.floor((days / this.increment) + 1);\n                break;\n            case 'Hours':\n                difference = Math.abs(minimum.getTime() - maximum.getTime());\n                // eslint-disable-next-line no-case-declarations\n                var hours = Math.floor(difference / (1000 * 3600));\n                length = Math.floor(hours / this.increment) + 1;\n                break;\n            case 'Minutes':\n                difference = Math.abs(minimum.getTime() - maximum.getTime());\n                // eslint-disable-next-line no-case-declarations\n                var minutes = Math.floor(difference / (1000 * 60));\n                length = Math.floor(minutes / this.increment) + 1;\n                break;\n        }\n        return length;\n    };\n    /**\n     * Clear the axis label collection\n     *\n     * @private\n     */\n    Axis.prototype.clearAxisLabel = function () {\n        this.axisLabels = [];\n        this.tooltipLabels = [];\n        this.dateTimeAxisLabelInterval = [];\n        this.labelValue = [];\n    };\n    /**\n     * Clear the axis label collection\n     *\n     * @private\n     */\n    Axis.prototype.clearMultipleRow = function () {\n        this.multipleRow = [];\n        this.multilevel = [];\n    };\n    __decorate([\n        Complex({ text: '', textStyle: Theme.axisTitleFont }, Title)\n    ], Axis.prototype, \"title\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"opposedPosition\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"labels\", void 0);\n    __decorate([\n        Complex(Theme.axisLabelFont, Font)\n    ], Axis.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"labelRotation\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"isInversed\", void 0);\n    __decorate([\n        Property('Category')\n    ], Axis.prototype, \"valueType\", void 0);\n    __decorate([\n        Property(1)\n    ], Axis.prototype, \"increment\", void 0);\n    __decorate([\n        Property('None')\n    ], Axis.prototype, \"showLabelOn\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"minimum\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"maximum\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"interval\", void 0);\n    __decorate([\n        Property('')\n    ], Axis.prototype, \"labelFormat\", void 0);\n    __decorate([\n        Property('Days')\n    ], Axis.prototype, \"intervalType\", void 0);\n    __decorate([\n        Property('Trim')\n    ], Axis.prototype, \"labelIntersectAction\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"enableTrim\", void 0);\n    __decorate([\n        Property(35)\n    ], Axis.prototype, \"maxLabelLength\", void 0);\n    __decorate([\n        Complex({ color: '#b5b5b5', width: 0, type: 'Rectangle' }, AxisLabelBorder)\n    ], Axis.prototype, \"border\", void 0);\n    __decorate([\n        Collection([], MultiLevelLabels)\n    ], Axis.prototype, \"multiLevelLabels\", void 0);\n    return Axis;\n}(ChildProperty));\nexport { Axis };\n","import { Rect, Size, measureText, TextOption, rotateTextSize, textTrim, CanvasTooltip, PathOption, textWrap } from '../utils/helper';\nimport { sum, titlePositionX, LineOption, Line, DrawSvgCanvas, TextBasic, titlePositionY, getTitle } from '../utils/helper';\nimport { extend, Browser, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar AxisHelper = /** @class */ (function () {\n    function AxisHelper(heatMap) {\n        this.heatMap = heatMap;\n        this.padding = 10;\n        this.drawSvgCanvas = new DrawSvgCanvas(heatMap);\n    }\n    /**\n     * To render the x and y axis.\n     *\n     * @private\n     */\n    AxisHelper.prototype.renderAxes = function () {\n        this.initialClipRect = this.heatMap.initialClipRect;\n        var heatMap = this.heatMap;\n        var axisElement;\n        var element;\n        if (!heatMap.enableCanvasRendering) {\n            axisElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'AxisCollection' });\n        }\n        var axes = this.heatMap.axisCollections;\n        for (var i = 0, len = axes.length; i < len; i++) {\n            var axis = axes[i];\n            if (axis.orientation === 'Horizontal') {\n                if (!heatMap.enableCanvasRendering) {\n                    element = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'XAxisGroup' });\n                }\n                this.drawXAxisLine(element, axis);\n                this.drawXAxisTitle(axis, element, axis.rect);\n                this.drawXAxisLabels(axis, element, axis.rect);\n            }\n            else {\n                element = heatMap.renderer.createGroup({ id: heatMap.element.id + 'YAxisGroup' });\n                this.drawYAxisLine(element, axis);\n                this.drawYAxisTitle(axis, element, axis.rect);\n                this.drawYAxisLabels(axis, element, axis.rect);\n            }\n            if (axis.multiLevelLabels.length > 0) {\n                this.drawMultiLevels(element, axis);\n            }\n            if (!heatMap.enableCanvasRendering) {\n                axisElement.appendChild(element);\n            }\n        }\n        if (!heatMap.enableCanvasRendering) {\n            this.heatMap.svgObject.appendChild(axisElement);\n        }\n    };\n    AxisHelper.prototype.drawXAxisLine = function (parent, axis) {\n        var y = this.initialClipRect.y + (!axis.opposedPosition ? this.initialClipRect.height : 0);\n        var line = new LineOption(this.heatMap.element.id + '_XAxisLine', new Line(this.initialClipRect.x, y, this.initialClipRect.x + this.initialClipRect.width, y), 'transparent', 0);\n        this.drawSvgCanvas.drawLine(line, parent);\n    };\n    AxisHelper.prototype.drawYAxisLine = function (parent, axis) {\n        var x = this.initialClipRect.x + ((!axis.opposedPosition) ? 0 : this.initialClipRect.width);\n        var line = new LineOption(this.heatMap.element.id + '_YAxisLine', new Line(x, this.initialClipRect.y, x, this.initialClipRect.height + this.initialClipRect.y), 'transparent', 0);\n        this.drawSvgCanvas.drawLine(line, parent);\n    };\n    AxisHelper.prototype.drawXAxisTitle = function (axis, parent, rect) {\n        var titlepadding = (axis.textStyle.size === '0px' ? 0 : 10);\n        var y = rect.y + (!axis.opposedPosition ? (axis.maxLabelSize.height + titlepadding +\n            sum(axis.xAxisMultiLabelHeight)) : -(axis.maxLabelSize.height + titlepadding + sum(axis.xAxisMultiLabelHeight)));\n        if (axis.title.text) {\n            var heatMap = this.heatMap;\n            var title = axis.title;\n            var elementSize = measureText(title.text, title.textStyle);\n            var padding = this.padding;\n            var anchor = title.textStyle.textAlignment === 'Near' ? 'start' :\n                title.textStyle.textAlignment === 'Far' ? 'end' : 'middle';\n            padding = axis.opposedPosition ? -(padding + elementSize.height / 4) : (padding + (3 * elementSize.height / 4));\n            var options = new TextOption(heatMap.element.id + '_XAxisTitle', new TextBasic(rect.x + titlePositionX(rect.width, 0, 0, title.textStyle), y + padding, anchor, title.text), title.textStyle, title.textStyle.color || heatMap.themeStyle.axisTitle);\n            this.drawSvgCanvas.createText(options, parent, title.text);\n        }\n    };\n    AxisHelper.prototype.drawYAxisTitle = function (axis, parent, rect) {\n        if (axis.title.text) {\n            var title = axis.title;\n            var heatMap = this.heatMap;\n            var labelRotation = (axis.opposedPosition) ? 90 : -90;\n            var anchor = title.textStyle.textAlignment === 'Near' ? 'start' :\n                title.textStyle.textAlignment === 'Far' ? 'end' : 'middle';\n            var padding = 10;\n            padding = axis.opposedPosition ? padding : -padding;\n            var titlepadding = (axis.textStyle.size === '0px' ? 0 : padding);\n            var x = rect.x + titlepadding + ((axis.opposedPosition) ? axis.maxLabelSize.width + sum(axis.yAxisMultiLabelHeight) :\n                -(axis.maxLabelSize.width + sum(axis.yAxisMultiLabelHeight)));\n            var y = rect.y + titlePositionY(rect, 0, 0, title.textStyle) + (axis.opposedPosition ? this.padding : -this.padding);\n            var options = new TextOption(heatMap.element.id + '_YAxisTitle', new TextBasic(x, y - this.padding, anchor, title.text, labelRotation, 'rotate(' + labelRotation + ',' + (x) + ',' + (y) + ')', 'auto'), title.textStyle, title.textStyle.color || heatMap.themeStyle.axisTitle);\n            if (!this.heatMap.enableCanvasRendering) {\n                this.drawSvgCanvas.createText(options, parent, title.text);\n            }\n            else {\n                this.drawSvgCanvas.canvasDrawText(options, title.text, x, y);\n            }\n        }\n    };\n    /**\n     * Get the visible labels for both x and y axis\n     *\n     * @private\n     */\n    AxisHelper.prototype.calculateVisibleLabels = function () {\n        var heatmap = this.heatMap;\n        var axis;\n        var axisCollection = heatmap.axisCollections;\n        var data = this.heatMap.dataSourceSettings;\n        var processLabels = !(data && data.isJsonData && data.adaptorType === 'Cell');\n        for (var i = 0, len = axisCollection.length; i < len; i++) {\n            axis = axisCollection[i];\n            if (axis.valueType === 'Numeric' && processLabels) {\n                axis.clearAxisLabel();\n                axis.calculateNumericAxisLabels(this.heatMap);\n            }\n            else if (axis.valueType === 'DateTime' && processLabels) {\n                axis.clearAxisLabel();\n                axis.calculateDateTimeAxisLabel(this.heatMap);\n            }\n            else if (axis.valueType === 'Category') {\n                axis.clearAxisLabel();\n                axis.calculateCategoryAxisLabels();\n            }\n            axis.tooltipLabels = axis.isInversed ? axis.tooltipLabels.reverse() : axis.tooltipLabels;\n        }\n    };\n    /**\n     * Measure the title and labels rendering position for both X and Y axis.\n     *\n     * @param rect\n     * @private\n     */\n    AxisHelper.prototype.measureAxis = function (rect) {\n        var heatmap = this.heatMap;\n        var axis;\n        var axisCollection = heatmap.axisCollections;\n        for (var i = axisCollection.length - 1; i >= 0; i--) {\n            axis = axisCollection[i];\n            var padding = axis.textStyle.size === '0px' ? 0 : this.padding;\n            axis.nearSizes = [];\n            axis.farSizes = [];\n            axis.computeSize(axis, heatmap, rect);\n            if (!axis.opposedPosition) {\n                if (axis.orientation === 'Horizontal') {\n                    rect.height -= (sum(axis.nearSizes) + padding);\n                }\n                else {\n                    rect.x += sum(axis.nearSizes) + padding;\n                    rect.width -= sum(axis.nearSizes) + padding;\n                }\n            }\n            else {\n                if (axis.orientation === 'Horizontal') {\n                    rect.y += sum(axis.farSizes) + padding;\n                    rect.height -= sum(axis.farSizes) + padding;\n                }\n                else {\n                    rect.width -= sum(axis.farSizes) + padding;\n                }\n            }\n        }\n    };\n    /**\n     * Calculate the X and Y axis line position\n     *\n     * @param rect\n     * @private\n     */\n    AxisHelper.prototype.calculateAxisSize = function (rect) {\n        var heatmap = this.heatMap;\n        var axisCollection = heatmap.axisCollections;\n        for (var i = 0, len = axisCollection.length; i < len; i++) {\n            var axis = axisCollection[i];\n            axis.rect = extend({}, rect, null, true);\n            if (axis.orientation === 'Horizontal' && axis.multiLevelLabels.length !== 0) {\n                if (axis.opposedPosition) {\n                    axis.rect.y += (axis.angle === 0 || axis.angle === 180 || axis.angle === 360 ? 0 : this.padding);\n                    this.heatMap.initialClipRect.y += (axis.angle === 0 || axis.angle === 180 || axis.angle === 360 ? 0 : this.padding);\n                }\n                rect.height -= (axis.angle === 0 || axis.angle === 180 || axis.angle === 360 ? 0 : this.padding);\n            }\n            if (axis.orientation === 'Horizontal' && !axis.opposedPosition) {\n                axis.rect.y = rect.y + rect.height;\n                axis.rect.height = 0;\n            }\n            if (axis.orientation === 'Vertical' && axis.opposedPosition) {\n                axis.rect.x = rect.x + rect.width;\n                axis.rect.width = 0;\n            }\n            axis.multiLevelPosition = [];\n            for (var i_1 = 0; i_1 < axis.multiLevelLabels.length; i_1++) {\n                var multiPosition = axis.multiPosition(axis, i_1);\n                axis.multiLevelPosition.push(multiPosition);\n            }\n        }\n    };\n    AxisHelper.prototype.drawXAxisLabels = function (axis, parent, rect) {\n        var heatMap = this.heatMap;\n        var labels = axis.axisLabels;\n        var borderWidth = this.heatMap.cellSettings.border.width > 5 ? (this.heatMap.cellSettings.border.width / 2) : 0;\n        var interval = (rect.width - borderWidth) / axis.axisLabelSize;\n        var compactInterval = 0;\n        var axisInterval = axis.interval ? axis.interval : 1;\n        var tempintervel = rect.width / (axis.axisLabelSize / axis.axisLabelInterval);\n        var temp = axis.axisLabelInterval;\n        if (tempintervel > 0) {\n            while (tempintervel < parseInt(axis.textStyle.size, 10)) {\n                temp = temp + 1;\n                tempintervel = rect.width / (axis.axisLabelSize / temp);\n            }\n        }\n        else {\n            temp = axis.tooltipLabels.length;\n        }\n        if (axis.axisLabelInterval < temp) {\n            compactInterval = temp;\n            labels = axis.tooltipLabels;\n            axisInterval = temp;\n        }\n        var y;\n        var padding = 10;\n        var lableStrtX = rect.x + (!axis.isInversed ? 0 : rect.width);\n        var labelPadding;\n        var angle = axis.angle;\n        padding = this.padding;\n        var labelElement;\n        var borderElement;\n        if (!heatMap.enableCanvasRendering) {\n            labelElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'XAxisLabels' });\n            borderElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'XAxisLabelBorder' });\n        }\n        if (axis.isInversed && axis.labelIntersectAction === 'MultipleRows') {\n            axis.multipleRow.reverse();\n        }\n        for (var i = 0, len = labels.length; i < len; i++) {\n            var lableRect = new Rect(lableStrtX, rect.y, interval, rect.height);\n            var label = (axis.textStyle.textOverflow !== 'Wrap' && axis.textStyle.textOverflow !== 'Trim' && axis.labelIntersectAction === 'Trim' && axis.isIntersect) ? axis.valueType !== 'DateTime' ||\n                axis.showLabelOn === 'None' ? textTrim(interval * axisInterval, labels[i], axis.textStyle) :\n                textTrim(axis.dateTimeAxisLabelInterval[i] * interval, labels[i], axis.textStyle) : labels[i];\n            label = (axis.enableTrim || axis.textStyle.textOverflow === 'Trim') ? textTrim((axis.textStyle.textOverflow === 'Trim' ? interval - (axis.border.width / 2) : axis.maxLabelLength), labels[i], axis.textStyle) : label;\n            var wrappedLabel = label;\n            if (axis.textStyle.textOverflow === 'Wrap') {\n                var wrappedlabels = textWrap(wrappedLabel, interval - (axis.border.width / 2), axis.textStyle);\n                var labelWidth = 0;\n                var wrappedlabelSize = new Size(0, 0);\n                for (var index = 0; index < wrappedlabels.length; index++) {\n                    wrappedlabelSize = measureText(wrappedlabels[index], axis.textStyle);\n                    if (wrappedlabelSize.width > labelWidth) {\n                        labelWidth = wrappedlabelSize.width;\n                        wrappedLabel = wrappedlabels[index];\n                    }\n                }\n            }\n            var elementSize = measureText(wrappedLabel, axis.textStyle);\n            var transform = void 0;\n            labelPadding = (axis.opposedPosition) ? -(padding) : (padding + ((angle % 360) === 0 ? (elementSize.height / 2) : 0));\n            elementSize.width = axis.isInversed ? (elementSize.width > interval ? interval : elementSize.width) : elementSize.width;\n            var x = lableRect.x + ((!axis.isInversed) ?\n                (lableRect.width / 2) - (elementSize.width / 2) : -((lableRect.width / 2) + (elementSize.width / 2)));\n            if (axis.textStyle.textAlignment === 'Near') {\n                x = lableRect.x - ((!axis.isInversed) ? 0 : lableRect.width);\n            }\n            else if (axis.textStyle.textAlignment === 'Far') {\n                x = lableRect.x + ((!axis.isInversed) ?\n                    (lableRect.width - elementSize.width) : -(elementSize.width));\n            }\n            if (axis.labelIntersectAction === 'Trim') {\n                x = (!axis.isInversed) ? (x >= lableRect.x ? x : lableRect.x) : (x > (lableStrtX - interval) ? x : (lableStrtX - interval));\n            }\n            else if (angle % 180 === 0) {\n                x = x < rect.x ? rect.x : x;\n                x = ((x + elementSize.width) > (rect.x + rect.width)) ? (rect.x + rect.width - elementSize.width) : x;\n            }\n            if (axis.textStyle.textOverflow === 'Wrap' && !axis.isInversed) {\n                x = x < lableRect.x ? lableRect.x : x;\n            }\n            if (axis.labelIntersectAction === 'MultipleRows' && axis.textStyle.textOverflow !== 'Wrap' && axis.textStyle.textOverflow !== 'Trim' && axis.labelRotation === 0) {\n                var a = axis.opposedPosition ? -(axis.multipleRow[i].index - 1) :\n                    (axis.multipleRow[i].index - 1);\n                if (axis.multipleRow[i].index > 1) {\n                    y = rect.y + labelPadding + (elementSize.height * a) + (axis.opposedPosition ?\n                        -(((elementSize.height * 0.5) / 2) * axis.multipleRow[i].index) :\n                        (((elementSize.height * 0.5) / 2) * axis.multipleRow[i].index));\n                }\n                else {\n                    y = rect.y + labelPadding + (axis.opposedPosition ? -((elementSize.height * 0.5) / 2) :\n                        ((elementSize.height * 0.5) / 2));\n                }\n            }\n            else {\n                y = rect.y + (axis.textStyle.textOverflow === 'Wrap' && axis.opposedPosition && angle % 360 === 0 ? -(axis.farSizes.length >= 1 ? axis.farSizes[1] : 0) + padding : labelPadding);\n            }\n            this.drawXAxisBorder(axis, borderElement, axis.rect, x, elementSize.width, i);\n            if (angle % 360 !== 0) {\n                angle = (angle > 360) ? angle % 360 : angle;\n                var rotateSize = rotateTextSize(axis.textStyle, wrappedLabel, angle);\n                x = lableRect.x + (axis.isInversed ? -(lableRect.width / 2) : (lableRect.width / 2));\n                y = y + (axis.opposedPosition ? ((axis.textStyle.textOverflow === 'Wrap' ? (rotateSize.height / 2) - (axis.farSizes.length >= 1 ? axis.farSizes[1] : 0) : -(rotateSize.height / 2)) + (axis.border.width / 2)) :\n                    (((angle % 360) === 180 || (angle % 360) === -180) ? 0 : (rotateSize.height / 2) - (axis.border.width)));\n                transform = 'rotate(' + angle + ',' + x + ',' + y + ')';\n            }\n            if (this.heatMap.cellSettings.border.width > 5 && axis.opposedPosition) {\n                y = y - (this.heatMap.cellSettings.border.width / 2);\n            }\n            if (this.heatMap.yAxis.opposedPosition && this.heatMap.cellSettings.border.width > 5) {\n                x = x + (this.heatMap.cellSettings.border.width / 2);\n            }\n            if (this.heatMap.xAxis.isInversed && this.heatMap.cellSettings.border.width > 5) {\n                x = x - (this.heatMap.cellSettings.border.width / 2);\n            }\n            if (elementSize.width >= interval) {\n                x = axis.border.width ? x + (axis.border.width / 2) : x;\n            }\n            x = axis.textStyle.textAlignment === 'Near' ? x + (axis.border.width / 2) : axis.textStyle.textAlignment === 'Far' ?\n                x - (axis.border.width / 2) : x;\n            var options = new TextOption(heatMap.element.id + '_XAxis_Label' + i, new TextBasic(x, y, (angle % 360 === 0) ? 'start' : 'middle', label, angle, transform), axis.textStyle, axis.textStyle.color || heatMap.themeStyle.axisLabel);\n            options.text = getTitle(options.text, axis.textStyle, lableRect.width - (axis.border.width / 2));\n            if (angle !== 0 && this.heatMap.enableCanvasRendering) {\n                this.drawSvgCanvas.canvasDrawText(options, label);\n            }\n            else {\n                if (axis.textStyle.textOverflow === 'Wrap') {\n                    this.drawSvgCanvas.createWrapText(options, axis.textStyle, labelElement);\n                }\n                else {\n                    this.drawSvgCanvas.createText(options, labelElement, label);\n                }\n            }\n            if (compactInterval === 0) {\n                var labelInterval = (axis.valueType === 'DateTime' && axis.showLabelOn !== 'None') ?\n                    axis.dateTimeAxisLabelInterval[i] : axis.axisLabelInterval;\n                lableStrtX = lableStrtX + (!axis.isInversed ? (labelInterval * interval) :\n                    -(labelInterval * interval));\n            }\n            else {\n                lableStrtX = lableStrtX + (!axis.isInversed ? (compactInterval * interval) : -(compactInterval * interval));\n            }\n            if (wrappedLabel.indexOf('...') !== -1) {\n                this.heatMap.tooltipCollection.push(new CanvasTooltip(labels[i], new Rect(x, y - elementSize.height, elementSize.width, elementSize.height)));\n            }\n            if (compactInterval !== 0) {\n                i = i + (compactInterval - 1);\n            }\n        }\n        if (!heatMap.enableCanvasRendering) {\n            parent.appendChild(labelElement);\n            parent.appendChild(borderElement);\n        }\n    };\n    AxisHelper.prototype.drawYAxisLabels = function (axis, parent, rect) {\n        var heatMap = this.heatMap;\n        var labels = axis.axisLabels;\n        var interval = rect.height / axis.axisLabelSize;\n        var compactInterval = 0;\n        var tempintervel = rect.height / (axis.axisLabelSize / axis.axisLabelInterval);\n        var temp = axis.axisLabelInterval;\n        var label;\n        if (tempintervel > 0) {\n            while (tempintervel < parseInt(axis.textStyle.size, 10)) {\n                temp = temp + 1;\n                tempintervel = rect.height / (axis.axisLabelSize / temp);\n            }\n        }\n        else {\n            temp = axis.tooltipLabels.length;\n        }\n        if (axis.axisLabelInterval < temp) {\n            compactInterval = temp;\n            labels = axis.tooltipLabels;\n        }\n        var padding = 10;\n        var lableStartY = rect.y + (axis.isInversed ? 0 : rect.height);\n        var anchor = axis.opposedPosition ? 'start' : 'end';\n        padding = axis.opposedPosition ? padding : -padding;\n        var labelElement;\n        var borderElement;\n        if (!heatMap.enableCanvasRendering) {\n            labelElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'YAxisLabels' });\n            borderElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'YAxisLabelBorder' });\n        }\n        for (var i = 0, len = labels.length; i < len; i++) {\n            var labelRect = new Rect(rect.x, lableStartY, rect.width, interval);\n            var position = axis.isInversed ? labelRect.height / 2 : -(labelRect.height / 2); //titlePositionY(lableRect, 0, 0, axis.textStyle);\n            var axisWidth = this.heatMap.cellSettings.border.width >= 20 ? (this.heatMap.cellSettings.border.width / 2) : 0;\n            var indexValue = this.heatMap.cellSettings.border.width > 5 ?\n                (((this.heatMap.cellSettings.border.width / 2) / len) * (axis.isInversed ? (i) : (len - i))) : 0;\n            label = (axis.enableTrim || axis.textStyle.textOverflow === 'Trim') ? textTrim(axis.maxLabelLength, labels[i], axis.textStyle) : labels[i];\n            var elementSize = measureText(label, axis.textStyle);\n            var labelLength = 1;\n            if (axis.textStyle.textOverflow === 'Wrap') {\n                var wrappedLabel = textWrap(label, axis.maxLabelLength, axis.textStyle);\n                for (var index = 0; index < wrappedLabel.length; index++) {\n                    if ((elementSize.height * wrappedLabel.length) > tempintervel && wrappedLabel.length > 0) {\n                        wrappedLabel.pop();\n                        if (wrappedLabel.length > 0) {\n                            wrappedLabel[wrappedLabel.length - 1] = wrappedLabel[wrappedLabel.length - 1] + '...';\n                            /* eslint-disable max-len */\n                            wrappedLabel[wrappedLabel.length - 1] = textTrim(axis.maxLabelLength, wrappedLabel[wrappedLabel.length - 1], axis.textStyle);\n                        }\n                    }\n                }\n                label = wrappedLabel.length !== 0 ? '' : label;\n                for (var labelIndex = 0; labelIndex < wrappedLabel.length; labelIndex++) {\n                    label = isNullOrUndefined(label) ? wrappedLabel[labelIndex] : label + ' ' + wrappedLabel[labelIndex];\n                }\n                labelLength = wrappedLabel.length;\n            }\n            var x = labelRect.x + padding + (axis.opposedPosition ? (axis.textStyle.textOverflow === 'Wrap' && axis.angle % 360 !== 0 ? labelLength * (elementSize.height / 2) : 0) + axisWidth : -axisWidth);\n            if (axis.textStyle.textAlignment === 'Far' && axis.angle === 0) {\n                /* eslint-disable max-len */\n                position = axis.isInversed ? labelRect.height - (labelLength > 1 ? (elementSize.height * labelLength) - (elementSize.height / 2) : (elementSize.height / 2)) :\n                    -(labelLength > 1 ? (elementSize.height * labelLength) - (elementSize.height / 2) : (elementSize.height / 2));\n            }\n            else if (axis.textStyle.textAlignment === 'Near' && axis.angle === 0) {\n                /* eslint-disable max-len */\n                position = (axis.isInversed ? elementSize.height / 2 : ((elementSize.height / 2) - labelRect.height)) + (axis.border.width / 2);\n            }\n            var y = (labelRect.y - indexValue) + position - ((labelLength > 1 && axis.textStyle.textAlignment === 'Center') || (axis.angle !== 0 && axis.opposedPosition) ? (((elementSize.height * labelLength) / 2) - (elementSize.height / 2)) : 0);\n            var options = new TextOption(heatMap.element.id + '_YAxis_Label' + i, new TextBasic(x, y, anchor, label, 0, 'rotate(' + axis.angle + ',' + (x) + ',' + (y) + ')', 'middle'), axis.textStyle, axis.textStyle.color || heatMap.themeStyle.axisLabel);\n            if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                options.dy = '1ex';\n            }\n            options.text = getTitle(options.text, axis.textStyle, axis.maxLabelLength);\n            if (axis.textStyle.textOverflow === 'Wrap') {\n                this.drawSvgCanvas.createWrapText(options, axis.textStyle, labelElement);\n            }\n            else {\n                this.drawSvgCanvas.createText(options, labelElement, label);\n            }\n            if (compactInterval === 0) {\n                var labelInterval = (axis.valueType === 'DateTime' && axis.showLabelOn !== 'None') ?\n                    axis.dateTimeAxisLabelInterval[i] : axis.axisLabelInterval;\n                lableStartY = lableStartY + (axis.isInversed ? (labelInterval * interval) :\n                    -(labelInterval * interval));\n            }\n            else {\n                lableStartY = lableStartY + (axis.isInversed ? (compactInterval * interval) : -(compactInterval * interval));\n                i = i + (compactInterval - 1);\n            }\n            this.drawYAxisBorder(axis, borderElement, axis.rect, y, elementSize.height, i);\n            if (label.indexOf('...') !== -1) {\n                var xValue = axis.opposedPosition ? x : (x - elementSize.width);\n                this.heatMap.tooltipCollection.push(new CanvasTooltip(labels[i], new Rect(xValue, y - elementSize.height, elementSize.width, elementSize.height)));\n            }\n        }\n        if (!heatMap.enableCanvasRendering) {\n            parent.appendChild(labelElement);\n            parent.appendChild(borderElement);\n        }\n    };\n    AxisHelper.prototype.drawXAxisBorder = function (axis, parent, rect, lableX, width, index) {\n        var interval = rect.width / axis.axisLabelSize;\n        var path = '';\n        var padding = 10;\n        var axisInterval = axis.interval ? axis.interval : 1;\n        var startX = axis.isInversed ? rect.x + rect.width - (interval * index * axisInterval) :\n            rect.x + (interval * index * axisInterval);\n        var startY = rect.y;\n        var endX;\n        var endY;\n        endY = startY + (axis.opposedPosition ? -(axis.maxLabelSize.height + padding) : axis.maxLabelSize.height + padding);\n        // eslint-disable-next-line prefer-const\n        endX = axis.isInversed ? startX - interval : startX + interval;\n        var endY1 = axis.isInversed ? (lableX + width + padding) : (lableX - padding);\n        var endY2 = axis.isInversed ? (lableX - padding) : (lableX + width + padding);\n        switch (axis.border.type) {\n            case 'Rectangle':\n                path = ('M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + startY);\n                break;\n            case 'WithoutTopBorder':\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ';\n                break;\n            case 'WithoutBottomBorder':\n                path = 'M' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'WithoutTopandBottomBorder':\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'M' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'Brace':\n                endY = startY + ((endY - startY) / 2) + (axis.opposedPosition ? 0 : 5);\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endY1 + ' ' + endY + ' ' + 'M' + ' ' + endY2 +\n                    ' ' + endY + ' ' + 'L' +\n                    ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ';\n                break;\n        }\n        if (axis.border.width > 0 && axis.border.type !== 'WithoutBorder') {\n            this.createAxisBorderElement(axis, path, parent, index);\n        }\n    };\n    AxisHelper.prototype.drawYAxisBorder = function (axis, parent, rect, lableY, height, index) {\n        var interval = rect.height / axis.axisLabelSize;\n        var path = '';\n        var padding = 20;\n        var axisInterval = axis.interval ? axis.interval : 1;\n        var startX = rect.x;\n        var startY = axis.isInversed ? rect.y + (interval * index * axisInterval) :\n            rect.y + rect.height - (interval * index * axisInterval);\n        var endX;\n        var endY;\n        endX = startX + (!axis.opposedPosition ? -(axis.maxLabelSize.width + padding) : axis.maxLabelSize.width + padding);\n        // eslint-disable-next-line prefer-const\n        endY = axis.isInversed ? startY + interval : startY - interval;\n        var endY1 = axis.isInversed ? lableY - height / 2 : lableY + height / 2;\n        var endY2 = axis.isInversed ? lableY + height / 2 : lableY - height / 2;\n        switch (axis.border.type) {\n            case 'Rectangle':\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + startY;\n                break;\n            case 'WithoutTopBorder':\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ';\n                break;\n            case 'WithoutBottomBorder':\n                path = 'M' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ' +\n                    'L' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'WithoutTopandBottomBorder':\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'M' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ';\n                break;\n            case 'Brace':\n                endX = startX - (startX - endX) / 2;\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY1 + ' ' + 'M' + ' ' +\n                    endX + ' ' + endY2 + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ' +\n                    'L' + ' ' + startX + ' ' + endY;\n                break;\n        }\n        if (axis.border.width > 0 && axis.border.type !== 'WithoutBorder') {\n            this.createAxisBorderElement(axis, path, parent, index);\n        }\n    };\n    /**\n     * To create border element for axis.\n     *\n     * @returns {void}\n     * @private\n     */\n    AxisHelper.prototype.createAxisBorderElement = function (axis, labelBorder, parent, index) {\n        var canvasTranslate;\n        var id = axis.orientation === 'Horizontal' ? '_XAxis_Label_Border' : '_YAxis_Label_Border';\n        var pathOptions = new PathOption(this.heatMap.element.id + id + index, 'transparent', axis.border.width, axis.border.color, 1, 'none', labelBorder);\n        if (!this.heatMap.enableCanvasRendering) {\n            var borderElement = this.heatMap.renderer.drawPath(pathOptions);\n            parent.appendChild(borderElement);\n        }\n        else {\n            this.heatMap.canvasRenderer.drawPath(pathOptions, canvasTranslate);\n        }\n    };\n    AxisHelper.prototype.drawMultiLevels = function (parent, axis) {\n        var element;\n        if (!this.heatMap.enableCanvasRendering) {\n            element = this.heatMap.renderer.createGroup({ id: this.heatMap.element.id + '_' + axis.orientation + '_MultiLevelLabel' });\n        }\n        if (axis.orientation === 'Horizontal') {\n            this.renderXAxisMultiLevelLabels(axis, element);\n        }\n        else {\n            this.renderYAxisMultiLevelLabels(axis, element);\n        }\n        if (!this.heatMap.enableCanvasRendering) {\n            parent.appendChild(element);\n        }\n    };\n    /**\n     * render x axis multi level labels\n     *\n     * @private\n     * @returns {void}\n     */\n    AxisHelper.prototype.renderXAxisMultiLevelLabels = function (axis, parent) {\n        var _this = this;\n        var x = 0;\n        var y;\n        var padding = 10;\n        var startX;\n        var startY;\n        var endX = 0;\n        var tooltip;\n        var start;\n        var end;\n        var labelSize;\n        var anchor;\n        var isInversed = axis.isInversed;\n        var labelElement;\n        var opposedPosition = axis.opposedPosition;\n        var pathRect = '';\n        var gap;\n        var textLength;\n        var position = (isInversed ? axis.rect.width : 0) + axis.rect.x;\n        axis.multiLevelLabels.map(function (multiLevel, level) {\n            labelElement = _this.heatMap.renderer.createGroup({ id: _this.heatMap.element.id + '_XAxisMultiLevelLabel' + level });\n            multiLevel.categories.map(function (categoryLabel, i) {\n                if (_this.heatMap.theme === 'Bootstrap5' || _this.heatMap.theme === 'Bootstrap5Dark') {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    multiLevel.setProperties({ textStyle: { fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"' } }, true);\n                }\n                if (_this.heatMap.theme === 'Tailwind' || _this.heatMap.theme === 'TailwindDark') {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    multiLevel.setProperties({ textStyle: { fontFamily: 'Inter' } }, true);\n                }\n                if (_this.heatMap.theme === 'Material3' || _this.heatMap.theme === 'Material3Dark') {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    multiLevel.setProperties({ textStyle: { fontFamily: 'Roboto' } }, true);\n                }\n                if (_this.heatMap.theme === 'Fluent' || _this.heatMap.theme === 'FluentDark') {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    multiLevel.setProperties({ textStyle: { fontFamily: '\"Segoe UI\", -apple-system, BlinkMacSystemFont, \"Roboto\", \"Helvetica Neue\", sans-serif' } }, true);\n                }\n                tooltip = false;\n                start = typeof categoryLabel.start === 'number' ? categoryLabel.start : Number(new Date(categoryLabel.start));\n                end = typeof categoryLabel.end === 'number' ? categoryLabel.end : Number(new Date(categoryLabel.end));\n                startX = position + _this.calculateLeftPosition(axis, start, categoryLabel.start, axis.rect);\n                startY = axis.multiLevelPosition[level].y;\n                endX = position + _this.calculateWidth(axis, categoryLabel.end, end, axis.rect);\n                labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                gap = ((categoryLabel.maximumTextWidth === null) ? Math.abs(endX - startX) : categoryLabel.maximumTextWidth) - padding;\n                y = startY + (opposedPosition ? -((axis.xAxisMultiLabelHeight[level] - labelSize.height)) : labelSize.height);\n                x = !isInversed ? startX + padding : startX - gap;\n                if (multiLevel.alignment === 'Center') {\n                    x = ((endX - startX) / 2) + startX;\n                    x -= (labelSize.width > gap ? gap : labelSize.width) / 2;\n                }\n                else if (multiLevel.alignment === 'Far') {\n                    x = !isInversed ? endX - padding : startX - padding;\n                    x -= (labelSize.width > gap ? gap : labelSize.width);\n                }\n                else {\n                    x = !isInversed ? startX + padding : endX + padding;\n                }\n                if (multiLevel.overflow === 'None' && labelSize.width > Math.abs(endX - startX)) {\n                    x = !isInversed ? startX + padding : startX - labelSize.width - padding;\n                    anchor = 'start';\n                }\n                var textBasic = new TextBasic(x, y, anchor, categoryLabel.text, 0, 'translate(0,0)');\n                var options = new TextOption(_this.heatMap.element.id + '_XAxis_MultiLevel' + level + '_Text' + i, textBasic, multiLevel.textStyle, multiLevel.textStyle.color || _this.heatMap.themeStyle.axisLabel);\n                if (multiLevel.overflow === 'Wrap') {\n                    options.text = textWrap(categoryLabel.text, gap, multiLevel.textStyle);\n                    textLength = options.text.length;\n                }\n                else if (multiLevel.overflow === 'Trim') {\n                    options.text = textTrim(gap, categoryLabel.text, multiLevel.textStyle);\n                    textLength = 1;\n                }\n                if (multiLevel.overflow === 'Wrap' && options.text.length > 1) {\n                    _this.drawSvgCanvas.createWrapText(options, multiLevel.textStyle, labelElement);\n                    for (var i_2 = 0; i_2 < options.text.length; i_2++) {\n                        if (options.text[i_2].indexOf('...') !== -1) {\n                            tooltip = true;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    _this.drawSvgCanvas.createText(options, labelElement, options.text);\n                }\n                if (!_this.heatMap.enableCanvasRendering) {\n                    parent.appendChild(labelElement);\n                }\n                if (options.text.indexOf('...') !== -1 || options.text[0].indexOf('...') !== -1 || tooltip) {\n                    _this.heatMap.tooltipCollection.push(new CanvasTooltip(categoryLabel.text, new Rect(x, y - labelSize.height, gap, labelSize.height * textLength)));\n                }\n                if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n                    pathRect = _this.renderXAxisLabelBorder(level, axis, startX, startY, endX, pathRect, level, labelSize, gap, x);\n                }\n            });\n            if (pathRect !== '') {\n                _this.createBorderElement(level, axis, pathRect, parent);\n                pathRect = '';\n            }\n        });\n        if (!this.heatMap.enableCanvasRendering) {\n            parent.appendChild(labelElement);\n        }\n    };\n    /**\n     * render x axis multi level labels border\n     *\n     * @private\n     * @returns {void}\n     */\n    AxisHelper.prototype.renderXAxisLabelBorder = function (labelIndex, axis, startX, startY, endX, path, level, labelSize, gap, x) {\n        var path1;\n        var path2;\n        var endY = startY + (axis.opposedPosition ? -(axis.xAxisMultiLabelHeight[labelIndex]) :\n            axis.xAxisMultiLabelHeight[labelIndex]);\n        var padding = 3;\n        switch (axis.multiLevelLabels[level].border.type) {\n            case 'Rectangle':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ';\n                break;\n            case 'WithoutTopBorder':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ';\n                break;\n            case 'WithoutBottomBorder':\n                path += 'M' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'WithoutTopandBottomBorder':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'M' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'Brace':\n                path1 = axis.isInversed ? (labelSize.width > gap ? gap : labelSize.width) + x + padding : x - padding;\n                path2 = axis.isInversed ? x - padding : (labelSize.width > gap ? gap : labelSize.width) + x + padding;\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + (startY + (endY - startY) / 2) + ' ' +\n                    'L' + ' ' + path1 + ' ' + (startY + (endY - startY) / 2) + ' ' + 'M' + ' ' + path2 + ' ' + (startY +\n                    (endY - startY) / 2) + ' ' + 'L' + ' ' + endX + ' ' + (startY + (endY - startY) / 2) +\n                    ' ' + 'L' + ' ' + endX + ' ' + startY + ' ';\n                break;\n        }\n        return path;\n    };\n    /**\n     * render y axis multi level labels\n     *\n     * @private\n     * @returns {void}\n     */\n    AxisHelper.prototype.renderYAxisMultiLevelLabels = function (axis, parent) {\n        var _this = this;\n        var x = 0;\n        var y;\n        var padding = 10;\n        var startX;\n        var startY;\n        var endY;\n        var start;\n        var end;\n        var labelSize;\n        var isInversed = axis.isInversed;\n        var labelElement;\n        var pathRect = '';\n        var gap;\n        var text;\n        var position = (!isInversed ? axis.rect.height : 0) + axis.rect.y;\n        axis.multiLevelLabels.map(function (multiLevel, level) {\n            startY = axis.multiLevelPosition[level].y;\n            labelElement = _this.heatMap.renderer.createGroup({ id: _this.heatMap.element.id + '_YAxisMultiLevelLabel' + level });\n            multiLevel.categories.map(function (categoryLabel, i) {\n                if (_this.heatMap.theme === 'Tailwind' || _this.heatMap.theme === 'TailwindDark') {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    multiLevel.setProperties({ textStyle: { fontFamily: 'Inter' } }, true);\n                }\n                if (_this.heatMap.theme === 'Material3' || _this.heatMap.theme === 'Material3Dark') {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    multiLevel.setProperties({ textStyle: { fontFamily: 'Roboto' } }, true);\n                }\n                if (_this.heatMap.theme === 'Bootstrap5' || _this.heatMap.theme === 'Bootstrap5Dark') {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    multiLevel.setProperties({ textStyle: { fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"' } }, true);\n                }\n                start = typeof categoryLabel.start === 'number' ? categoryLabel.start : Number(new Date(categoryLabel.start));\n                end = typeof categoryLabel.end === 'number' ? categoryLabel.end : Number(new Date(categoryLabel.end));\n                startY = position + _this.calculateLeftPosition(axis, start, categoryLabel.start, axis.rect);\n                startX = axis.multiLevelPosition[level].x;\n                endY = position + _this.calculateWidth(axis, categoryLabel.start, end, axis.rect);\n                labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                gap = ((categoryLabel.maximumTextWidth === null) ? Math.abs(startX) : categoryLabel.maximumTextWidth) - padding;\n                var maxWidth = Math.abs(startX - (startX - axis.multiLevelSize[level].width - 2 * padding)) / 2 -\n                    (labelSize.width / 2);\n                x = (axis.opposedPosition ? startX : startX - axis.multiLevelSize[level].width - 2 * padding) + maxWidth;\n                y = startY + padding;\n                if (multiLevel.overflow !== 'None') {\n                    if (multiLevel.overflow === 'Wrap') {\n                        text = textWrap(categoryLabel.text, gap, multiLevel.textStyle);\n                    }\n                    else {\n                        text = textTrim(gap, categoryLabel.text, multiLevel.textStyle);\n                    }\n                }\n                if (multiLevel.alignment === 'Center') {\n                    y += ((endY - startY) / 2 - (text.length * labelSize.height) / 2);\n                }\n                else if (multiLevel.alignment === 'Far') {\n                    y = isInversed ? endY - labelSize.height / 2 : y - labelSize.height;\n                }\n                else {\n                    y = isInversed ? y + labelSize.height / 2 : endY + labelSize.height;\n                }\n                if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n                    pathRect = _this.renderYAxisLabelBorder(level, axis, startX, startY, endY, pathRect, level, labelSize, gap, y);\n                }\n                var textBasic = new TextBasic(x, y, 'start', categoryLabel.text, 0, 'translate(0,0)');\n                var options = new TextOption(_this.heatMap.element.id + '_YAxis_MultiLevel' + level + '_Text' + i, textBasic, multiLevel.textStyle, multiLevel.textStyle.color || _this.heatMap.themeStyle.axisLabel);\n                options.text = text;\n                _this.drawSvgCanvas.createText(options, labelElement, options.text);\n                if (options.text.indexOf('...') !== -1) {\n                    _this.heatMap.tooltipCollection.push(new CanvasTooltip(categoryLabel.text, new Rect(x, y - labelSize.height, gap, labelSize.height)));\n                }\n                if (!_this.heatMap.enableCanvasRendering) {\n                    parent.appendChild(labelElement);\n                }\n            });\n            if (pathRect !== '') {\n                _this.createBorderElement(level, axis, pathRect, parent);\n                pathRect = '';\n            }\n        });\n        if (!this.heatMap.enableCanvasRendering) {\n            parent.appendChild(labelElement);\n        }\n    };\n    /**\n     * render x axis multi level labels border\n     *\n     * @private\n     * @returns {void}\n     */\n    AxisHelper.prototype.renderYAxisLabelBorder = function (labelIndex, axis, startX, startY, endY, path, level, labelSize, gap, y) {\n        var padding = 20;\n        var path1;\n        var path2;\n        var endX = startX - (axis.opposedPosition ? -(axis.multiLevelSize[labelIndex].width + padding) :\n            (axis.multiLevelSize[labelIndex].width + padding));\n        switch (axis.multiLevelLabels[level].border.type) {\n            case 'Rectangle':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ';\n                break;\n            case 'WithoutTopBorder':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ';\n                break;\n            case 'WithoutBottomBorder':\n                path += 'M' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ' +\n                    'L' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'WithoutTopandBottomBorder':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'M' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'Brace':\n                padding = 10;\n                path1 = axis.isInversed ? (y - padding - 5) : (y + (labelSize.height) - padding);\n                path2 = axis.isInversed ? (y + (labelSize.height) - padding) : (y - padding - 5);\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + (startX + (endX - startX) / 2) + ' ' + startY + ' ' +\n                    'L' + ' ' + (startX + (endX - startX) / 2) + ' ' + path1 + ' ' + 'M' + ' ' + (startX + (endX - startX) / 2) +\n                    ' ' + path2 + ' ' + 'L' + ' ' + (startX + (endX - startX) / 2) + ' ' +\n                    endY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ';\n                break;\n        }\n        return path;\n    };\n    /**\n     * create borer element\n     *\n     * @returns {void}\n     * @private\n     */\n    AxisHelper.prototype.createBorderElement = function (borderIndex, axis, path, parent) {\n        var canvasTranslate;\n        var id = axis.orientation === 'Horizontal' ? 'XAxis' : 'YAxis';\n        var pathOptions = new PathOption(this.heatMap.element.id + '_' + id + '_MultiLevel_Rect_' + borderIndex, 'Transparent', axis.multiLevelLabels[borderIndex].border.width, axis.multiLevelLabels[borderIndex].border.color, 1, '', path);\n        var borderElement = this.heatMap.renderer.drawPath(pathOptions);\n        if (!this.heatMap.enableCanvasRendering) {\n            parent.appendChild(borderElement);\n        }\n        else {\n            this.heatMap.canvasRenderer.drawPath(pathOptions, canvasTranslate);\n        }\n    };\n    /**\n     * calculate left position of border element\n     *\n     * @private\n     */\n    AxisHelper.prototype.calculateLeftPosition = function (axis, start, label, rect) {\n        var value;\n        var interval;\n        if (typeof label === 'number') {\n            if (axis.valueType === 'Numeric' && (axis.minimum || axis.maximum)) {\n                var min = axis.minimum ? axis.minimum : 0;\n                start -= min;\n            }\n            var size = axis.orientation === 'Horizontal' ? rect.width : rect.height;\n            interval = size / (axis.axisLabelSize * axis.increment);\n            value = (axis.isInversed ? -1 : 1) * start * interval;\n            value = axis.orientation === 'Horizontal' ? value : -value;\n        }\n        else {\n            interval = this.calculateNumberOfDays(start, axis, true, rect);\n            value = axis.isInversed ? -interval : interval;\n            value = axis.orientation === 'Horizontal' ? value : -value;\n        }\n        return value;\n    };\n    /**\n     * calculate width of border element\n     *\n     * @private\n     */\n    AxisHelper.prototype.calculateWidth = function (axis, label, end, rect) {\n        var interval;\n        var value;\n        if (typeof label === 'number') {\n            if (axis.valueType === 'Numeric' && (axis.minimum || axis.maximum)) {\n                var min = axis.minimum ? axis.minimum : 0;\n                end -= min;\n            }\n            var size = axis.orientation === 'Horizontal' ? rect.width : rect.height;\n            interval = size / (axis.axisLabelSize * axis.increment);\n            value = (axis.isInversed ? -1 : 1) * (end + 1) * interval;\n            value = axis.orientation === 'Horizontal' ? value : -value;\n        }\n        else {\n            interval = this.calculateNumberOfDays(end, axis, false, rect);\n            value = interval;\n            value = axis.isInversed ? -value : value;\n            value = axis.orientation === 'Horizontal' ? value : -value;\n        }\n        return value;\n    };\n    AxisHelper.prototype.calculateNumberOfDays = function (date, axis, start, rect) {\n        var oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds\n        var oneMinute = 60 * 1000;\n        var firstDate;\n        var secondDate;\n        var labels = axis.labelValue;\n        var position;\n        var interval = (axis.orientation === 'Horizontal' ? rect.width : rect.height) / axis.axisLabelSize;\n        var givenDate = new Date(Number(date));\n        var days = 0;\n        for (var index = 0; index < axis.axisLabelSize; index++) {\n            firstDate = new Date(Number(labels[index]));\n            secondDate = axis.isInversed ? new Date(Number(labels[index - 1])) : new Date(Number(labels[index + 1]));\n            if (index === (axis.isInversed ? 0 : axis.axisLabelSize - 1)) {\n                secondDate = new Date(Number(labels[index]));\n                if (axis.intervalType === 'Hours') {\n                    secondDate = new Date(Number(secondDate.setHours(secondDate.getHours() + 1)));\n                }\n                else if ((axis.intervalType === 'Minutes')) {\n                    secondDate = new Date(Number(secondDate.setMinutes(secondDate.getMinutes() + 1)));\n                }\n                else if ((axis.intervalType === 'Days')) {\n                    secondDate = new Date(Number(secondDate.setDate(secondDate.getDate() + 1)));\n                }\n                else {\n                    var numberOfDays = axis.intervalType === 'Months' ?\n                        new Date(secondDate.getFullYear(), secondDate.getMonth() + 1, 0).getDate() :\n                        secondDate.getFullYear() % 4 === 0 ? 366 : 365;\n                    secondDate = new Date(Number(secondDate.setDate(secondDate.getDate() + numberOfDays)));\n                }\n            }\n            if (Number(firstDate) <= date && Number(secondDate) >= date) {\n                if (axis.intervalType === 'Minutes' || axis.intervalType === 'Hours') {\n                    var totalMinutes = Math.round(Math.abs((firstDate.getTime() - secondDate.getTime()) / (oneMinute)));\n                    var minutesInHours = Math.abs((firstDate.getTime() - givenDate.getTime()) / (oneMinute));\n                    days = (interval / totalMinutes) * minutesInHours;\n                    index = axis.isInversed ? axis.axisLabelSize - 1 - index : index;\n                    position = index * interval + days;\n                    break;\n                }\n                else {\n                    var numberOfDays = Math.round(Math.abs((firstDate.getTime() - secondDate.getTime()) / (oneDay)));\n                    // eslint-disable-next-line\n                    start ? givenDate.getDate() : givenDate.setDate(givenDate.getDate() + 1);\n                    if (numberOfDays !== 0) {\n                        days = (interval / numberOfDays) * (Math.abs((firstDate.getTime() - givenDate.getTime()) / (oneDay)));\n                    }\n                    index = axis.isInversed ? axis.axisLabelSize - 1 - index : index;\n                    position = index * interval + days;\n                    break;\n                }\n            }\n        }\n        return position;\n    };\n    return AxisHelper;\n}());\nexport { AxisHelper };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, extend, merge, Complex, Browser, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Rect, TextBasic, Path, PathAttributes, RectOption, CircleOption, TextOption, CurrentRect, DrawSvgCanvas } from '../utils/helper';\nimport { convertHexToColor, colorNameToHex, formatValue } from '../utils/helper';\nimport { CellColor } from '../utils/colorMapping';\nimport { Border, Font, BubbleTooltipData, BubbleSize } from '../model/base';\nimport { Theme } from '../model/theme';\n/**\n * Sets and gets the options to configure the cells of the heatmap.\n */\nvar CellSettings = /** @class */ (function (_super) {\n    __extends(CellSettings, _super);\n    function CellSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], CellSettings.prototype, \"showLabel\", void 0);\n    __decorate([\n        Property('')\n    ], CellSettings.prototype, \"format\", void 0);\n    __decorate([\n        Property(true)\n    ], CellSettings.prototype, \"enableCellHighlighting\", void 0);\n    __decorate([\n        Complex({}, BubbleSize)\n    ], CellSettings.prototype, \"bubbleSize\", void 0);\n    __decorate([\n        Complex({}, Border)\n    ], CellSettings.prototype, \"border\", void 0);\n    __decorate([\n        Complex(Theme.rectLabelFont, Font)\n    ], CellSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property('Rect')\n    ], CellSettings.prototype, \"tileType\", void 0);\n    __decorate([\n        Property('Color')\n    ], CellSettings.prototype, \"bubbleType\", void 0);\n    __decorate([\n        Property(false)\n    ], CellSettings.prototype, \"isInversedBubbleSize\", void 0);\n    return CellSettings;\n}(ChildProperty));\nexport { CellSettings };\nvar Series = /** @class */ (function () {\n    function Series(heatMap) {\n        this.heatMap = heatMap;\n        this.drawSvgCanvas = new DrawSvgCanvas(this.heatMap);\n        this.cellColor = new CellColor(this.heatMap);\n    }\n    /**\n     * To render rect series.\n     *\n     * @returns {void}\n     * @private\n     */\n    // tslint:disable-next-line:max-func-body-length\n    Series.prototype.renderRectSeries = function () {\n        this.createSeriesGroup();\n        var heatMap = this.heatMap;\n        var isValueInRange = false;\n        heatMap.xLength = heatMap.axisCollections[0].axisLabelSize;\n        heatMap.yLength = heatMap.axisCollections[1].axisLabelSize; // Series Part\n        var tempX = Math.round(heatMap.initialClipRect.x * 100) / 100;\n        var tempY = Math.round(heatMap.initialClipRect.y * 100) / 100;\n        var dataXIndex = 0;\n        var dataYIndex = 0;\n        var cellSetting = heatMap.cellSettings;\n        var tempWidth = Math.round(((heatMap.initialClipRect.width -\n            (cellSetting.border.width / 2)) / heatMap.xLength) * 100) / 100;\n        var tempHeight = Math.round(((heatMap.initialClipRect.height -\n            (cellSetting.border.width / 2)) / heatMap.yLength) * 100) / 100;\n        var tempVal = 0;\n        var tempRectPosition = [];\n        var tempBorder = cellSetting.border;\n        var borderColor;\n        var displayText;\n        this.rectPositionCollection = [];\n        this.color = '';\n        this.bubbleColorValue = [];\n        if (heatMap.yAxis.opposedPosition) {\n            tempX = Math.round((heatMap.initialClipRect.x + (parseFloat(tempBorder.width.toString()) / 2)) * 100) / 100;\n        }\n        var circleRadius = this.getBubbleRadius(tempWidth, tempHeight);\n        for (var x = 0; x < (heatMap.xLength * heatMap.yLength); x++) {\n            if (heatMap.paletteSettings.colorGradientMode === 'Column' && this.heatMap.paletteSettings.type === 'Gradient') {\n                this.heatMap.dataSourceMinValue = this.heatMap.dataMin[dataYIndex];\n                this.heatMap.dataSourceMaxValue = this.heatMap.dataMax[dataYIndex];\n            }\n            else if (heatMap.paletteSettings.colorGradientMode === 'Row' && this.heatMap.paletteSettings.type === 'Gradient') {\n                this.heatMap.dataSourceMinValue = this.heatMap.dataMin[dataXIndex];\n                this.heatMap.dataSourceMaxValue = this.heatMap.dataMax[dataXIndex];\n            }\n            this.setTextAndColor(dataXIndex, dataYIndex);\n            var rectPosition = new CurrentRect(0, 0, 0, 0, 0, '', 0, 0, 0, 0, true, '', '', true);\n            borderColor = tempBorder.color;\n            if (this.heatMap.bubbleSizeWithColor) {\n                this.updateRectDetails(rectPosition, tempX, tempY, tempWidth, tempHeight, extend('', this.bubbleColorValue, null, true), x, dataYIndex, dataXIndex);\n            }\n            else {\n                this.updateRectDetails(rectPosition, tempX, tempY, tempWidth, tempHeight, this.text, x, dataYIndex, dataXIndex);\n            }\n            if (cellSetting.showLabel) {\n                displayText = this.getFormatedText(this.text, cellSetting.format);\n            }\n            else {\n                displayText = '';\n            }\n            rectPosition.displayText = displayText;\n            if (!isNullOrUndefined(this.heatMap.cellRender)) {\n                displayText = this.cellRendering(rectPosition, displayText);\n            }\n            if ((heatMap.renderingMode === 'Canvas' && parseFloat(tempBorder.width.toString()) === 0) || (!borderColor &&\n                cellSetting.tileType === 'Bubble' && cellSetting.bubbleType === 'Sector')) {\n                borderColor = this.color;\n            }\n            if (cellSetting.tileType === 'Rect') { // Rectangle/Tile Series\n                this.renderTileCell(rectPosition, tempBorder, x, this.color, borderColor);\n                this.updateLabelVisibleStatus(tempWidth, tempHeight, displayText);\n            }\n            else {\n                if (cellSetting.bubbleType === 'Color') { // Bubble by same size and different color Series\n                    this.renderBubbleCell(rectPosition, tempBorder, x, this.color, borderColor, circleRadius);\n                    this.updateLabelVisibleStatus((circleRadius * 2) - 12, (circleRadius * 2) - 6, displayText); // 6, 12 - circle padding\n                }\n                else if (!isNullOrUndefined(this.text) && (cellSetting.bubbleType === 'Size' || cellSetting.bubbleType === 'SizeAndColor')\n                    && this.text.toString() !== '') { // Bubble by same color and different size Series\n                    if (this.heatMap.paletteSettings.colorGradientMode !== 'Table' && this.heatMap.paletteSettings.type === 'Gradient') {\n                        this.heatMap.minColorValue = !isFinite(this.heatMap.minColorValue) ?\n                            this.heatMap.dataSourceMinValue : this.heatMap.minColorValue;\n                        this.heatMap.maxColorValue = !isFinite(this.heatMap.maxColorValue) ?\n                            this.heatMap.dataSourceMaxValue : this.heatMap.maxColorValue;\n                    }\n                    var tempCircleRadius = this.getRadiusBypercentage(parseFloat(this.text.toString()), heatMap.dataSourceMinValue, heatMap.dataSourceMaxValue, circleRadius);\n                    this.renderBubbleCell(rectPosition, tempBorder, x, this.color, borderColor, tempCircleRadius);\n                    this.updateLabelVisibleStatus((tempCircleRadius * 2) - 12, (tempCircleRadius * 2) - 6, displayText);\n                }\n                else if (cellSetting.bubbleType === 'Sector' && !isNullOrUndefined(this.text) && this.text.toString() !== '') {\n                    this.renderSectorCell(rectPosition, tempBorder, x.toString(), this.color, borderColor, circleRadius, this.text);\n                    this.checkLabelXDisplay = false;\n                    this.checkLabelYDisplay = false;\n                }\n            }\n            tempRectPosition.push(rectPosition);\n            if (heatMap.rangeSelection && heatMap.paletteSettings.type === 'Fixed') {\n                isValueInRange = this.isCellValueInRange(dataXIndex, dataYIndex);\n                rectPosition.visible = isValueInRange;\n            }\n            if (cellSetting.showLabel && this.checkLabelYDisplay && this.checkLabelXDisplay) {\n                var themeCellTextStyle = cellSetting.textStyle;\n                var options = new TextOption(heatMap.element.id + '_HeatMapRectLabels_' + x, new TextBasic(Math.round((tempX + tempWidth / 2) * 100) / 100, Math.round((tempY + tempHeight / 2) * 100) / 100, 'middle', displayText, null, null, 'middle'), themeCellTextStyle, themeCellTextStyle.color || this.getSaturatedColor(this.color));\n                rectPosition.textId = options.id;\n                if (heatMap.rangeSelection && heatMap.paletteSettings.type === 'Fixed') {\n                    options.fill = isValueInRange ? options.fill : this.heatMap.themeStyle.toggledColor;\n                }\n                if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                    options.dy = this.heatMap.cellSettings.tileType === 'Bubble' ? '0.5ex' : '1ex';\n                }\n                this.drawSvgCanvas.createText(options, this.containerTextObject, displayText);\n            }\n            if (tempVal === heatMap.xLength - 1) {\n                tempY = Math.round((tempY + tempHeight) * 100) / 100;\n                tempVal = 0;\n                dataYIndex = 0;\n                if (heatMap.yAxis.opposedPosition) {\n                    tempX = Math.round((heatMap.initialClipRect.x + (parseFloat(tempBorder.width.toString()) / 2)) * 100) / 100;\n                }\n                else {\n                    tempX = Math.round(heatMap.initialClipRect.x * 100) / 100;\n                }\n                this.rectPositionCollection.push(tempRectPosition);\n                tempRectPosition = [];\n                dataXIndex++;\n            }\n            else {\n                tempX = Math.round((tempX + tempWidth) * 100) / 100;\n                tempVal++;\n                dataYIndex++;\n            }\n        }\n        if (!heatMap.enableCanvasRendering) {\n            heatMap.svgObject.appendChild(this.containerRectObject);\n            if (cellSetting.showLabel && !(cellSetting.tileType === 'Bubble' && cellSetting.bubbleType === 'Sector')) {\n                heatMap.svgObject.appendChild(this.containerTextObject);\n            }\n        }\n    };\n    /**\n     * To toggle the cell text color based on legend selection.\n     */\n    Series.prototype.isCellValueInRange = function (dataXIndex, dataYIndex) {\n        var isValueInRange = false;\n        for (var i = 0; i < this.heatMap.toggleValue.length; i++) {\n            var maxValue = void 0;\n            var minValue = (i === 0) && !this.heatMap.isColorRange ? this.heatMap.dataSourceMinValue :\n                this.heatMap.isColorRange ?\n                    this.heatMap.toggleValue[i].startValue : this.heatMap.toggleValue[i].value;\n            if (this.heatMap.cellSettings.tileType === 'Bubble' && this.heatMap.cellSettings.bubbleType === 'SizeAndColor') {\n                maxValue = (i === this.heatMap.toggleValue.length - 1) ? this.heatMap.maxColorValue :\n                    this.heatMap.toggleValue[i + 1].value - 0.01;\n            }\n            else {\n                maxValue = (i === this.heatMap.toggleValue.length - 1 && !this.heatMap.isColorRange) ?\n                    this.heatMap.dataSourceMaxValue : this.heatMap.isColorRange ?\n                    this.heatMap.toggleValue[i].endValue : this.heatMap.toggleValue[i + 1].value - 0.01;\n            }\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var clonedDataSource = this.heatMap.clonedDataSource;\n            var bubbleText = !isNullOrUndefined(clonedDataSource[dataXIndex][dataYIndex][1]) &&\n                clonedDataSource[dataXIndex][dataYIndex][1].toString() !== '' ? clonedDataSource[dataXIndex][dataYIndex][1] : '';\n            var text = parseFloat(this.heatMap.cellSettings.tileType === 'Bubble' && this.heatMap.cellSettings.bubbleType === 'SizeAndColor' ?\n                bubbleText.toString() : this.text.toString());\n            if (isNaN(text)) {\n                isValueInRange = true;\n            }\n            else if (!isNaN(text) && text >= minValue && text <= maxValue) {\n                if (!this.heatMap.toggleValue[i].visible) {\n                    isValueInRange = false;\n                    break;\n                }\n                else {\n                    isValueInRange = true;\n                    break;\n                }\n            }\n            else if (this.heatMap.isColorRange &&\n                maxValue >= this.heatMap.toggleValue[i].endValue && i === this.heatMap.toggleValue.length - 1) {\n                isValueInRange = true;\n                break;\n            }\n        }\n        return isValueInRange;\n    };\n    /**\n     * To customize the cell.\n     *\n     * @returns {void}\n     * @private\n     */\n    Series.prototype.cellRendering = function (rectPosition, text) {\n        var xAxis = this.heatMap.axisCollections[0];\n        var yAxis = this.heatMap.axisCollections[1];\n        var xLabels = xAxis.tooltipLabels;\n        var yLabels = yAxis.tooltipLabels.slice().reverse();\n        var yLabelValue = yAxis.labelValue.slice().reverse();\n        var argData = {\n            heatmap: this.heatMap,\n            cancel: false,\n            name: 'cellRender',\n            value: rectPosition.value,\n            xLabel: xLabels[rectPosition.xIndex].toString(),\n            yLabel: yLabels[rectPosition.yIndex].toString(),\n            displayText: text,\n            xValue: xAxis.labelValue[rectPosition.xIndex],\n            yValue: yLabelValue[rectPosition.yIndex],\n            cellColor: this.color\n        };\n        this.heatMap.trigger('cellRender', argData);\n        this.color = argData.cellColor;\n        return argData.displayText;\n    };\n    /**\n     * To set color and text details.\n     *\n     * @private\n     */\n    Series.prototype.setTextAndColor = function (dataXIndex, dataYIndex) {\n        this.bubbleColorValue = [];\n        var adaptData = this.heatMap.dataSourceSettings;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var clonedDataSource = this.heatMap.clonedDataSource;\n        if (this.heatMap.bubbleSizeWithColor) {\n            this.text = !isNullOrUndefined(clonedDataSource[dataXIndex][dataYIndex][0]) &&\n                clonedDataSource[dataXIndex][dataYIndex][0].toString() !== '' ? clonedDataSource[dataXIndex][dataYIndex][0] : '';\n            this.color = !isNullOrUndefined(clonedDataSource[dataXIndex][dataYIndex][1]) &&\n                clonedDataSource[dataXIndex][dataYIndex][1].toString() !== '' ?\n                this.cellColor.getColorByValue(clonedDataSource[dataXIndex][dataYIndex][1])\n                : this.heatMap.isColorValueExist ? this.heatMap.emptyPointColor : this.cellColor.getColorByValue(this.text);\n            var tempBubbleCollection = new BubbleTooltipData(adaptData.isJsonData && adaptData.adaptorType === 'Cell' ? adaptData.bubbleDataMapping.size : null, this.text, 'Size');\n            this.bubbleColorValue.push(tempBubbleCollection);\n            this.bubbleColorValue.push({\n                mappingName: adaptData.isJsonData && adaptData.adaptorType === 'Cell' ?\n                    adaptData.bubbleDataMapping.color : null,\n                bubbleData: !isNullOrUndefined(clonedDataSource[dataXIndex][dataYIndex][1]) &&\n                    clonedDataSource[dataXIndex][dataYIndex][1].toString() !== '' ? clonedDataSource[dataXIndex][dataYIndex][1] : '',\n                valueType: 'Color'\n            });\n        }\n        else {\n            this.text = clonedDataSource[dataXIndex][dataYIndex];\n            this.color = this.cellColor.getColorByValue(this.text);\n        }\n    };\n    /**\n     * To update rect details.\n     *\n     * @private\n     */\n    Series.prototype.createSeriesGroup = function () {\n        if (!this.heatMap.enableCanvasRendering) {\n            this.containerRectObject = this.heatMap.renderer.createGroup({\n                id: this.heatMap.element.id + '_Container_RectGroup'\n            });\n            if (this.heatMap.cellSettings.showLabel &&\n                !(this.heatMap.cellSettings.tileType === 'Bubble' && this.heatMap.cellSettings.bubbleType === 'Sector')) {\n                this.containerTextObject = this.heatMap.renderer.createGroup({ id: this.heatMap.element.id + '_Container_TextGroup', transform: 'translate( 0, 0)' });\n            }\n        }\n    };\n    /**\n     * To update rect details.\n     *\n     * @private\n     */\n    Series.prototype.updateRectDetails = function (rectPosition, tempX, tempY, tempWidth, tempHeight, text, x, dataXIndex, dataYIndex) {\n        rectPosition.x = tempX;\n        rectPosition.y = tempY;\n        rectPosition.width = tempWidth;\n        rectPosition.height = tempHeight;\n        rectPosition.value = text;\n        rectPosition.id = this.heatMap.element.id + '_HeatMapRect_' + x;\n        rectPosition.xIndex = dataXIndex;\n        rectPosition.yIndex = dataYIndex;\n    };\n    /**\n     * To Render Tile Cell.\n     *\n     * @private\n     */\n    Series.prototype.renderTileCell = function (rectPosition, tempBorder, x, color, borderColor) {\n        var rect = new RectOption(this.heatMap.element.id + '_HeatMapRect_' + x, color, tempBorder, 1, new Rect(rectPosition.x, rectPosition.y, rectPosition.width, rectPosition.height), borderColor || this.heatMap.themeStyle.cellBorder, tempBorder.radius, tempBorder.radius);\n        this.drawSvgCanvas.drawRectangle(rect, this.containerRectObject, true);\n    };\n    /**\n     * To get bubble radius.\n     *\n     * @private\n     */\n    Series.prototype.getBubbleRadius = function (width, height) {\n        var radius = (width / 2) - 2;\n        if (height / 2 < width / 2) {\n            radius = (height / 2) - 2;\n        }\n        return radius < 0 ? 0 : radius;\n    };\n    /**\n     * To Render Bubble Cell.\n     *\n     * @private\n     */\n    Series.prototype.renderSectorCell = function (bubblePosition, tempBorder, x, color, borderColor, circleRadius, text) {\n        var curve;\n        var startAngle;\n        var endAngle;\n        var cX;\n        var cY;\n        var X1;\n        var Y1;\n        var tempcX;\n        var tempcY;\n        var pathBorderWidth;\n        var centerX = Math.round((bubblePosition.x + (bubblePosition.width / 2)) * 100) / 100;\n        var centerY = Math.round((bubblePosition.y + (bubblePosition.height / 2)) * 100) / 100;\n        var tempColor = color;\n        var sectorContibution = this.getRadiusBypercentage(text, this.heatMap.dataSourceMinValue, this.heatMap.dataSourceMaxValue, 360); // Circle total angle.\n        for (var y = 0; y < 2; y++) {\n            pathBorderWidth = parseFloat(tempBorder.width.toString());\n            if (y === 0) {\n                curve = sectorContibution >= 180 ? 1 : 0;\n                startAngle = -90;\n                if (sectorContibution === 0) {\n                    endAngle = 270; // (360 - 90) for zero position adjustment.\n                }\n                else {\n                    endAngle = (sectorContibution - 90);\n                }\n                cX = Math.round((centerX + circleRadius * Math.cos((sectorContibution - 90) * (Math.PI / 180))) * 100) / 100;\n                cY = Math.round((centerY + circleRadius * Math.sin((sectorContibution - 90) * (Math.PI / 180))) * 100) / 100;\n                X1 = Math.round(centerX * 100) / 100;\n                Y1 = Math.round((centerY - circleRadius) * 100) / 100;\n                if (sectorContibution === 0) {\n                    tempColor = this.heatMap.emptyPointColor;\n                }\n            }\n            else {\n                curve = sectorContibution >= 180 ? 0 : 1;\n                startAngle = endAngle;\n                endAngle = 270; // (360 - 90) for zero position adjustment.\n                tempColor = this.heatMap.emptyPointColor;\n                x = x + '_Unfilled';\n                tempcX = cX;\n                tempcY = cY;\n                cX = X1;\n                cY = Y1;\n                X1 = tempcX;\n                Y1 = tempcY;\n                if (sectorContibution === 0) {\n                    pathBorderWidth = 1;\n                    borderColor = color;\n                }\n            }\n            var path = new Path('', false, centerX, centerY, X1, Y1, cX, cY, startAngle, endAngle, circleRadius, true);\n            var sector = new PathAttributes(this.heatMap.element.id + '_HeatMapRect_' + x, path, tempColor, tempBorder, pathBorderWidth, 1, borderColor);\n            this.calculateShapes(sector, path, sectorContibution, curve);\n            this.drawSvgCanvas.drawPath(sector, path, this.containerRectObject);\n            if (sectorContibution === 360) {\n                break;\n            }\n        }\n    };\n    /**\n     * To Render sector Cell.\n     *\n     * @private\n     */\n    Series.prototype.calculateShapes = function (options, path, sectorContibution, curve) {\n        var pathString;\n        switch (sectorContibution) {\n            case 360:\n            case 0:\n                if (sectorContibution === 0 && path.start === path.end) {\n                    pathString = 'M' + ' ' + options.x + ' ' + options.y + ' ' + 'L' + ' ' + path.x + ' ' + (path.y - path.radius);\n                }\n                else {\n                    pathString = !this.heatMap.enableCanvasRendering ? 'M' + ' ' + options.x + ' ' + options.y + ' ' : '';\n                    pathString = pathString + 'm' + ' ' + (-path.radius) + ' ' + '0' + ' ' +\n                        'a' + ' ' + path.radius + ' ' + path.radius + ' ' + '0' + ' ' + '1' + ' ' + '0' +\n                        ' ' + (path.radius * 2) + ' ' + '0' + ' ' + 'a' + ' ' + path.radius +\n                        ' ' + path.radius + ' ' + '0' + ' ' + '1' + ' ' + '0' +\n                        ' ' + (-(path.radius * 2)) + ' ' + '0' + ' ';\n                }\n                merge(options, { 'd': pathString });\n                break;\n            default:\n                pathString = 'M' + ' ' + options.x + ' ' + options.y + ' ' + 'L' + ' ' + path.x1 + ' ' + path.y1 + ' ' +\n                    'A' + ' ' + path.radius + ' ' + path.radius + ' ' + '0' + ' ' + curve + ' ' + '1' + ' ' +\n                    path.cx + ' ' + path.cy + ' ' + 'Z';\n                merge(options, { 'd': pathString });\n                break;\n        }\n    };\n    /**\n     * To Render Bubble Cell.\n     *\n     * @private\n     */\n    Series.prototype.renderBubbleCell = function (bubblePosition, tempBorder, x, color, borderColor, circleRadius) {\n        var circle = new CircleOption(this.heatMap.element.id + '_HeatMapRect_' + x, color, tempBorder, 1, borderColor || this.heatMap.themeStyle.cellBorder, Math.round((bubblePosition.x + (bubblePosition.width / 2)) * 100) / 100, Math.round((bubblePosition.y + (bubblePosition.height / 2)) * 100) / 100, circleRadius);\n        this.drawSvgCanvas.drawCircle(circle, this.containerRectObject);\n    };\n    /**\n     * To find whether the X,Y Label need to display or not.\n     *\n     * @private\n     */\n    Series.prototype.updateLabelVisibleStatus = function (tempWidth, tempHeight, displayText) {\n        if (this.heatMap.cellSettings.showLabel) {\n            this.checkLabelYDisplay = tempHeight > parseInt(this.heatMap.cellSettings.textStyle.size, 10) ? true : false;\n            this.checkLabelXDisplay = tempWidth > (displayText.length *\n                (parseInt(this.heatMap.cellSettings.textStyle.size, 10) / 2)) ? true : false;\n        }\n    };\n    /**\n     * To find percentage value.\n     *\n     * @private\n     */\n    Series.prototype.getRadiusBypercentage = function (text, min, max, radius) {\n        var minimum = parseInt(this.heatMap.cellSettings.bubbleSize.minimum, 10);\n        var maximum = parseInt(this.heatMap.cellSettings.bubbleSize.maximum, 10);\n        if (minimum < 0 || minimum > 100 || isNaN(minimum)) {\n            minimum = 0;\n        }\n        if (maximum < 0 || maximum > 100 || isNaN(maximum)) {\n            maximum = 100;\n        }\n        var valueInPrecentage = ((text - min) /\n            (max - min)) * 100;\n        valueInPrecentage = isNaN(valueInPrecentage) ? 100 : valueInPrecentage;\n        if ((this.heatMap.bubbleSizeWithColor ||\n            (this.heatMap.cellSettings.tileType === 'Bubble' && this.heatMap.cellSettings.bubbleType === 'Size'))) {\n            if (this.heatMap.cellSettings.isInversedBubbleSize) {\n                valueInPrecentage = 100 - valueInPrecentage;\n            }\n            valueInPrecentage = ((valueInPrecentage * (maximum - minimum)) / 100) + minimum;\n        }\n        radius = radius * (valueInPrecentage / 100);\n        return (Math.round(radius * 100) / 100) < 0 ? 0 : (Math.round(radius * 100) / 100);\n    };\n    /**\n     * To find saturated color for datalabel.\n     *\n     * @returns {string}\n     * @private\n     */\n    Series.prototype.getSaturatedColor = function (color) {\n        var saturatedColor = color;\n        saturatedColor = (saturatedColor === 'transparent') ? window.getComputedStyle(document.body, null).backgroundColor : saturatedColor;\n        var rgbValue = convertHexToColor(colorNameToHex(saturatedColor));\n        var contrast = Math.round((rgbValue.R * 299 + rgbValue.G * 587 + rgbValue.B * 114) / 1000);\n        return contrast >= 128 ? 'black' : 'white';\n    };\n    /**\n     * To highlight the mouse hovered rect cell.\n     *\n     * @returns {void}\n     * @private\n     */\n    Series.prototype.highlightSvgRect = function (tempID) {\n        if (tempID.indexOf('Celltooltip') === -1) {\n            if (tempID.indexOf('_HeatMapRect') !== -1) {\n                if (tempID.indexOf('_HeatMapRectLabels_') !== -1) {\n                    var tempIndex = tempID.indexOf('_HeatMapRectLabels_') + 19;\n                    tempID = this.heatMap.element.id + '_HeatMapRect_' + tempID.slice(tempIndex);\n                }\n                var element = document.getElementById(tempID);\n                if (this.heatMap.tempRectHoverClass !== tempID) {\n                    if (this.heatMap.cellSettings.enableCellHighlighting) {\n                        var oldElement = void 0;\n                        if (this.heatMap.tempRectHoverClass) {\n                            oldElement = document.getElementById(this.heatMap.tempRectHoverClass);\n                        }\n                        if (oldElement && !this.heatMap.rectSelected) {\n                            oldElement.setAttribute('opacity', '1');\n                        }\n                        if (element && !this.heatMap.rectSelected) {\n                            element.setAttribute('opacity', '0.65');\n                        }\n                    }\n                    this.heatMap.tempRectHoverClass = tempID;\n                }\n            }\n            else {\n                if (this.heatMap.cellSettings.enableCellHighlighting) {\n                    var oldElement = void 0;\n                    if (this.heatMap.tempRectHoverClass) {\n                        oldElement = document.getElementById(this.heatMap.tempRectHoverClass);\n                    }\n                    if (oldElement && !this.heatMap.rectSelected) {\n                        oldElement.setAttribute('opacity', '1');\n                        this.heatMap.tempRectHoverClass = '';\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To get the value depends to format.\n     *\n     * @returns {string}\n     * @private\n     */\n    Series.prototype.getFormatedText = function (val, getFormat) {\n        var format = getFormat;\n        var isCustom = format.match('{value}') !== null;\n        this.format = this.heatMap.intl.getNumberFormat({\n            format: isCustom ? '' : format\n        });\n        var value = '';\n        if (val.toString() !== '') {\n            value = formatValue(isCustom, format, val, this.format);\n        }\n        return value;\n    };\n    /**\n     * To get mouse hovered cell details.\n     *\n     * @returns {CurrentRect}\n     * @private\n     */\n    Series.prototype.getCurrentRect = function (x, y) {\n        var currentRect;\n        var firstRectDetails = [];\n        firstRectDetails.push(this.heatMap.heatMapSeries.rectPositionCollection[0][0]);\n        var rectX = Math.ceil((x - firstRectDetails[0].x) / firstRectDetails[0].width) <\n            this.heatMap.axisCollections[0].axisLabelSize ?\n            Math.ceil((x - firstRectDetails[0].x) / firstRectDetails[0].width) :\n            this.heatMap.axisCollections[0].axisLabelSize;\n        var rectY = Math.floor(((y - firstRectDetails[0].y) / firstRectDetails[0].height)) <\n            this.heatMap.axisCollections[1].axisLabelSize ?\n            Math.floor(((y - firstRectDetails[0].y) / firstRectDetails[0].height)) :\n            this.heatMap.axisCollections[1].axisLabelSize - 1;\n        rectX = rectX === 0 ? 1 : rectX;\n        // eslint-disable-next-line prefer-const\n        currentRect = this.heatMap.heatMapSeries.rectPositionCollection[rectY][rectX - 1];\n        this.hoverXAxisLabel = this.heatMap.axisCollections[0].tooltipLabels[rectX - 1];\n        this.hoverXAxisValue = this.heatMap.axisCollections[0].labelValue[rectX - 1];\n        this.hoverYAxisLabel = this.heatMap.axisCollections[1].tooltipLabels[(this.heatMap.axisCollections[1].tooltipLabels.length - 1) - rectY];\n        this.hoverYAxisValue = this.heatMap.axisCollections[1].labelValue[(this.heatMap.axisCollections[1].labelValue.length - 1) - rectY];\n        return currentRect;\n    };\n    return Series;\n}());\nexport { Series };\n","/**\n * HeatMap tool tip file\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { createElement, Property, Complex, ChildProperty, isNullOrUndefined, select } from '@syncfusion/ej2-base';\nimport { Tooltip as tool } from '@syncfusion/ej2-svg-base';\nimport { TooltipBorder, Font } from '../model/base';\nimport { Theme } from '../model/theme';\n/**\n * Sets and gets the options to customize the tooltip in heatmap.\n */\nvar TooltipSettings = /** @class */ (function (_super) {\n    __extends(TooltipSettings, _super);\n    function TooltipSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TooltipSettings.prototype, \"template\", void 0);\n    __decorate([\n        Property('')\n    ], TooltipSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Complex({}, TooltipBorder)\n    ], TooltipSettings.prototype, \"border\", void 0);\n    __decorate([\n        Complex(Theme.tooltipFont, Font)\n    ], TooltipSettings.prototype, \"textStyle\", void 0);\n    return TooltipSettings;\n}(ChildProperty));\nexport { TooltipSettings };\n/**\n *\n * The `Tooltip` module is used to render the tooltip for heatmap series.\n */\nvar Tooltip = /** @class */ (function () {\n    function Tooltip(heatMap) {\n        /* private */\n        this.isFirst = true;\n        /* private */\n        this.isFadeout = false;\n        this.heatMap = heatMap;\n    }\n    /**\n     * Get module name\n     */\n    Tooltip.prototype.getModuleName = function () {\n        return 'Tooltip';\n    };\n    /**\n     * To show/hide Tooltip.\n     *\n     * @private\n     */\n    Tooltip.prototype.showHideTooltip = function (isShow, isFadeout) {\n        var ele = document.getElementById(this.heatMap.element.id + 'Celltooltipcontainer');\n        if (!isShow) {\n            if (ele && ele.style.visibility !== 'hidden') {\n                if (this.tooltipObject && isFadeout && this.heatMap.isRectBoundary) {\n                    this.tooltipObject.fadeOut();\n                }\n                else {\n                    if (this.tooltipObject && this.tooltipObject.element) {\n                        var tooltipElement = this.tooltipObject.element.firstChild;\n                        tooltipElement.setAttribute('opacity', '0');\n                    }\n                }\n                ele.style.visibility = 'hidden';\n            }\n            this.isFadeout = true;\n        }\n        else {\n            ele.style.visibility = 'visible';\n        }\n    };\n    /**\n     * To destroy the Tooltip.\n     *\n     * @returns {void}\n     * @private\n     */\n    Tooltip.prototype.destroy = function () {\n        /**\n         * Destroy method performed here\n         */\n    };\n    /**\n     * To add Tooltip to the rect cell.\n     *\n     * @returns {void}\n     * @private\n     */\n    Tooltip.prototype.createTooltip = function (currentRect, x, y, tempTooltipText) {\n        var offset = null;\n        var element = select('#' + this.heatMap.element.id + 'Celltooltipcontainer');\n        if (this.heatMap.cellSettings.showLabel && this.heatMap.heatMapSeries.checkLabelXDisplay &&\n            this.heatMap.heatMapSeries.checkLabelYDisplay) {\n            offset = parseInt(this.heatMap.cellSettings.textStyle.size, 10) / 2;\n        }\n        if (this.heatMap.theme === 'Tailwind') {\n            this.heatMap.setProperties({ tooltipSettings: { textStyle: { size: '12px', fontFamily: 'Inter', fontWeight: '500' } } }, true);\n        }\n        if (this.heatMap.theme === 'TailwindDark') {\n            this.heatMap.setProperties({ tooltipSettings: { fill: '#F9FAFB', textStyle: { size: '12px', fontFamily: 'Inter', fontWeight: '500', color: '#1F2937' } } }, true);\n        }\n        if (this.heatMap.theme === 'Bootstrap5') {\n            this.heatMap.setProperties({ tooltipSettings: { textStyle: { size: '14px', fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"', fontWeight: '500' } } }, true);\n        }\n        if (this.heatMap.theme === 'Bootstrap5Dark') {\n            this.heatMap.setProperties({ tooltipSettings: { fill: '#E9ECEF', textStyle: { size: '14px', fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"', fontWeight: '500', color: '#212529' } } }, true);\n        }\n        if (this.heatMap.theme === 'Fluent') {\n            this.heatMap.setProperties({ tooltipSettings: { textStyle: { size: '12px', fontFamily: '\"Segoe UI\", -apple-system, BlinkMacSystemFont, \"Roboto\", \"Helvetica Neue\", sans-serif', fontWeight: '500' } } }, true);\n        }\n        if (this.heatMap.theme === 'FluentDark') {\n            this.heatMap.setProperties({ tooltipSettings: { fill: '#252423', textStyle: { size: '12px', fontFamily: '\"Segoe UI\", -apple-system, BlinkMacSystemFont, \"Roboto\", \"Helvetica Neue\", sans-serif', fontWeight: '500', color: '#F3F2F1' } } }, true);\n        }\n        if (this.heatMap.theme === 'Material3') {\n            this.heatMap.setProperties({ tooltipSettings: { fill: '#313033', textStyle: { size: '14px', fontFamily: 'Roboto', fontWeight: '400', color: '#F4EFF4' } } }, true);\n        }\n        if (this.heatMap.theme === 'Material3Dark') {\n            this.heatMap.setProperties({ tooltipSettings: { fill: '#E6E1E5', textStyle: { size: '14px', fontFamily: 'Roboto', fontWeight: '400', color: '#313033' } } }, true);\n        }\n        this.tooltipObject = new tool({\n            opacity: (this.heatMap.theme === 'Tailwind' || this.heatMap.theme === 'TailwindDark' || this.heatMap.theme === 'Bootstrap5' || this.heatMap.theme === 'Bootstrap5Dark' || this.heatMap.theme === 'Fluent' || this.heatMap.theme === 'FluentDark') ? 1 : 0.75,\n            enableAnimation: false,\n            offset: offset,\n            location: { x: x, y: y },\n            availableSize: this.heatMap.availableSize,\n            data: {\n                xValue: this.heatMap.heatMapSeries.hoverXAxisValue,\n                yValue: this.heatMap.heatMapSeries.hoverYAxisValue,\n                value: currentRect.value,\n                xLabel: this.heatMap.heatMapSeries.hoverXAxisLabel ?\n                    this.heatMap.heatMapSeries.hoverXAxisLabel.toString() : null,\n                yLabel: this.heatMap.heatMapSeries.hoverYAxisLabel ?\n                    this.heatMap.heatMapSeries.hoverYAxisLabel.toString() : null\n            },\n            theme: this.heatMap.theme,\n            content: tempTooltipText,\n            fill: this.heatMap.tooltipSettings.fill,\n            template: this.heatMap.tooltipSettings.template === '' ? null : this.heatMap.tooltipSettings.template,\n            border: {\n                width: this.heatMap.tooltipSettings.border.width,\n                color: this.heatMap.tooltipSettings.border.color\n            },\n            textStyle: {\n                size: this.heatMap.tooltipSettings.textStyle.size,\n                fontWeight: this.heatMap.tooltipSettings.textStyle.fontWeight.toLowerCase(),\n                color: this.heatMap.tooltipSettings.textStyle.color,\n                fontStyle: this.heatMap.tooltipSettings.textStyle.fontStyle.toLowerCase(),\n                fontFamily: this.heatMap.tooltipSettings.textStyle.fontFamily\n            },\n            areaBounds: {\n                height: this.heatMap.initialClipRect.height + this.heatMap.initialClipRect.y,\n                width: this.heatMap.initialClipRect.width, x: this.heatMap.initialClipRect.x\n            }\n        }, element);\n    };\n    /**\n     * To create div container for tooltip.\n     *\n     * @returns {void}\n     * @private\n     */\n    Tooltip.prototype.createTooltipDiv = function (heatMap) {\n        var position = 'absolute';\n        var top = heatMap.enableCanvasRendering && heatMap.allowSelection ? heatMap.availableSize.height : 0;\n        var element2 = createElement('div', {\n            id: this.heatMap.element.id + 'Celltooltipcontainer'\n        });\n        element2.style.cssText = 'position:' + position + '; z-index: 3;top:-' + top + 'px';\n        var tooltipElement = createElement('div', {\n            id: this.heatMap.element.id + 'Celltooltipparent'\n        });\n        tooltipElement.style.position = 'relative';\n        tooltipElement.appendChild(element2);\n        this.heatMap.element.appendChild(tooltipElement);\n    };\n    /**\n     * To get default tooltip content.\n     *\n     * @private\n     */\n    Tooltip.prototype.getTooltipContent = function (currentRect, hetmapSeries) {\n        var value;\n        var content;\n        var heatMap = this.heatMap;\n        var adaptData = this.heatMap.dataSourceSettings;\n        if (heatMap.bubbleSizeWithColor) {\n            var xAxis = heatMap.xAxis.title && heatMap.xAxis.title.text !== '' ? heatMap.xAxis.title.text : 'X-Axis';\n            var yAxis = heatMap.yAxis.title && heatMap.yAxis.title.text !== '' ? heatMap.yAxis.title.text : 'Y-Axis';\n            var value1 = adaptData.isJsonData && adaptData.adaptorType === 'Cell' ?\n                adaptData.bubbleDataMapping.size : 'Value 1';\n            var value2 = adaptData.isJsonData && adaptData.adaptorType === 'Cell' ?\n                adaptData.bubbleDataMapping.color : 'Value 2';\n            value = hetmapSeries.getFormatedText(currentRect.value[0].bubbleData, this.heatMap.cellSettings.format);\n            content = [xAxis + ' : ' + hetmapSeries.hoverXAxisLabel + '<br/>'\n                    + yAxis + ' : ' + hetmapSeries.hoverYAxisLabel + '<br/>'\n                    + value1 + ' : ' + value + '<br/>'\n                    + value2 + ' : '\n                    + hetmapSeries.getFormatedText(currentRect.value[1].bubbleData, this.heatMap.cellSettings.format)];\n        }\n        else {\n            value = currentRect.value;\n            content = [hetmapSeries.hoverXAxisLabel + ' | ' + hetmapSeries.hoverYAxisLabel + ' : ' +\n                    hetmapSeries.getFormatedText(value, this.heatMap.cellSettings.format)];\n        }\n        return content;\n    };\n    /**\n     * To render tooltip.\n     *\n     * @private\n     */\n    Tooltip.prototype.renderTooltip = function (currentRect) {\n        var _this = this;\n        var hetmapSeries = this.heatMap.heatMapSeries;\n        var tempTooltipText = [''];\n        var showTooltip = this.heatMap.bubbleSizeWithColor ?\n            !isNullOrUndefined(currentRect.value) && !isNullOrUndefined(currentRect.value[0].bubbleData)\n                && currentRect.value[0].bubbleData.toString() !== '' ? true : false\n            : isNullOrUndefined(currentRect.value) || (!isNullOrUndefined(currentRect.value) &&\n                currentRect.value.toString() === '') ? false : true;\n        if (!showTooltip) {\n            this.showHideTooltip(false, false);\n            if (!currentRect.visible) {\n                this.showHideTooltip(false, false);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.heatMap.tooltipRender)) {\n                // this.tooltipObject.header = '';\n                // this.tooltipObject.content = this.getTemplateText(\n                //     currentRect, this.heatMap.tooltipTemplate, hetmapSeries.hoverXAxisLabel,\n                //     hetmapSeries.hoverYAxisLabel);\n                var content = this.getTooltipContent(currentRect, hetmapSeries);\n                var argData = {\n                    heatmap: this.heatMap,\n                    cancel: false,\n                    name: 'tooltipRender',\n                    value: currentRect.value,\n                    xValue: this.heatMap.heatMapSeries.hoverXAxisValue,\n                    yValue: this.heatMap.heatMapSeries.hoverYAxisValue,\n                    xLabel: this.heatMap.heatMapSeries.hoverXAxisLabel ?\n                        this.heatMap.heatMapSeries.hoverXAxisLabel.toString() : null,\n                    yLabel: this.heatMap.heatMapSeries.hoverYAxisLabel ?\n                        this.heatMap.heatMapSeries.hoverYAxisLabel.toString() : null,\n                    content: content\n                };\n                this.heatMap.trigger('tooltipRender', argData, function (observedArgs) {\n                    if (!observedArgs.cancel) {\n                        tempTooltipText = observedArgs.content;\n                        _this.tooltipCallback(currentRect, tempTooltipText);\n                    }\n                    else {\n                        if (_this.tooltipObject) {\n                            _this.showHideTooltip(false);\n                        }\n                    }\n                });\n            }\n            else {\n                //  this.tooltipObject.header = hetmapSeries.hoverYAxisLabel.toString();\n                tempTooltipText = this.getTooltipContent(currentRect, hetmapSeries);\n                this.tooltipCallback(currentRect, tempTooltipText);\n            }\n        }\n    };\n    /**\n     * To render tooltip.\n     */\n    Tooltip.prototype.tooltipCallback = function (currentRect, tempTooltipText) {\n        if (!this.tooltipObject) {\n            this.createTooltip(currentRect, currentRect.x + (currentRect.width / 2), currentRect.y + (currentRect.height / 2), tempTooltipText);\n        }\n        else {\n            this.tooltipObject.content = tempTooltipText;\n            this.tooltipObject.data = {\n                xValue: this.heatMap.heatMapSeries.hoverXAxisValue,\n                yValue: this.heatMap.heatMapSeries.hoverYAxisValue,\n                xLabel: this.heatMap.heatMapSeries.hoverXAxisLabel ?\n                    this.heatMap.heatMapSeries.hoverXAxisLabel.toString() : null,\n                yLabel: this.heatMap.heatMapSeries.hoverYAxisLabel ?\n                    this.heatMap.heatMapSeries.hoverYAxisLabel.toString() : null,\n                value: currentRect.value\n            };\n        }\n        this.showHideTooltip(true);\n        this.tooltipObject.enableAnimation = (this.isFirst || this.isFadeout) ? false : true;\n        this.isFirst = (this.isFirst) ? false : this.isFirst;\n        this.isFadeout = (this.isFadeout) ? false : this.isFadeout;\n        this.tooltipObject.location.x = currentRect.x + (currentRect.width / 2);\n        this.tooltipObject.location.y = currentRect.y + (currentRect.height / 2);\n        if (!currentRect.visible) {\n            this.showHideTooltip(false, false);\n        }\n    };\n    return Tooltip;\n}());\nexport { Tooltip };\n","import { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar TwoDimensional = /** @class */ (function () {\n    function TwoDimensional(heatMap) {\n        this.heatMap = heatMap;\n    }\n    /**\n     * To reconstruct proper two dimensional dataSource depends on min and max values.\n     *\n     * @private\n     */\n    TwoDimensional.prototype.processDataSource = function (dataSource) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var tempCloneData = extend([], dataSource, null, true);\n        this.heatMap.clonedDataSource = [];\n        this.completeDataSource = [];\n        var axis = this.heatMap.axisCollections;\n        var dataLength = axis[0].maxLength + 1;\n        var labelLength = axis[0].axisLabelSize + (axis[0].min > 0 ? axis[0].min : 0);\n        var xLength = dataLength > labelLength ? dataLength : labelLength;\n        var minVal;\n        var maxVal;\n        dataLength = axis[1].maxLength + 1;\n        labelLength = axis[1].axisLabelSize + (axis[1].min > 0 ? axis[1].min : 0);\n        var yLength = dataLength > labelLength ? dataLength : labelLength;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var tempVariable;\n        var cloneDataIndex = 0;\n        var minMaxDatasource = [];\n        this.tempSizeArray = [];\n        this.tempColorArray = [];\n        this.heatMap.minColorValue = null;\n        this.heatMap.maxColorValue = null;\n        this.heatMap.dataMax = [];\n        this.heatMap.dataMin = [];\n        if (this.heatMap.paletteSettings.colorGradientMode === 'Column' && xLength < yLength) {\n            xLength = yLength;\n        }\n        for (var z = axis[1].valueType === 'Category' ? axis[1].min : 0; z < (this.heatMap.paletteSettings.colorGradientMode === 'Column' ? xLength : yLength); z++) {\n            var tempIndex = axis[0].valueType === 'Category' ? axis[0].min : 0;\n            this.completeDataSource.push([]);\n            while (tempIndex < xLength) {\n                if (tempIndex >= axis[0].min && tempIndex <= axis[0].max) {\n                    this.processDataArray(tempCloneData, tempIndex, z, cloneDataIndex);\n                }\n                tempIndex++;\n            }\n            if (this.heatMap.paletteSettings.colorGradientMode === 'Column' && this.heatMap.paletteSettings.type === 'Gradient') {\n                tempVariable = extend([], tempCloneData[cloneDataIndex], null, true);\n                for (var i = 0; i < tempVariable.length; i++) {\n                    if (typeof (tempVariable[i]) === 'object' && (tempVariable[i]) !== null || undefined || '') {\n                        tempVariable[i] = tempVariable[i][0];\n                    }\n                }\n            }\n            else {\n                tempVariable = extend([], this.completeDataSource[cloneDataIndex], null, true);\n            }\n            var minMaxVal = this.getMinMaxValue(minVal, maxVal, tempVariable);\n            if ((this.heatMap.paletteSettings.colorGradientMode === 'Column' ||\n                this.heatMap.paletteSettings.colorGradientMode === 'Row') && this.heatMap.paletteSettings.type === 'Gradient') {\n                this.heatMap.dataMax[z] = minMaxVal[1];\n                this.heatMap.dataMin[z] = minMaxVal[0];\n            }\n            minVal = minMaxVal[0];\n            maxVal = minMaxVal[1];\n            if (this.heatMap.xAxis.isInversed) {\n                this.completeDataSource[cloneDataIndex] = this.completeDataSource[cloneDataIndex].reverse();\n            }\n            if (z >= this.heatMap.axisCollections[1].min && z <= this.heatMap.axisCollections[1].max) {\n                minMaxDatasource.push(this.completeDataSource[cloneDataIndex]);\n            }\n            cloneDataIndex++;\n        }\n        if (this.heatMap.paletteSettings.colorGradientMode === 'Row' && !this.heatMap.yAxis.isInversed &&\n            this.heatMap.paletteSettings.type === 'Gradient') {\n            this.heatMap.dataMax = this.heatMap.dataMax.reverse();\n            this.heatMap.dataMin = this.heatMap.dataMin.reverse();\n        }\n        if (this.heatMap.paletteSettings.colorGradientMode === 'Column' && this.heatMap.xAxis.isInversed &&\n            this.heatMap.paletteSettings.type === 'Gradient') {\n            this.heatMap.dataMax = this.heatMap.dataMax.reverse();\n            this.heatMap.dataMin = this.heatMap.dataMin.reverse();\n        }\n        if (!this.heatMap.yAxis.isInversed) {\n            this.completeDataSource.reverse();\n            minMaxDatasource.reverse();\n        }\n        this.heatMap.clonedDataSource = minMaxDatasource;\n        this.heatMap.dataSourceMinValue = isNullOrUndefined(minVal) ? 0 : parseFloat(minVal.toString());\n        this.heatMap.dataSourceMaxValue = isNullOrUndefined(maxVal) ? 0 : parseFloat(maxVal.toString());\n        this.heatMap.isColorValueExist = isNullOrUndefined(this.heatMap.minColorValue) ? false : true;\n        this.heatMap.minColorValue = isNullOrUndefined(this.heatMap.minColorValue) ?\n            this.heatMap.dataSourceMinValue : parseFloat(this.heatMap.minColorValue.toString());\n        this.heatMap.maxColorValue = isNullOrUndefined(this.heatMap.maxColorValue) ?\n            this.heatMap.dataSourceMaxValue : parseFloat(this.heatMap.maxColorValue.toString());\n    };\n    /**\n     * To process and create a proper data array.\n     *\n     *  @private\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    TwoDimensional.prototype.processDataArray = function (tempCloneData, tempIndex, z, cloneDataIndex) {\n        if (this.heatMap.bubbleSizeWithColor) {\n            if (tempCloneData[tempIndex] && !isNullOrUndefined(tempCloneData[tempIndex][z])\n                && typeof (tempCloneData[tempIndex][z]) === 'object') {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var internalArray = tempCloneData[tempIndex][z];\n                for (var tempx = 0; tempx < internalArray.length; tempx++) {\n                    if (isNullOrUndefined(internalArray[tempx]) || isNaN(internalArray[tempx])) {\n                        internalArray[tempx] = '';\n                    }\n                    if (tempx === 0) {\n                        this.tempSizeArray.push(internalArray[tempx]);\n                    }\n                    else if (tempx === 1) {\n                        this.tempColorArray.push(internalArray[tempx]);\n                        break;\n                    }\n                }\n                this.completeDataSource[cloneDataIndex].push(internalArray);\n            }\n            else {\n                if (!isNullOrUndefined(tempCloneData[tempIndex]) && (tempCloneData[tempIndex][z] ||\n                    (tempCloneData[tempIndex][z] === 0 &&\n                        tempCloneData[tempIndex][z].toString() !== ''))) {\n                    this.completeDataSource[cloneDataIndex].push([tempCloneData[tempIndex][z]]);\n                    this.tempSizeArray.push(tempCloneData[tempIndex][z]);\n                }\n                else {\n                    this.completeDataSource[cloneDataIndex].push('');\n                }\n            }\n        }\n        else {\n            if (tempCloneData[tempIndex] && (tempCloneData[tempIndex][z] ||\n                (tempCloneData[tempIndex][z] === 0 &&\n                    tempCloneData[tempIndex][z].toString() !== ''))) {\n                if (typeof (tempCloneData[tempIndex][z]) === 'object') {\n                    if (tempCloneData[tempIndex][z].length > 0 &&\n                        !isNullOrUndefined(tempCloneData[tempIndex][z][0])) {\n                        this.completeDataSource[cloneDataIndex].push(tempCloneData[tempIndex][z][0]);\n                    }\n                    else {\n                        this.completeDataSource[cloneDataIndex].push('');\n                    }\n                }\n                else {\n                    this.completeDataSource[cloneDataIndex].push(tempCloneData[tempIndex][z]);\n                }\n            }\n            else {\n                this.completeDataSource[cloneDataIndex].push('');\n            }\n        }\n    };\n    /**\n     * To get minimum and maximum value\n     *\n     *  @private\n     */\n    TwoDimensional.prototype.getMinMaxValue = function (minVal, maxVal, tempVariable) {\n        var minMaxValue = [];\n        if (this.heatMap.bubbleSizeWithColor) {\n            if (this.heatMap.paletteSettings.colorGradientMode === 'Column' && this.heatMap.paletteSettings.type === 'Gradient') {\n                this.tempSizeArray = tempVariable;\n            }\n            minMaxValue.push(this.getMinValue(minVal, this.tempSizeArray));\n            minMaxValue.push(this.getMaxValue(maxVal, this.tempSizeArray));\n            this.heatMap.minColorValue = this.getMinValue(this.heatMap.minColorValue, this.tempColorArray);\n            this.heatMap.maxColorValue = this.getMaxValue(this.heatMap.maxColorValue, this.tempColorArray);\n        }\n        else {\n            minMaxValue.push(this.getMinValue(minVal, tempVariable));\n            minMaxValue.push(this.getMaxValue(maxVal, tempVariable));\n        }\n        return minMaxValue;\n    };\n    /**\n     * To get minimum value\n     *\n     *  @private\n     */\n    TwoDimensional.prototype.getMinValue = function (minVal, tempVariable) {\n        if (isNullOrUndefined(minVal)) {\n            minVal = this.performSort(tempVariable);\n        }\n        else if (this.performSort(tempVariable) < minVal) {\n            minVal = this.performSort(tempVariable);\n        }\n        else if ((this.heatMap.paletteSettings.colorGradientMode === 'Row' ||\n            this.heatMap.paletteSettings.colorGradientMode === 'Column') && this.heatMap.paletteSettings.type === 'Gradient') {\n            minVal = this.performSort(tempVariable);\n        }\n        return !isNullOrUndefined(minVal) ? parseFloat(minVal.toString()) : minVal;\n    };\n    /**\n     * To get maximum value\n     *\n     *  @private\n     */\n    TwoDimensional.prototype.getMaxValue = function (maxVal, tempVariable) {\n        if (isNullOrUndefined(maxVal) && tempVariable.length > 0) {\n            maxVal = Math.max.apply(Math, tempVariable);\n        }\n        else if (Math.max.apply(Math, tempVariable) > maxVal) {\n            maxVal = Math.max.apply(Math, tempVariable);\n        }\n        else if ((this.heatMap.paletteSettings.colorGradientMode === 'Row' ||\n            this.heatMap.paletteSettings.colorGradientMode === 'Column') && this.heatMap.paletteSettings.type === 'Gradient') {\n            maxVal = Math.max.apply(Math, tempVariable);\n        }\n        return !isNullOrUndefined(maxVal) ? parseFloat(maxVal.toString()) : maxVal;\n    };\n    /**\n     * To perform sort operation.\n     *\n     *  @private\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    TwoDimensional.prototype.performSort = function (tempVariable) {\n        return tempVariable.sort(function (a, b) { return a - b; }).filter(this.checkmin)[0];\n    };\n    /**\n     * To get minimum value\n     *\n     *  @private\n     */\n    TwoDimensional.prototype.checkmin = function (val) {\n        return !isNullOrUndefined(val) && val.toString() !== '';\n    };\n    return TwoDimensional;\n}());\nexport { TwoDimensional };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex, Browser, createElement, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DrawSvgCanvas, TextOption, TextBasic, PathOption, Line, LineOption, GradientPointer, textTrim } from '../utils/helper';\nimport { Size, measureText, getTitle, getElement, CanvasTooltip, formatValue, LegendRange, ToggleVisibility, sum } from '../utils/helper';\nimport { Font, Title } from '../model/base';\nimport { Rect, RectOption, Gradient, GradientColor, showTooltip, stringToNumber, CurrentLegendRect, removeElement } from '../utils/helper';\nimport { Theme } from '../model/theme';\nimport { Tooltip as tool } from '@syncfusion/ej2-svg-base';\n/**\n * Gets and sets the options to customize the legend in the heatmap.\n */\nvar LegendSettings = /** @class */ (function (_super) {\n    __extends(LegendSettings, _super);\n    function LegendSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], LegendSettings.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], LegendSettings.prototype, \"width\", void 0);\n    __decorate([\n        Complex({ text: '', textStyle: Theme.titleFont }, Title)\n    ], LegendSettings.prototype, \"title\", void 0);\n    __decorate([\n        Property('Right')\n    ], LegendSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property('Center')\n    ], LegendSettings.prototype, \"alignment\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"showLabel\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"showGradientPointer\", void 0);\n    __decorate([\n        Property(false)\n    ], LegendSettings.prototype, \"enableSmartLegend\", void 0);\n    __decorate([\n        Property('All')\n    ], LegendSettings.prototype, \"labelDisplayType\", void 0);\n    __decorate([\n        Complex(Theme.legendLabelFont, Font)\n    ], LegendSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property('')\n    ], LegendSettings.prototype, \"labelFormat\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"toggleVisibility\", void 0);\n    return LegendSettings;\n}(ChildProperty));\nexport { LegendSettings };\n/**\n *\n * The `Legend` module is used to render legend for the heatmap.\n */\nvar Legend = /** @class */ (function () {\n    function Legend(heatMap) {\n        this.maxLegendLabelSize = new Size(0, 0);\n        this.gradientScaleSize = 10;\n        this.segmentCollections = [];\n        this.segmentCollectionsLabels = [];\n        this.textWrapCollections = [];\n        this.labelCollections = [];\n        this.labelCollection = [];\n        this.legendSize = 10;\n        this.previousOptions = new GradientPointer(0, 0, 0, 0, 0, 0);\n        this.listPerPage = 0;\n        this.numberOfPages = 1;\n        this.listWidth = 0;\n        this.fillRect = new Rect(0, 0, 0, 0);\n        this.legendRect = new Rect(0, 0, 0, 0);\n        this.currentPage = 1;\n        this.lastList = [];\n        this.navigationCollections = [];\n        this.pagingRect = new Rect(0, 0, 0, 0);\n        this.listInterval = 10; // padding between two lists\n        this.legendLabelTooltip = [];\n        this.legendTitleTooltip = [];\n        this.labelXCollections = [];\n        this.labelYCollections = [];\n        this.legendXCollections = [];\n        this.legendYCollections = [];\n        /** @private */\n        this.legendRectPositionCollection = [];\n        /** @private */\n        this.legendRange = [];\n        /** @private */\n        this.legendTextRange = [];\n        /** @private */\n        this.visibilityCollections = [];\n        this.heatMap = heatMap;\n        this.drawSvgCanvas = new DrawSvgCanvas(heatMap);\n    }\n    /**\n     * Get module name\n     */\n    Legend.prototype.getModuleName = function () {\n        return 'Legend';\n    };\n    /**\n     * To destroy the Legend.\n     *\n     * @returns {void}\n     * @private\n     */\n    Legend.prototype.destroy = function () {\n        /**\n         * destory code\n         */\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.renderLegendItems = function () {\n        var heatMap = this.heatMap;\n        heatMap.toggleValue = [];\n        var tempBorder = { color: 'transparent', width: 0 };\n        this.legend = heatMap.renderer.createGroup({ id: heatMap.element.id + '_Heatmap_Legend' });\n        var rectItems = new RectOption(heatMap.element.id + '_LegendBound', 'none', tempBorder, 1, this.legendGroup);\n        this.drawSvgCanvas.drawRectangle(rectItems, this.legend);\n        var legendBound = this.legendRectScale;\n        var ctx = heatMap.canvasRenderer.ctx;\n        var rectItemsSvg = new Rect(legendBound.x, legendBound.y, legendBound.width, legendBound.height);\n        var fill;\n        if (heatMap.paletteSettings.type === 'Fixed') {\n            var colorCollection = (!heatMap.legendSettings.enableSmartLegend) ?\n                heatMap.colorCollection : heatMap.legendColorCollection;\n            this.legendRange = (heatMap.resizing || (!heatMap.legendOnLoad && heatMap.rendering)) ? [] : this.legendRange;\n            this.legendTextRange = (heatMap.resizing || (!heatMap.legendOnLoad && heatMap.rendering)) ? [] : this.legendTextRange;\n            if (heatMap.enableCanvasRendering) {\n                ctx.save();\n                ctx.clip();\n            }\n            for (var i = 0; i < colorCollection.length; i++) {\n                var visibility = !isNullOrUndefined(this.visibilityCollections[i]) ?\n                    this.visibilityCollections[i] : true;\n                heatMap.toggleValue.push(new ToggleVisibility(visibility, colorCollection[i].value, colorCollection[i].startValue, colorCollection[i].endValue));\n            }\n        }\n        if (heatMap.paletteSettings.type === 'Gradient' || (heatMap.paletteSettings.type === 'Fixed' &&\n            heatMap.legendSettings.enableSmartLegend === true)) {\n            if (heatMap.paletteSettings.type === 'Gradient') {\n                if (heatMap.enableCanvasRendering) {\n                    var grd = void 0;\n                    var ctx_1 = heatMap.canvasRenderer.ctx;\n                    if (heatMap.horizontalGradient) {\n                        grd = ctx_1.createLinearGradient(legendBound.x, 0, legendBound.x + legendBound.width, 0);\n                    }\n                    else {\n                        grd = ctx_1.createLinearGradient(0, legendBound.y, 0, legendBound.y + legendBound.height);\n                    }\n                    if (heatMap.legendSettings.title.text) {\n                        ctx_1.clip();\n                    }\n                    for (var i = 0; i < heatMap.legendColorCollection.length; i++) {\n                        var value = (((this.heatMap.isColorRange ? heatMap.legendColorCollection[i].startValue :\n                            heatMap.legendColorCollection[i].value) - this.legendMinValue) /\n                            (this.legendMaxValue - this.legendMinValue));\n                        value = isNaN(value) ? 0 : value;\n                        if (this.heatMap.isColorRange && this.heatMap.paletteSettings.type === 'Gradient') {\n                            this.calculateCanvasColorRange(i, grd);\n                        }\n                        else {\n                            grd.addColorStop(value, heatMap.legendColorCollection[i].color);\n                        }\n                    }\n                    ctx_1.fillStyle = grd;\n                    fill = grd.toString();\n                }\n                else {\n                    var gradientOptions = void 0;\n                    var gradientColor = void 0;\n                    var cgradientColors = [];\n                    for (var i = 0; i < heatMap.legendColorCollection.length; i++) {\n                        if (this.heatMap.isColorRange && this.heatMap.paletteSettings.type === 'Gradient') {\n                            this.calculateColorRange(i, cgradientColors);\n                        }\n                        else {\n                            var gradientPercentage = ((heatMap.legendColorCollection[i].value - this.legendMinValue) /\n                                (this.legendMaxValue - this.legendMinValue)) * 100;\n                            gradientPercentage = isNaN(gradientPercentage) ? 0 : gradientPercentage;\n                            gradientColor = new GradientColor(heatMap.legendColorCollection[i].color, gradientPercentage + '%');\n                            cgradientColors.push(gradientColor);\n                        }\n                        if (this.legendMaxValue === this.legendMinValue) {\n                            break;\n                        }\n                    }\n                    if (heatMap.horizontalGradient) {\n                        gradientOptions = new Gradient(heatMap.element.id + '_lineargradient', '0%', '100%', '0%', '0%');\n                    }\n                    else {\n                        gradientOptions = new Gradient(heatMap.element.id + '_lineargradient', '0%', '0%', '0%', '100%');\n                    }\n                    var linearGradient = heatMap.renderer.drawGradient('linearGradient', gradientOptions, cgradientColors);\n                    this.legend.appendChild(linearGradient);\n                    fill = 'url(#' + heatMap.element.id + '_lineargradient)';\n                }\n                var rectItem = new RectOption(heatMap.element.id + '_Gradient_Legend', fill, tempBorder, 1, rectItemsSvg);\n                this.drawSvgCanvas.drawRectangle(rectItem, this.legend);\n                this.renderElements(rectItemsSvg);\n            }\n            else {\n                this.renderSmartLegend();\n                this.renderTitle(rectItemsSvg);\n            }\n            if (!heatMap.enableCanvasRendering) {\n                heatMap.svgObject.appendChild(this.legend);\n            }\n            if (heatMap.enableCanvasRendering) {\n                ctx.restore();\n            }\n            this.renderLegendLabel(rectItemsSvg);\n        }\n        else {\n            this.legendScale = heatMap.renderer.createGroup({ id: heatMap.element.id + 'Heatmap_GradientScale' });\n            var listRect = new RectOption(heatMap.element.id + '_Gradient_Scale', 'none', tempBorder, 1, this.legendRectScale);\n            this.drawSvgCanvas.drawRectangle(listRect, this.legendScale);\n            this.renderTitle(rectItemsSvg);\n            if (!heatMap.enableCanvasRendering) {\n                this.legend.appendChild(this.legendScale);\n            }\n            this.translategroup = heatMap.renderer.createGroup({ id: heatMap.element.id + '_translate' });\n            this.calculateListPerPage(rectItemsSvg);\n            if (this.numberOfPages > 1) {\n                this.paginggroup = heatMap.renderer.createGroup({ id: heatMap.element.id + '_navigation' });\n            }\n            this.renderListLegendMode(rectItemsSvg, true);\n            if (heatMap.enableCanvasRendering) {\n                ctx.restore();\n            }\n        }\n    };\n    Legend.prototype.renderElements = function (rectItemsSvg) {\n        this.renderTitle(rectItemsSvg);\n        this.renderColorAxisGrid(rectItemsSvg);\n    };\n    Legend.prototype.calculateCanvasColorRange = function (i, grd) {\n        var heatMap = this.heatMap;\n        var value = ((((heatMap.legendColorCollection[i].startValue < heatMap.dataSourceMinValue &&\n            heatMap.legendColorCollection[i].endValue > heatMap.dataSourceMinValue) ?\n            heatMap.dataSourceMinValue : heatMap.legendColorCollection[i].startValue) - this.legendMinValue) /\n            (this.legendMaxValue - this.legendMinValue));\n        value = isNaN(value) ? 0 : value;\n        var value1 = ((heatMap.legendColorCollection[i].endValue >= this.heatMap.dataSourceMaxValue ?\n            this.heatMap.dataSourceMaxValue : heatMap.legendColorCollection[i].endValue) - this.legendMinValue) /\n            (this.legendMaxValue - this.legendMinValue);\n        if (this.heatMap.legendColorCollection[0].startValue !== this.heatMap.dataSourceMinValue && i === 0 &&\n            this.heatMap.legendColorCollection[0].startValue > this.heatMap.dataSourceMinValue) {\n            value = (this.heatMap.legendColorCollection[0].startValue - this.legendMinValue) /\n                (this.legendMaxValue - this.legendMinValue);\n            grd.addColorStop(value / 2, this.heatMap.paletteSettings.fillColor.minColor);\n            grd.addColorStop(value, this.heatMap.paletteSettings.fillColor.maxColor);\n        }\n        grd.addColorStop(value, heatMap.legendColorCollection[i].minColor);\n        grd.addColorStop(value1, heatMap.legendColorCollection[i].maxColor);\n        if (this.heatMap.legendColorCollection[i].endValue !== ((i === this.heatMap.legendColorCollection.length - 1) ?\n            this.heatMap.dataSourceMaxValue : this.heatMap.legendColorCollection[i + 1].startValue) &&\n            this.heatMap.legendColorCollection[i].endValue < this.heatMap.dataSourceMaxValue) {\n            value = (heatMap.legendColorCollection[i].endValue - this.legendMinValue) /\n                (this.legendMaxValue - this.legendMinValue);\n            grd.addColorStop(value, this.heatMap.paletteSettings.fillColor.minColor);\n            value = ((i === this.heatMap.legendColorCollection.length - 1 ? this.heatMap.dataSourceMaxValue :\n                heatMap.legendColorCollection[i + 1].startValue) - this.legendMinValue) /\n                (this.legendMaxValue - this.legendMinValue);\n            grd.addColorStop(value, this.heatMap.paletteSettings.fillColor.maxColor);\n        }\n    };\n    Legend.prototype.calculateColorRange = function (i, cgradientColors) {\n        if (cgradientColors === void 0) { cgradientColors = []; }\n        var heatMap = this.heatMap;\n        heatMap.toggleValue = [];\n        var gradientPercentage;\n        var gradientColor;\n        var gradientColor2;\n        var gradientColor3;\n        if (this.heatMap.legendColorCollection[0].startValue > this.heatMap.dataSourceMinValue && i === 0) {\n            gradientPercentage = (this.heatMap.dataSourceMinValue - this.legendMinValue) /\n                (this.legendMaxValue - this.legendMinValue) * 100;\n            gradientPercentage = isNaN(gradientPercentage) ? 0 : gradientPercentage;\n            gradientColor = new GradientColor(heatMap.paletteSettings.fillColor.minColor, gradientPercentage + '%');\n            cgradientColors.push(gradientColor);\n            gradientPercentage = (heatMap.legendColorCollection[0].startValue - this.legendMinValue) /\n                (this.legendMaxValue - this.legendMinValue) * 100;\n            gradientColor = new GradientColor(heatMap.paletteSettings.fillColor.maxColor, gradientPercentage + '%');\n            cgradientColors.push(gradientColor);\n        }\n        gradientPercentage = ((heatMap.legendColorCollection[i].startValue - this.legendMinValue) /\n            (this.legendMaxValue - this.legendMinValue)) * 100;\n        gradientPercentage = isNaN(gradientPercentage) ? 0 : gradientPercentage;\n        gradientColor = new GradientColor(heatMap.legendColorCollection[i].minColor, gradientPercentage + '%');\n        cgradientColors.push(gradientColor);\n        gradientPercentage = (heatMap.legendColorCollection[i].endValue - this.legendMinValue) /\n            (this.legendMaxValue - this.legendMinValue) * 100;\n        var gradientColor1 = new GradientColor(heatMap.legendColorCollection[i].maxColor, gradientPercentage + '%');\n        cgradientColors.push(gradientColor1);\n        if (this.heatMap.legendColorCollection[i].endValue !== ((i === this.heatMap.legendColorCollection.length - 1) ?\n            this.heatMap.dataSourceMaxValue : this.heatMap.legendColorCollection[i + 1].startValue)) {\n            gradientPercentage = (heatMap.legendColorCollection[i].endValue - this.legendMinValue) /\n                (this.legendMaxValue - this.legendMinValue) * 100;\n            gradientColor2 = new GradientColor(this.heatMap.paletteSettings.fillColor.minColor, (gradientPercentage) + '%');\n            cgradientColors.push(gradientColor2);\n            gradientPercentage = ((i === (this.heatMap.legendColorCollection.length - 1) ?\n                this.heatMap.dataSourceMaxValue : heatMap.legendColorCollection[i + 1].startValue) - this.legendMinValue) /\n                (this.legendMaxValue - this.legendMinValue) * 100;\n            gradientColor3 = new GradientColor(this.heatMap.paletteSettings.fillColor.maxColor, (gradientPercentage) + '%');\n            cgradientColors.push(gradientColor3);\n        }\n    };\n    Legend.prototype.renderTitle = function (rect) {\n        var heatMap = this.heatMap;\n        if (heatMap.legendSettings.title.text) {\n            var title = heatMap.legendSettings.title;\n            var titleSize = measureText(title.text, title.textStyle);\n            var padding = !heatMap.legendSettings.showLabel ? heatMap.horizontalGradient ? 10 : 6 : this.labelPadding;\n            var y = void 0;\n            var anchor = 'start';\n            var maxWidth = void 0;\n            var dominantBaseline = void 0;\n            var text = title.text;\n            var options = void 0;\n            var yValue = void 0;\n            if (heatMap.legendSettings.title.textStyle.textOverflow === 'Trim') {\n                maxWidth = this.width - 10;\n                text = textTrim(maxWidth, text, title.textStyle);\n            }\n            if (!heatMap.horizontalGradient) {\n                padding = -(padding + titleSize.height / 4);\n                if (text.length !== 0 && heatMap.enableCanvasRendering) {\n                    this.legendTitleTooltip.push(new CanvasTooltip(title.text, new Rect(rect.x, rect.y - titleSize.height, maxWidth, titleSize.height)));\n                }\n                options = new TextOption(heatMap.element.id + '_legendTitle', new TextBasic(rect.x, rect.y + padding, anchor, text, 0, 'translate(0,0)', dominantBaseline), title.textStyle, title.textStyle.color || heatMap.themeStyle.heatMapTitle);\n            }\n            else {\n                y = rect.y + (heatMap.legendSettings.position === 'Top' ? 0 :\n                    -(10 + titleSize.height + padding));\n                padding = heatMap.legendSettings.position === 'Top' ? -(padding + titleSize.height / 4) :\n                    (padding + (3 * titleSize.height / 4));\n                yValue = heatMap.legendSettings.position === 'Bottom' ? y : y - titleSize.height;\n                if (text.length !== 0 && heatMap.enableCanvasRendering) {\n                    this.legendTitleTooltip.push(new CanvasTooltip(title.text, new Rect(rect.x, yValue, maxWidth, titleSize.height)));\n                }\n                titleSize.width = rect.width < titleSize.width ? rect.width : titleSize.width;\n                options = new TextOption(heatMap.element.id + '_legendTitle', new TextBasic(rect.x + (rect.width / 2) - (titleSize.width / 2), y + padding, anchor, text, 0, 'translate(0,0)', dominantBaseline), title.textStyle, title.textStyle.color || heatMap.themeStyle.heatMapTitle);\n            }\n            this.drawSvgCanvas.createText(options, this.legend, text);\n        }\n    };\n    Legend.prototype.renderSmartLegend = function () {\n        var heatMap = this.heatMap;\n        var colorCollection = heatMap.colorCollection;\n        var smartLegendRect;\n        var tempBorder = {\n            color: 'transparent',\n            width: 0\n        };\n        var legendBound = this.legendRectScale;\n        var legendX;\n        var legendY;\n        var legendWidth;\n        var legendHeight;\n        var width = legendBound.width / colorCollection.length;\n        var height = legendBound.height / colorCollection.length;\n        this.legendRectPositionCollection = [];\n        this.legendRange = [];\n        for (var i = 0; i < heatMap.legendColorCollection.length; i++) {\n            var rectPosition = new CurrentLegendRect(0, 0, 0, 0, '', '');\n            if (heatMap.horizontalGradient) {\n                legendX = legendBound.x + (i * width);\n                legendY = legendBound.y;\n                legendWidth = width;\n                legendHeight = legendBound.height;\n                this.segmentCollections.push((heatMap.legendSettings.labelDisplayType === 'Edge' &&\n                    i === heatMap.legendColorCollection.length - 1 && !heatMap.legendColorCollection[i].isHidden) ?\n                    legendX + width : legendX);\n            }\n            else {\n                legendX = legendBound.x;\n                legendY = legendBound.y + (i * height);\n                legendWidth = legendBound.width;\n                legendHeight = height;\n                this.segmentCollections.push((heatMap.legendSettings.labelDisplayType === 'Edge' &&\n                    i === heatMap.legendColorCollection.length - 1 && !heatMap.legendColorCollection[i].isHidden) ?\n                    legendY + height : legendY);\n            }\n            smartLegendRect = new Rect(legendX, legendY, legendWidth, legendHeight);\n            var legendRange = new LegendRange(0, 0, 0, 0, 0, true, 0);\n            legendRange.x = legendX;\n            legendRange.y = legendY;\n            legendRange.width = legendWidth;\n            legendRange.height = legendHeight;\n            legendRange.value = this.heatMap.isColorRange ?\n                heatMap.legendColorCollection[i].endValue : heatMap.legendColorCollection[i].value;\n            legendRange.currentPage = this.currentPage;\n            if (colorCollection.length !== heatMap.legendColorCollection.length && i === heatMap.legendColorCollection.length - 1) {\n                if (heatMap.horizontalGradient) {\n                    legendRange.width = 0;\n                }\n                else {\n                    legendRange.height = 0;\n                }\n                this.visibilityCollections[i] = this.visibilityCollections[i - 1];\n            }\n            legendRange.visible = !isNullOrUndefined(this.visibilityCollections[i]) ?\n                this.visibilityCollections[i] : true;\n            this.legendRange.push(legendRange);\n            if (!heatMap.legendColorCollection[i].isHidden) {\n                var color = heatMap.legendOnLoad ? this.heatMap.isColorRange ? colorCollection[i].minColor :\n                    colorCollection[i].color : this.legendRange[i].visible ?\n                    this.heatMap.isColorRange ? colorCollection[i].minColor :\n                        colorCollection[i].color : this.heatMap.themeStyle.toggledColor || '#D3D3D3';\n                var rectItem = new RectOption(heatMap.element.id + '_Smart_Legend' + i, color, tempBorder, 1, smartLegendRect);\n                this.drawSvgCanvas.drawRectangle(rectItem, this.legend);\n                rectPosition.x = legendX;\n                rectPosition.y = legendY;\n                rectPosition.width = legendWidth;\n                rectPosition.height = legendHeight;\n                rectPosition.label = this.labelCollections[i];\n                rectPosition.id = heatMap.element.id + '_Smart_Legend' + i;\n                this.legendRectPositionCollection.push(rectPosition);\n                var text = getTitle(this.labelCollections[i], heatMap.legendSettings.textStyle, this.textWrapCollections[i]);\n                if (text.length !== 0 && heatMap.enableCanvasRendering) {\n                    var elementSize = measureText(this.labelCollections[i], heatMap.legendSettings.textStyle);\n                    this.legendLabelTooltip.push(new CanvasTooltip(this.labelCollections[i], new Rect(rectPosition.x, rectPosition.y, elementSize.width, elementSize.height)));\n                }\n            }\n        }\n    };\n    Legend.prototype.colorRangeLegendPosition = function (i, labelX) {\n        if (this.segmentCollections.length !== this.segmentCollectionsLabels.length) {\n            for (var k = 0; k < this.segmentCollections.length; k++) {\n                if (this.segmentCollectionsLabels[i] === this.segmentCollections[k]) {\n                    labelX = this.segmentCollectionsLabels[i] + (((k === this.segmentCollections.length - 1 ?\n                        (this.heatMap.horizontalGradient ? this.width : this.height) :\n                        this.segmentCollections[k + 1]) - this.segmentCollections[k]) / 2);\n                    break;\n                }\n            }\n        }\n        else {\n            labelX = this.segmentCollectionsLabels[i] + (((i === this.segmentCollectionsLabels.length - 1 ?\n                (this.heatMap.horizontalGradient ? this.width : this.height) :\n                this.segmentCollectionsLabels[i + 1]) - this.segmentCollectionsLabels[i]) / 2);\n        }\n        this.labelPosition = labelX;\n    };\n    Legend.prototype.renderLegendLabel = function (rect) {\n        var heatMap = this.heatMap;\n        this.legendTextRange = [];\n        if (heatMap.legendSettings.showLabel && (heatMap.paletteSettings.type === 'Gradient' ||\n            (heatMap.paletteSettings.type === 'Fixed' && heatMap.legendSettings.labelDisplayType !== 'None'))) {\n            var anchor = 'start';\n            var dominantBaseline = void 0;\n            var legendLabel = void 0;\n            var textWrapWidth = 0;\n            var text = void 0;\n            this.legendLabelTooltip = [];\n            var elementSize = void 0;\n            var isColorRange = heatMap.isColorRange;\n            var colorCollection = heatMap.legendColorCollection;\n            if (heatMap.enableCanvasRendering) {\n                var ctx = heatMap.canvasRenderer.ctx;\n                ctx.rect(this.legendGroup.x, this.legendGroup.y, this.legendGroup.width, this.legendGroup.height);\n                ctx.save();\n                ctx.clip();\n                ctx.restore();\n            }\n            else {\n                legendLabel = heatMap.renderer.createGroup({ id: heatMap.element.id + '_Heatmap_LegendLabel' });\n            }\n            var labelX = void 0;\n            var labelY = void 0;\n            for (var i = 0; i < colorCollection.length; i++) {\n                var value = ((colorCollection[i].value - (Math.round(this.legendMinValue * 100) / 100)) /\n                    ((Math.round(this.legendMaxValue * 100) / 100) - (Math.round(this.legendMinValue * 100) / 100))) * 100;\n                if (heatMap.horizontalGradient) {\n                    if (this.heatMap.isColorRange && heatMap.paletteSettings.type === 'Gradient') {\n                        this.colorRangeLegendPosition(i, labelX);\n                        labelX = this.labelPosition;\n                    }\n                    else if (this.heatMap.legendSettings.enableSmartLegend && this.heatMap.isColorRange &&\n                        heatMap.paletteSettings.type === 'Fixed') {\n                        labelX = this.segmentCollections[i] + ((rect.width / colorCollection.length) / 2);\n                    }\n                    else {\n                        labelX = this.segmentCollections[i];\n                    }\n                    labelY = rect.y + rect.height + this.labelPadding;\n                    anchor = (((Math.round(value * 100) / 100) === 0 && !isColorRange) || (heatMap.paletteSettings.type === 'Fixed' &&\n                        i === 0)) ? 'start' : (((Math.round(value * 100) / 100) === 100 && heatMap.paletteSettings.type === 'Gradient' &&\n                        !isColorRange) || (Math.round(heatMap.dataSourceMaxValue * 100) / 100) === colorCollection[i].value &&\n                        heatMap.legendSettings.enableSmartLegend) || (heatMap.legendSettings.enableSmartLegend &&\n                        heatMap.paletteSettings.type === 'Fixed' && heatMap.legendSettings.labelDisplayType === 'Edge') ? 'end' : 'middle';\n                    dominantBaseline = 'hanging';\n                }\n                else {\n                    labelX = rect.x + rect.width + this.labelPadding;\n                    if (this.heatMap.isColorRange && heatMap.paletteSettings.type === 'Gradient') {\n                        this.colorRangeLegendPosition(i, labelY);\n                        labelY = this.labelPosition;\n                    }\n                    else if (this.heatMap.legendSettings.enableSmartLegend && this.heatMap.isColorRange &&\n                        heatMap.paletteSettings.type === 'Fixed') {\n                        labelY = this.segmentCollections[i] + ((rect.height / colorCollection.length) / 2);\n                    }\n                    else {\n                        labelY = this.segmentCollections[i];\n                    }\n                    dominantBaseline = (((Math.round(value * 100) / 100) === 0 && !isColorRange) || (i === 0 &&\n                        heatMap.paletteSettings.type === 'Fixed')) ? 'hanging' : (((Math.round(value * 100) / 100) === 100 &&\n                        !isColorRange && heatMap.paletteSettings.type === 'Gradient') ||\n                        (Math.round(heatMap.dataSourceMaxValue * 100) / 100) === colorCollection[i].value &&\n                            heatMap.legendSettings.enableSmartLegend) || (heatMap.legendSettings.enableSmartLegend &&\n                        heatMap.legendSettings.labelDisplayType === 'Edge' &&\n                        heatMap.paletteSettings.type === 'Fixed') ? 'auto' : 'middle';\n                }\n                textWrapWidth = heatMap.horizontalGradient ? (heatMap.legendSettings.textStyle.textOverflow === 'None' ?\n                    this.segmentCollections[i] : this.textWrapCollections[i]) :\n                    this.width - (this.legendRectScale.width + this.labelPadding + this.legendRectPadding);\n                text = getTitle(this.labelCollections[i], heatMap.legendSettings.textStyle, textWrapWidth);\n                elementSize = measureText(text[0], heatMap.legendSettings.textStyle);\n                if (heatMap.paletteSettings.type === 'Fixed') {\n                    var rectY = dominantBaseline === 'hanging' ? labelY : dominantBaseline === 'middle' ?\n                        labelY - elementSize.height / 2 : labelY - elementSize.height;\n                    var rectX = anchor === 'end' ? labelX - elementSize.width : anchor === 'middle' ?\n                        labelX - elementSize.width / 2 : labelX;\n                    var textPosition = new LegendRange(rectX, rectY, elementSize.width, elementSize.height, colorCollection[i].value, true, this.currentPage);\n                    textPosition.visible = !isNullOrUndefined(this.visibilityCollections[i]) ?\n                        this.visibilityCollections[i] : true;\n                    this.legendTextRange.push(textPosition);\n                }\n                if (this.labelCollections[i] !== '') {\n                    if (text.length !== 0 && text[0].indexOf('...') !== -1 && heatMap.enableCanvasRendering) {\n                        this.legendLabelTooltip.push(new CanvasTooltip(this.labelCollections[i], new Rect(labelX, labelY, elementSize.width, elementSize.height)));\n                    }\n                    var textBasic = new TextBasic(labelX, labelY, anchor, text, 0, 'translate(0,0)', dominantBaseline);\n                    var options = new TextOption(heatMap.element.id + '_Legend_Label' + i, textBasic, heatMap.legendSettings.textStyle, heatMap.legendSettings.textStyle.color || heatMap.themeStyle.legendLabel);\n                    options.fill = heatMap.legendOnLoad ? options.fill :\n                        (heatMap.paletteSettings.type === 'Fixed' && !this.legendRange[i].visible) ? '#D3D3D3' : options.fill;\n                    if (text.length > 1) {\n                        this.drawSvgCanvas.createWrapText(options, heatMap.legendSettings.textStyle, legendLabel);\n                    }\n                    else {\n                        this.drawSvgCanvas.createText(options, legendLabel, text[0]);\n                    }\n                    if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                        if (dominantBaseline === 'middle') {\n                            legendLabel.lastChild.setAttribute('dy', '0.6ex');\n                        }\n                        else if (dominantBaseline === 'hanging') {\n                            legendLabel.lastChild.setAttribute('dy', '1.5ex');\n                        }\n                    }\n                }\n                if (this.legendMaxValue === this.legendMinValue && heatMap.paletteSettings.type === 'Gradient') {\n                    break;\n                }\n            }\n            if (!heatMap.enableCanvasRendering) {\n                this.legendGroup.height = this.legendGroup.height > 0 ? this.legendGroup.height : 0;\n                this.legendGroup.width = this.legendGroup.width > 0 ? this.legendGroup.width : 0;\n                this.legend.appendChild(legendLabel);\n                var clippath = heatMap.renderer.createClipPath({ id: heatMap.element.id + '_clipPath' });\n                var clipRect = heatMap.renderer.drawRectangle(this.legendGroup);\n                clippath.appendChild(clipRect);\n                heatMap.svgObject.appendChild(clippath);\n                this.legend.style.cssText = 'clip-path:url(#' + clippath.id + ')';\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.renderGradientPointer = function (e, pageX, pageY) {\n        var heatMap = this.heatMap;\n        var currentRect = heatMap.heatMapSeries.getCurrentRect(pageX, pageY);\n        var cellValue = heatMap.bubbleSizeWithColor ? currentRect.value[0].bubbleData.toString() !== '' ?\n            !this.heatMap.isColorValueExist ? currentRect.value[0].bubbleData.toString() :\n                currentRect.value[1].bubbleData.toString() : '' : currentRect.value.toString();\n        var rect = this.legendRectScale;\n        var legendPart;\n        var direction;\n        var options;\n        var legendPath;\n        var pathX1;\n        var pathY1;\n        var pathX2;\n        var pathY2;\n        var pathX3;\n        var pathY3;\n        if (cellValue.toString() !== '') {\n            if (!heatMap.horizontalGradient) {\n                legendPart = rect.height / 100;\n                legendPath = legendPart * ((Number(cellValue) - this.legendMinValue) /\n                    (this.legendMaxValue - this.legendMinValue)) * 100;\n                legendPath = isNaN(legendPath) ? 0 : legendPath;\n                pathX1 = rect.x - 1;\n                pathY1 = rect.y + legendPath;\n                pathX2 = pathX3 = rect.x - 8;\n                pathY2 = rect.y - 5 + legendPath;\n                pathY3 = rect.y + 5 + legendPath;\n            }\n            else {\n                legendPart = rect.width / 100;\n                legendPath = legendPart * ((Number(cellValue) - this.legendMinValue) /\n                    (this.legendMaxValue - this.legendMinValue)) * 100;\n                legendPath = isNaN(legendPath) ? 0 : legendPath;\n                pathX1 = rect.x + legendPath;\n                pathY1 = rect.y + rect.height;\n                pathX2 = rect.x - 5 + legendPath;\n                pathY2 = pathY3 = rect.y + rect.height + 8;\n                pathX3 = rect.x + 5 + legendPath;\n            }\n            direction = 'M' + ' ' + pathX1 + ' ' + pathY1 + ' ' +\n                'L' + ' ' + pathX2 + ' ' + pathY2 + ' ' + 'L' + ' ' + pathX3 + ' ' + pathY3 + ' ' + 'Z';\n            options = new PathOption(heatMap.element.id + '_Gradient_Pointer', 'gray', 0.01, '#A0A0A0', 1, '0,0', direction);\n            if (!heatMap.enableCanvasRendering) {\n                this.gradientPointer = heatMap.renderer.drawPath(options);\n                this.gradientPointer.style.visibility = 'visible';\n                this.legend.appendChild(this.gradientPointer);\n            }\n            else {\n                this.removeGradientPointer();\n                var canvasTranslate = void 0;\n                heatMap.canvasRenderer.drawPath(options, canvasTranslate);\n                this.previousOptions.pathX1 = pathX1;\n                this.previousOptions.pathY1 = pathY1;\n                this.previousOptions.pathX2 = pathX2;\n                this.previousOptions.pathY2 = pathY2;\n                this.previousOptions.pathX3 = pathX3;\n                this.previousOptions.pathY3 = pathY3;\n            }\n        }\n        else {\n            this.removeGradientPointer();\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.removeGradientPointer = function () {\n        var heatMap = this.heatMap;\n        if (this.gradientPointer && !heatMap.enableCanvasRendering) {\n            this.gradientPointer.style.visibility = 'hidden';\n        }\n        else if (heatMap.enableCanvasRendering) {\n            if (Object.keys(this.previousOptions).length !== 0) {\n                if (heatMap.horizontalGradient) {\n                    this.fillRect.x = this.previousOptions.pathX2 - 1;\n                    this.fillRect.y = this.previousOptions.pathY1;\n                    this.fillRect.width = this.previousOptions.pathX3 - this.previousOptions.pathX2 + 2;\n                    this.fillRect.height = this.previousOptions.pathY2 + 1 - this.previousOptions.pathY1;\n                }\n                else {\n                    this.fillRect.x = this.previousOptions.pathX2 - 1;\n                    this.fillRect.y = this.previousOptions.pathY2 - 1;\n                    this.fillRect.width = this.previousOptions.pathX1 - this.previousOptions.pathX2 + 1;\n                    this.fillRect.height = this.previousOptions.pathY3 - this.previousOptions.pathY2 + 2;\n                }\n            }\n            heatMap.canvasRenderer.ctx.fillStyle = heatMap.themeStyle.background;\n            heatMap.canvasRenderer.ctx.clearRect(this.fillRect.x, this.fillRect.y, this.fillRect.width, this.fillRect.height);\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.calculateLegendBounds = function (rect) {\n        var heatMap = this.heatMap;\n        var legendSettings = heatMap.legendSettings;\n        this.labelCollection = [];\n        this.labelCollections = [];\n        var colorCollection = heatMap.legendColorCollection;\n        if (legendSettings.position !== 'Bottom' && legendSettings.position !== 'Top' &&\n            legendSettings.position !== 'Right' && legendSettings.position !== 'Left') {\n            legendSettings.position = 'Right';\n        }\n        var title = heatMap.legendSettings.title;\n        var titleSize = measureText(title.text, title.textStyle);\n        heatMap.horizontalGradient = legendSettings.position === 'Bottom' || legendSettings.position === 'Top';\n        this.legendRectPadding = heatMap.horizontalGradient ? heatMap.legendSettings.title.text ?\n            titleSize.height + 16 : 16 : 10; // padding between rect and legend\n        this.labelPadding = legendSettings.showLabel ? this.heatMap.horizontalGradient ? 10 : 6 : 0; // padding between list and label\n        this.legendHeight = legendSettings.height;\n        this.legendWidth = legendSettings.width;\n        var format = heatMap.legendSettings.labelFormat;\n        var isCustom = format.match('{value}') !== null;\n        this.format = heatMap.intl.getNumberFormat({ format: isCustom ? '' : format });\n        if (heatMap.paletteSettings.type === 'Fixed') {\n            for (var i = 0; i < colorCollection.length; i++) {\n                var label = colorCollection[i].label ? colorCollection[i].label : this.heatMap.isColorRange ?\n                    colorCollection[i].startValue.toString() + '-' + colorCollection[i].endValue.toString() : formatValue(isCustom, format, colorCollection[i].value, this.format).toString();\n                var legendEventArg = { cancel: false, text: label, name: 'legendRender' };\n                this.labelCollection.push(label);\n                this.heatMap.trigger('legendRender', legendEventArg);\n                if (heatMap.legendRender) {\n                    if (heatMap.legendSettings.enableSmartLegend && heatMap.legendSettings.labelDisplayType === 'Edge'\n                        && i > 0 && i < colorCollection.length - 1) {\n                        this.labelCollections.push('');\n                    }\n                    else {\n                        if (!legendEventArg.cancel) {\n                            this.labelCollections.push(legendEventArg.text);\n                        }\n                        else {\n                            this.labelCollections.push('');\n                        }\n                    }\n                }\n                else {\n                    if (heatMap.legendSettings.enableSmartLegend && heatMap.legendSettings.labelDisplayType === 'Edge'\n                        && i > 0 && i < colorCollection.length - 1) {\n                        this.labelCollections.push('');\n                    }\n                    else {\n                        this.labelCollections.push(label);\n                    }\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < colorCollection.length; i++) {\n                var label = colorCollection[i].isHidden ? '' : colorCollection[i].label ? colorCollection[i].label :\n                    this.heatMap.isColorRange ? colorCollection[i].startValue.toString() + '-' + colorCollection[i].endValue.toString() :\n                        formatValue(isCustom, format, colorCollection[i].value, this.format).toString();\n                var legendEventArg = { cancel: false, text: label, name: 'legendRender' };\n                if (!colorCollection[i].isHidden) {\n                    this.heatMap.trigger('legendRender', legendEventArg);\n                }\n                if (heatMap.legendRender) {\n                    if (!legendEventArg.cancel) {\n                        if (i > 0 && i < colorCollection.length - 1 && heatMap.legendSettings.labelDisplayType === 'Edge') {\n                            this.labelCollections.push('');\n                        }\n                        else {\n                            if (!legendEventArg.cancel) {\n                                this.labelCollections.push(legendEventArg.text);\n                            }\n                            else {\n                                this.labelCollections.push('');\n                            }\n                        }\n                    }\n                    else {\n                        this.labelCollections.push('');\n                    }\n                }\n                else {\n                    if (i > 0 && i < colorCollection.length - 1 && heatMap.legendSettings.labelDisplayType === 'Edge') {\n                        this.labelCollections.push('');\n                    }\n                    else {\n                        this.labelCollections.push(label);\n                    }\n                }\n            }\n        }\n        if (heatMap.paletteSettings.type === 'Gradient' || (heatMap.paletteSettings.type === 'Fixed' &&\n            heatMap.legendSettings.enableSmartLegend)) {\n            this.maxLegendLabelSize = this.getMaxLabelSize();\n            if (heatMap.horizontalGradient && legendSettings.height === '') {\n                this.legendHeight = ((2 * this.legendRectPadding) + this.legendSize + this.maxLegendLabelSize.height).toString();\n            }\n            else if (!heatMap.horizontalGradient && legendSettings.width === '' && (legendSettings.textStyle.textOverflow === 'None' ||\n                (heatMap.paletteSettings.type === 'Fixed' && heatMap.legendSettings.enableSmartLegend &&\n                    heatMap.legendSettings.labelDisplayType === 'None'))) {\n                this.legendWidth = ((2 * this.legendRectPadding) + this.legendSize + this.maxLegendLabelSize.width).toString();\n            }\n            this.calculateTitleBounds();\n        }\n        else {\n            this.calculateListLegendBounds(rect);\n        }\n        this.legendHeight = this.legendHeight ? this.legendHeight : heatMap.horizontalGradient ? '50' : '100%';\n        this.legendWidth = this.legendWidth ? this.legendWidth : heatMap.horizontalGradient ?\n            '100%' : heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend ? '70' : '50';\n        this.height = stringToNumber(this.legendHeight, rect.height);\n        this.width = stringToNumber(this.legendWidth, rect.width);\n        if (heatMap.horizontalGradient) {\n            this.height = heatMap.paletteSettings.type === 'Gradient' || heatMap.legendSettings.enableSmartLegend ?\n                this.height < 50 ? 50 : this.height : this.height;\n            if (legendSettings.position === 'Top') {\n                rect.y += this.height;\n            }\n            rect.height -= this.height;\n        }\n        else {\n            this.width = heatMap.paletteSettings.type === 'Gradient' || heatMap.legendSettings.enableSmartLegend ?\n                this.width < 50 ? 50 : this.width : this.width;\n            if (legendSettings.position === 'Left') {\n                rect.x += this.width;\n            }\n            rect.width -= this.width;\n        }\n    };\n    Legend.prototype.calculateTitleBounds = function () {\n        var heatMap = this.heatMap;\n        var title = heatMap.legendSettings.title;\n        var titleSize = measureText(title.text, title.textStyle);\n        if (heatMap.legendSettings.title.text) {\n            if ((heatMap.legendSettings.position === 'Top' || heatMap.legendSettings.position === 'Bottom') &&\n                heatMap.legendSettings.height === '') {\n                this.legendHeight = (((2 * this.legendRectPadding) - titleSize.height) +\n                    this.legendSize + this.maxLegendLabelSize.height).toString();\n            }\n            if (heatMap.legendSettings.width === '' && (heatMap.legendSettings.textStyle.textOverflow === 'None' ||\n                (heatMap.paletteSettings.type === 'Fixed' && heatMap.legendSettings.enableSmartLegend &&\n                    heatMap.legendSettings.labelDisplayType === 'None'))) {\n                if (heatMap.legendSettings.position === 'Right') {\n                    this.legendWidth = ((2 * this.legendRectPadding + titleSize.width) +\n                        this.legendSize + this.maxLegendLabelSize.width).toString();\n                }\n                else if (heatMap.legendSettings.position === 'Left') {\n                    titleSize.width = titleSize.width > this.maxLegendLabelSize.width ? titleSize.width : this.maxLegendLabelSize.width;\n                    this.legendWidth = ((2 * this.legendRectPadding + titleSize.width) + this.legendSize).toString();\n                }\n            }\n        }\n    };\n    Legend.prototype.calculateListLegendBounds = function (rect) {\n        var heatMap = this.heatMap;\n        this.listWidth = 0;\n        this.listHeight = 0;\n        this.currentPage = 1;\n        var padding = 10; // padding of paging elements\n        var title = heatMap.legendSettings.title;\n        var titleSize = measureText(title.text, title.textStyle);\n        var height = (titleSize.height + 50).toString();\n        if (heatMap.horizontalGradient) {\n            for (var i = 0; i < heatMap.colorCollection.length; i++) {\n                var size = 0;\n                if (heatMap.legendSettings.showLabel) {\n                    var text = this.labelCollections[i];\n                    size = measureText(text, heatMap.legendSettings.textStyle).width;\n                }\n                var perListWidth = this.legendSize + this.labelPadding + size + this.listInterval;\n                this.listWidth += perListWidth;\n            }\n            this.listWidth += this.listInterval + padding;\n            if (this.legendWidth === '') {\n                this.legendWidth = this.listWidth > rect.width ? rect.width.toString() : this.listWidth.toString();\n            }\n            if (this.legendHeight === '') {\n                this.numberOfRows = Math.ceil(this.listWidth / stringToNumber(this.legendWidth, rect.width));\n                this.numberOfRows = this.numberOfRows > 3 ? 3 : this.numberOfRows;\n                this.legendHeight = (this.listWidth > rect.width || this.listWidth > stringToNumber(this.legendWidth, rect.width)) &&\n                    this.numberOfRows > 3 ? (((this.legendSize + this.listInterval) * this.numberOfRows) + this.legendRectPadding +\n                    parseInt(heatMap.legendSettings.textStyle.size, 10) + padding).toString() :\n                    (((this.legendSize + this.listInterval) * this.numberOfRows) + this.legendRectPadding).toString();\n            }\n        }\n        else {\n            this.listHeight = ((this.legendSize + this.listInterval) * heatMap.colorCollection.length)\n                + this.listInterval + (heatMap.legendSettings.title.text ? titleSize.height : 0);\n            if (this.legendHeight === '') {\n                this.legendHeight = this.listHeight > rect.height ? rect.height.toString() : this.listHeight.toString();\n            }\n            if (this.legendWidth === '' && heatMap.legendSettings.textStyle.textOverflow !== 'Trim') {\n                this.maxLegendLabelSize = this.getMaxLabelSize();\n                this.maxLegendLabelSize.width = titleSize.width > this.maxLegendLabelSize.width ?\n                    titleSize.width : this.maxLegendLabelSize.width;\n                this.legendWidth = ((2 * this.legendRectPadding) + this.legendSize + this.labelPadding +\n                    this.maxLegendLabelSize.width).toString();\n            }\n        }\n        if (stringToNumber(this.legendHeight, rect.height) < 50) {\n            this.legendHeight = height;\n        }\n        if (stringToNumber(this.legendWidth, rect.width) < 70) {\n            this.legendWidth = '70';\n        }\n    };\n    Legend.prototype.getMaxLabelSize = function () {\n        var heatMap = this.heatMap;\n        this.maxLegendLabelSize = new Size(0, 0);\n        if (!heatMap.legendSettings.showLabel || (heatMap.horizontalGradient && heatMap.paletteSettings.type === 'Fixed' &&\n            !heatMap.legendSettings.enableSmartLegend) || (heatMap.paletteSettings.type === 'Fixed' &&\n            heatMap.legendSettings.labelDisplayType === 'None')) {\n            return this.maxLegendLabelSize;\n        }\n        else {\n            var labelSize = this.maxLegendLabelSize;\n            for (var i = 0; i < heatMap.legendColorCollection.length; i++) {\n                var size = measureText(this.labelCollections[i], heatMap.legendSettings.textStyle);\n                labelSize.width = (labelSize.width > size.width) ? labelSize.width : size.width;\n                labelSize.height = (labelSize.height > size.height) ? labelSize.height : size.height;\n            }\n            return labelSize;\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.calculateLegendSize = function (rect, legendTop) {\n        var heatMap = this.heatMap;\n        var legendSettings = heatMap.legendSettings;\n        var left;\n        var top;\n        var padding = 10; // inner padding for axis title and axil labels\n        var alignment = legendSettings.alignment;\n        var width;\n        var height = stringToNumber(this.legendHeight, rect.height);\n        if (!heatMap.legendSettings.title.text) {\n            width = stringToNumber(this.legendWidth, rect.width);\n        }\n        else {\n            width = this.width;\n        }\n        var axis = heatMap.axisCollections;\n        var axisTitlePadding = 0;\n        if (heatMap.horizontalGradient) {\n            width = width > rect.width ? rect.width : width;\n            height = heatMap.paletteSettings.type === 'Gradient' || heatMap.legendSettings.enableSmartLegend ?\n                height > 50 ? height : 50 : this.height;\n            left = alignment === 'Near' ? rect.x : alignment === 'Far' ? rect.x + rect.width - width :\n                rect.x + (rect.width / 2) - (width / 2);\n            if (heatMap.xAxis.title.text !== '') {\n                axisTitlePadding = measureText(heatMap.xAxis.title.text, heatMap.xAxis.textStyle).height + padding;\n            }\n            var axisHeight = axis[0].opposedPosition ? 0 : sum(axis[0].xAxisMultiLabelHeight) + axis[0].maxLabelSize.height +\n                axisTitlePadding + padding;\n            top = legendSettings.position === 'Top' ? heatMap.titleSettings.text ? legendTop :\n                heatMap.margin.top : rect.y + rect.height + axisHeight;\n        }\n        else {\n            height = height > rect.height ? rect.height : height;\n            width = heatMap.paletteSettings.type === 'Gradient' || heatMap.legendSettings.enableSmartLegend ?\n                width > 50 ? width : 50 : width;\n            top = alignment === 'Near' ? rect.y : alignment === 'Far' ? rect.y + rect.height - height :\n                rect.y + (rect.height / 2) - (height / 2);\n            if (heatMap.yAxis.title.text !== '') {\n                axisTitlePadding = measureText(heatMap.yAxis.title.text, heatMap.yAxis.textStyle).height + padding;\n            }\n            var axisWidth = axis[1].opposedPosition ? sum(axis[1].yAxisMultiLabelHeight) +\n                axis[1].maxLabelSize.width + axisTitlePadding + 2 * padding : 0;\n            left = legendSettings.position === 'Right' ? rect.x + rect.width + axisWidth : heatMap.margin.left;\n        }\n        this.legendGroup = new Rect(left, top, width, height);\n        this.calculateGradientScale(this.legendGroup);\n    };\n    // calculating number of lists per page\n    Legend.prototype.measureListLegendBound = function (rect) {\n        var heatMap = this.heatMap;\n        var title = heatMap.legendSettings.title;\n        var padding = 15; // padding of paging element\n        this.numberOfPages = 1;\n        var titleSize = measureText(title.text, title.textStyle);\n        if (heatMap.horizontalGradient) {\n            if (this.listWidth > this.width) {\n                this.numberOfRows = Math.ceil(this.listWidth / this.width);\n                this.listHeight = ((this.legendSize + this.listInterval) * this.numberOfRows);\n                this.listPerPage = this.numberOfRows <= 3 ? this.numberOfRows : Math.ceil((this.height - padding -\n                    parseInt(heatMap.legendSettings.textStyle.size, 10) -\n                    this.legendRectPadding) / (this.legendSize + this.listInterval));\n                this.numberOfPages = Math.ceil(this.numberOfRows / this.listPerPage);\n            }\n            else {\n                this.listPerPage = 1;\n            }\n        }\n        else {\n            if (this.listHeight > rect.height || this.listHeight > this.height) {\n                var maxHeight = stringToNumber(this.legendHeight, rect.height);\n                maxHeight = maxHeight > rect.height ? rect.height : maxHeight;\n                maxHeight = heatMap.legendSettings.title.text ? maxHeight - titleSize.height : maxHeight;\n                this.listPerPage = Math.floor(maxHeight / (this.legendSize + this.listInterval) - 1);\n                this.numberOfPages = Math.max(1, Math.ceil(heatMap.colorCollection.length / this.listPerPage));\n            }\n            else {\n                this.listPerPage = heatMap.colorCollection.length;\n                this.legendHeight = this.listHeight.toString();\n            }\n        }\n    };\n    Legend.prototype.renderPagingElements = function () {\n        var heatMap = this.heatMap;\n        if (this.numberOfPages > 1) {\n            this.navigationCollections = [];\n            this.legend.appendChild(this.paginggroup);\n            var iconSize = 10;\n            var rightArrowX = this.legendGroup.x + this.legendGroup.width - iconSize;\n            var rightArrowY = this.legendGroup.y + this.legendGroup.height - iconSize;\n            var text = this.currentPage + '/' + this.numberOfPages;\n            var textSize = measureText(text, heatMap.legendSettings.textStyle);\n            var textX = rightArrowX - textSize.width - 15;\n            var textBasic = new TextBasic(textX, rightArrowY, 'start', text, 0, 'translate(0,0)', 'middle');\n            var options = new TextOption(heatMap.element.id + '_paging', textBasic, heatMap.legendSettings.textStyle, heatMap.legendSettings.textStyle.color || heatMap.themeStyle.legendLabel);\n            this.drawSvgCanvas.createText(options, this.paginggroup, text);\n            if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                this.paginggroup.lastChild.setAttribute('dy', '0.6ex');\n            }\n            this.pagingRect = new Rect(textX, rightArrowY - textSize.height / 2, textSize.width, textSize.height);\n            var pagingTextRect = new RectOption(heatMap.element.id + '_pagingText', 'none', { color: 'transparent', width: 0 }, 1, this.pagingRect);\n            this.drawSvgCanvas.drawRectangle(pagingTextRect, this.paginggroup);\n            var rightArrowRect = new RectOption(heatMap.element.id + '_rightArrow', 'none', { color: 'transparent', width: 0 }, 1, new Rect(rightArrowX - iconSize, rightArrowY - iconSize / 2, iconSize, iconSize));\n            this.drawSvgCanvas.drawRectangle(rightArrowRect, this.paginggroup);\n            var rightArrow = 'M' + ' ' + (rightArrowX) + ' ' + rightArrowY + ' ' +\n                'L' + ' ' + (rightArrowX - iconSize) + ' ' + (rightArrowY - iconSize / 2) + ' ' + 'L' + ' ' +\n                (rightArrowX - iconSize) + ' ' + (rightArrowY + (iconSize / 2)) + 'Z';\n            var leftX = textX - 15;\n            var leftArrow = 'M' + ' ' + leftX + ' ' + rightArrowY + ' ' +\n                'L' + ' ' + (leftX + iconSize) + ' ' + (rightArrowY - iconSize / 2) + ' ' + 'L' + ' ' +\n                (leftX + iconSize) + ' ' + (rightArrowY + (iconSize / 2)) + 'Z';\n            var leftArrowRect = new RectOption(heatMap.element.id + '_leftArrow', 'none', { color: 'transparent', width: 0 }, 1, new Rect(leftX, rightArrowY - iconSize / 2, iconSize, iconSize));\n            this.drawSvgCanvas.drawRectangle(leftArrowRect, this.paginggroup);\n            var leftOption = new PathOption(heatMap.element.id + '_Legend_leftarrow', 'gray', 0.01, '#A0A0A0', 1, '0,0', leftArrow);\n            var rightOption = new PathOption(heatMap.element.id + '_Legend_rightarrow', 'gray', 0.01, '#A0A0A0', 1, '0,0', rightArrow);\n            this.navigationCollections.push(rightArrowRect);\n            this.navigationCollections.push(leftArrowRect);\n            if (!heatMap.enableCanvasRendering) {\n                var arrow = heatMap.renderer.drawPath(leftOption);\n                var rightarrow = heatMap.renderer.drawPath(rightOption);\n                this.paginggroup.appendChild(arrow);\n                this.paginggroup.appendChild(rightarrow);\n            }\n            else {\n                var canvasTranslate = void 0;\n                heatMap.canvasRenderer.drawPath(leftOption, canvasTranslate);\n                heatMap.canvasRenderer.drawPath(rightOption, canvasTranslate);\n            }\n        }\n    };\n    Legend.prototype.calculateGradientScale = function (scale) {\n        var heatMap = this.heatMap;\n        var padding = 10; // padding between legend bounds and gradient scale\n        var left;\n        var top;\n        var height;\n        var width;\n        var title = heatMap.legendSettings.title;\n        var titleSize = measureText(title.text, title.textStyle);\n        var titleHeight = heatMap.legendSettings.title.text ? titleSize.height : 0;\n        if (heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend) {\n            this.measureListLegendBound(heatMap.initialClipRect);\n        }\n        if (heatMap.horizontalGradient) {\n            left = scale.x + padding;\n            top = scale.y + this.legendRectPadding;\n            width = heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend ?\n                scale.width - (2 * this.listInterval) : scale.width - 2 * padding;\n            height = heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend ?\n                (this.legendSize + this.listInterval) * this.listPerPage - this.listInterval : this.gradientScaleSize;\n        }\n        else {\n            left = scale.x + this.legendRectPadding;\n            top = scale.y + padding + titleHeight;\n            width = (heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend) ?\n                scale.width - padding : this.gradientScaleSize;\n            height = heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend ?\n                (this.legendSize + this.listInterval) * this.listPerPage - this.listInterval :\n                scale.height - 2 * padding - titleHeight;\n        }\n        this.legendRectScale = new Rect(left, top, width, height);\n        if (heatMap.paletteSettings.type === 'Gradient' || heatMap.paletteSettings.type === 'Fixed' &&\n            heatMap.legendSettings.enableSmartLegend) {\n            this.calculateColorAxisGrid(this.legendRectScale);\n        }\n    };\n    Legend.prototype.calculateColorAxisGrid = function (legendRect) {\n        var heatMap = this.heatMap;\n        var rect = this.legendRectScale;\n        var legendPart;\n        var text;\n        var maxTextWrapLength = 0;\n        this.segmentCollectionsLabels = [];\n        this.segmentCollections = [];\n        this.textWrapCollections = [];\n        var pathX1;\n        var pathY1;\n        var colorCollection = heatMap.paletteSettings.type === 'Gradient' ?\n            heatMap.legendColorCollection : heatMap.colorCollection;\n        var minValue = heatMap.bubbleSizeWithColor ? heatMap.minColorValue : heatMap.dataSourceMinValue;\n        var maxValue = heatMap.bubbleSizeWithColor ? heatMap.maxColorValue : heatMap.dataSourceMaxValue;\n        this.legendMinValue = this.heatMap.isColorRange ? (colorCollection[0].startValue > heatMap.dataSourceMinValue) ?\n            heatMap.dataSourceMinValue : colorCollection[0].startValue : ((colorCollection[0].value > minValue) ? minValue :\n            colorCollection[0].value);\n        this.legendMaxValue = this.heatMap.isColorRange ? (colorCollection[colorCollection.length - 1].endValue <\n            heatMap.dataSourceMaxValue) ? heatMap.dataSourceMaxValue : colorCollection[colorCollection.length - 1].endValue :\n            (colorCollection[colorCollection.length - 1].value < maxValue ? maxValue : colorCollection[colorCollection.length - 1].value);\n        if (heatMap.paletteSettings.type === 'Gradient') {\n            for (var index = 0; index < colorCollection.length; index++) {\n                var value = void 0;\n                legendPart = (this.heatMap.isColorRange && heatMap.horizontalGradient ? rect.width : rect.height) / 100;\n                if (this.heatMap.isColorRange) {\n                    if (colorCollection[0].startValue !== this.heatMap.dataSourceMinValue && index === 0 &&\n                        colorCollection[0].startValue > this.heatMap.dataSourceMinValue) {\n                        value = (this.heatMap.dataSourceMinValue - this.legendMinValue) /\n                            (this.legendMaxValue - this.legendMinValue) * 100;\n                        pathY1 = (heatMap.horizontalGradient ? legendRect.x : legendRect.y) + (legendPart * value);\n                        this.segmentCollections.push(pathY1);\n                    }\n                    value = ((((colorCollection[index].startValue < heatMap.dataSourceMinValue &&\n                        colorCollection[index].endValue >\n                            heatMap.dataSourceMaxValue) ? heatMap.dataSourceMinValue : colorCollection[index].startValue) -\n                        this.legendMinValue) / (this.legendMaxValue - this.legendMinValue)) * 100;\n                    value = isNaN(value) ? 0 : value;\n                    pathY1 = (heatMap.horizontalGradient ? legendRect.x : legendRect.y) + (legendPart * value);\n                    this.segmentCollections.push(pathY1);\n                    this.segmentCollectionsLabels.push(pathY1);\n                    if (colorCollection[index].endValue !== ((index === colorCollection.length - 1) ?\n                        this.heatMap.dataSourceMaxValue : colorCollection[index + 1].startValue) &&\n                        this.heatMap.legendColorCollection[index].endValue < this.heatMap.dataSourceMaxValue) {\n                        if (index === colorCollection.length - 1) {\n                            value = (colorCollection[index].endValue - this.legendMinValue) /\n                                (this.legendMaxValue - this.legendMinValue) * 100;\n                            pathY1 = (heatMap.horizontalGradient ? legendRect.x : legendRect.y) + (legendPart * value);\n                            this.segmentCollections.push(pathY1);\n                        }\n                        value = ((index === colorCollection.length - 1 ? this.heatMap.dataSourceMaxValue :\n                            colorCollection[index].endValue) - this.legendMinValue) /\n                            (this.legendMaxValue - this.legendMinValue) * 100;\n                        pathY1 = (heatMap.horizontalGradient ? legendRect.x : legendRect.y) + (legendPart * value);\n                        this.segmentCollections.push(pathY1);\n                    }\n                }\n                else {\n                    value = ((colorCollection[index].value - this.legendMinValue) /\n                        (this.legendMaxValue - this.legendMinValue)) * 100;\n                    value = isNaN(value) ? 0 : value;\n                    if (!heatMap.horizontalGradient) {\n                        legendPart = rect.height / 100;\n                        pathY1 = legendRect.y + (legendPart * value);\n                        this.segmentCollections.push(pathY1);\n                    }\n                    else {\n                        legendPart = rect.width / 100;\n                        pathX1 = legendRect.x + (legendPart * value);\n                        this.segmentCollections.push(pathX1);\n                    }\n                }\n            }\n        }\n        var textWrapWidth;\n        if (heatMap.horizontalGradient) {\n            var segmentWidth = this.heatMap.isColorRange ? this.segmentCollectionsLabels : this.segmentCollections;\n            for (var i = 0; i < colorCollection.length; i++) {\n                if (heatMap.paletteSettings.type === 'Gradient') {\n                    var previousSegmentWidth = (segmentWidth[i] - segmentWidth[i - 1]) / 2;\n                    var nextSegmentWidth = (segmentWidth[i + 1] - segmentWidth[i]) / 2;\n                    if (i === colorCollection.length - 1) {\n                        textWrapWidth = this.heatMap.isColorRange ? (legendRect.width - segmentWidth[i - 1]) / 2 : previousSegmentWidth;\n                    }\n                    else if (i === 0) {\n                        textWrapWidth = nextSegmentWidth;\n                    }\n                    else {\n                        textWrapWidth = (previousSegmentWidth < nextSegmentWidth && !this.heatMap.isColorRange) ?\n                            previousSegmentWidth : nextSegmentWidth;\n                    }\n                }\n                else {\n                    var width = this.legendRectScale.width / heatMap.colorCollection.length;\n                    textWrapWidth = heatMap.legendSettings.labelDisplayType === 'Edge' ? width : width / 2;\n                }\n                this.textWrapCollections.push(textWrapWidth);\n                text = getTitle(this.labelCollections[i], heatMap.legendSettings.textStyle, textWrapWidth);\n                maxTextWrapLength = text.length > maxTextWrapLength ? text.length : maxTextWrapLength;\n            }\n            if (heatMap.legendSettings.position === 'Bottom') {\n                heatMap.initialClipRect.height -= (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n                this.legendGroup.y -= (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n                this.legendRectScale.y = this.legendGroup.y + this.legendRectPadding;\n                this.legendGroup.height = parseInt(this.legendHeight, 10) + (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n            }\n            else {\n                heatMap.initialClipRect.y += (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n                heatMap.initialClipRect.height -= (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n                this.legendRectScale.y = this.legendGroup.y + this.legendRectPadding;\n                this.legendGroup.height = parseInt(this.legendHeight, 10) + (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n            }\n        }\n    };\n    Legend.prototype.renderColorAxisGrid = function (legendRect) {\n        var heatMap = this.heatMap;\n        var legendElement;\n        var pathX1;\n        var pathY1;\n        var pathX2;\n        var pathY2;\n        if (!heatMap.enableCanvasRendering) {\n            legendElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + '_ColorAxis_Grid' });\n        }\n        for (var i = 0; i < (heatMap.isColorRange ? this.segmentCollections.length : heatMap.legendColorCollection.length); i++) {\n            if (!heatMap.horizontalGradient) {\n                pathX1 = legendRect.x;\n                pathY1 = pathY2 = this.segmentCollections[i];\n                pathX2 = legendRect.x + legendRect.width;\n            }\n            else {\n                pathX1 = pathX2 = this.segmentCollections[i];\n                pathY1 = legendRect.y;\n                pathY2 = legendRect.y + legendRect.height;\n            }\n            var direction = new Line(pathX1, pathY1, pathX2, pathY2);\n            var line = new LineOption(this.heatMap.element.id + '_ColorAxis_Grid' + i, direction, '#EEEEEE', 1);\n            this.drawSvgCanvas.drawLine(line, legendElement);\n            if (!heatMap.enableCanvasRendering) {\n                this.legend.appendChild(legendElement);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.renderLegendTitleTooltip = function (e, pageX, pageY) {\n        if (e.target.id.indexOf('_legendTitle') !== -1 && e.target.textContent.indexOf('...') > -1) {\n            showTooltip(this.heatMap.legendSettings.title.text, pageX, pageY, this.heatMap.element.offsetWidth, this.heatMap.element.id + '_legendTitle_Tooltip', getElement(this.heatMap.element.id + '_Secondary_Element'), null, this.heatMap);\n            document.getElementById(this.heatMap.element.id + '_legendTitle_Tooltip').style.visibility = 'visible';\n        }\n        else {\n            removeElement(this.heatMap.element.id + '_legendTitle_Tooltip');\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.renderLegendLabelTooltip = function (e, pageX, pageY) {\n        if (e.target.id.indexOf('_Legend_Label') !== -1 && e.target.textContent.indexOf('...') > -1) {\n            var targetId = e.target.id.split(this.heatMap.element.id + '_Legend_Label');\n            if (targetId.length === 2) {\n                var index = void 0;\n                if (targetId[1].length === 1 || this.heatMap.legendSettings.textStyle.textOverflow === 'Trim') {\n                    index = parseInt(targetId[1], 10);\n                }\n                else {\n                    index = parseInt(targetId[1].substring(0, targetId[1].length - 1), 10);\n                }\n                showTooltip(this.labelCollections[index], pageX, pageY, this.heatMap.element.offsetWidth, this.heatMap.element.id + '_LegendLabel_Tooltip', getElement(this.heatMap.element.id + '_Secondary_Element'), null, this.heatMap);\n                document.getElementById(this.heatMap.element.id + '_LegendLabel_Tooltip').style.visibility = 'visible';\n            }\n        }\n        else {\n            removeElement(this.heatMap.element.id + '_LegendLabel_Tooltip');\n        }\n    };\n    Legend.prototype.calculateListPerPage = function (rect) {\n        var heatMap = this.heatMap;\n        if (heatMap.horizontalGradient) {\n            this.lastList = [];\n            var legendX = rect.x;\n            var legendY = rect.y;\n            var size = 0;\n            var division = 0;\n            var labelX = 0;\n            var labelY = 0;\n            var interval = 20;\n            var i = void 0;\n            var legendSize = 10;\n            var padding = 5;\n            this.labelXCollections = [];\n            this.labelYCollections = [];\n            this.legendXCollections = [];\n            this.legendYCollections = [];\n            for (i = 0; i < heatMap.colorCollection.length; i++) {\n                if (heatMap.legendSettings.showLabel) {\n                    var text = this.labelCollections[i];\n                    size = measureText(text, heatMap.legendSettings.textStyle).width;\n                }\n                labelX = legendX + legendSize + padding;\n                labelY = legendY + padding;\n                var maxWidth = heatMap.legendSettings.showLabel ? labelX + size : legendX + this.legendSize + this.listInterval;\n                if (i !== 0 && maxWidth > this.legendGroup.width + this.legendGroup.x - this.listInterval) {\n                    division += 1;\n                    legendX = rect.x;\n                    legendY = rect.y + (division * interval);\n                    labelX = legendX + legendSize + padding;\n                    labelY = legendY + padding;\n                    if (division % (this.listPerPage) === 0) {\n                        this.lastList.push(i);\n                        legendY = rect.y;\n                        labelY = legendY + padding;\n                        division = 0;\n                    }\n                }\n                this.labelXCollections.push(labelX);\n                this.labelYCollections.push(labelY);\n                this.legendXCollections.push(legendX);\n                this.legendYCollections.push(legendY);\n                legendX = legendX + this.legendSize + this.labelPadding + size + this.listInterval;\n            }\n            this.lastList.push(i);\n            this.numberOfPages = this.lastList.length;\n        }\n    };\n    Legend.prototype.renderListLegendMode = function (rect, translate) {\n        var heatMap = this.heatMap;\n        var legendSize = 10;\n        var tempBorder = {\n            color: 'transparent', width: 0\n        };\n        var padding = 5; // padding for legend label from top\n        this.legendLabelTooltip = [];\n        var listRect;\n        var size = new Size(0, 0);\n        var labelX = 0;\n        var labelY = 0;\n        var legendX = rect.x;\n        var legendY = rect.y;\n        if (translate) {\n            this.renderPagingElements();\n        }\n        var x;\n        var y;\n        var textWrapWidth = heatMap.legendSettings.title.text ? this.width - (2 * (this.legendSize + this.labelPadding)) :\n            this.legendGroup.width - (this.legendSize + this.legendRectPadding + this.labelPadding);\n        if (!heatMap.horizontalGradient) {\n            x = (this.currentPage * (this.listPerPage)) - (this.listPerPage);\n            y = x + this.listPerPage;\n            y = y < heatMap.colorCollection.length ? y : heatMap.colorCollection.length;\n        }\n        else {\n            x = this.currentPage === 1 ? 0 : this.lastList[this.currentPage - 2];\n            y = this.lastList[this.currentPage - 1];\n        }\n        for (var i = x; i < y; i++) {\n            if (heatMap.legendSettings.showLabel) {\n                var text = this.labelCollections[i];\n                size = measureText(text, heatMap.legendSettings.textStyle);\n            }\n            var legendEventArgs = {\n                cancel: false, text: this.labelCollection[i], name: 'legendRender'\n            };\n            if (heatMap.horizontalGradient) {\n                legendX = this.legendXCollections[i];\n                legendY = this.legendYCollections[i];\n                labelX = this.labelXCollections[i];\n                labelY = this.labelYCollections[i];\n            }\n            labelX = legendX + this.legendSize + this.labelPadding;\n            labelY = legendY + padding;\n            this.heatMap.trigger('legendRender', legendEventArgs);\n            if (translate && heatMap.rendering && this.legendRange.length <= heatMap.colorCollection.length) {\n                var rectPosition = new LegendRange(legendX, legendY, legendSize, legendSize, heatMap.colorCollection[i].value, true, this.currentPage);\n                rectPosition.visible = !isNullOrUndefined(this.visibilityCollections[i]) ?\n                    this.visibilityCollections[i] : true;\n                if (!legendEventArgs.cancel) {\n                    this.legendRange.push(rectPosition);\n                }\n                else {\n                    var rectPosition_1 = new LegendRange(legendX, legendY, 0, 0, heatMap.colorCollection[i].value, true, this.currentPage);\n                    this.legendRange.push(rectPosition_1);\n                }\n                if (heatMap.legendSettings.showLabel) {\n                    var textPosition = new LegendRange(labelX, (labelY - size.height / 2), size.width, size.height, heatMap.colorCollection[i].value, true, this.currentPage);\n                    textPosition.visible = !isNullOrUndefined(this.visibilityCollections[i]) ?\n                        this.visibilityCollections[i] : true;\n                    this.legendTextRange.push(textPosition);\n                }\n            }\n            if (!legendEventArgs.cancel) {\n                if (heatMap.legendSettings.showLabel) {\n                    var text = getTitle(this.labelCollections[i], heatMap.legendSettings.textStyle, textWrapWidth);\n                    if (text[0].indexOf('...') !== -1 && heatMap.enableCanvasRendering) {\n                        this.legendLabelTooltip.push(new CanvasTooltip(this.labelCollections[i], new Rect(labelX, labelY, size.width, size.height)));\n                    }\n                    var textBasic = new TextBasic(labelX, labelY, 'start', text, 0, 'translate(0,0)', 'middle');\n                    var options = new TextOption(heatMap.element.id + '_Legend_Label' + i, textBasic, heatMap.legendSettings.textStyle, heatMap.legendSettings.textStyle.color || heatMap.themeStyle.legendLabel);\n                    options.fill = heatMap.legendOnLoad ? options.fill : this.legendRange[i].visible ? options.fill : '#D3D3D3';\n                    this.drawSvgCanvas.createText(options, this.translategroup, text[0]);\n                    if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                        this.translategroup.lastChild.setAttribute('dy', '0.6ex');\n                    }\n                }\n                listRect = new Rect(legendX, legendY, legendSize, legendSize);\n                var listColor = heatMap.legendOnLoad ? this.heatMap.isColorRange ? heatMap.colorCollection[i].minColor :\n                    heatMap.colorCollection[i].color :\n                    this.legendRange[i].visible ? this.heatMap.isColorRange ? heatMap.colorCollection[i].minColor :\n                        heatMap.colorCollection[i].color : '#D3D3D3';\n                var rectItems = new RectOption(heatMap.element.id + '_legend_list' + i, listColor, tempBorder, 1, listRect);\n                this.drawSvgCanvas.drawRectangle(rectItems, this.translategroup);\n                if (heatMap.horizontalGradient) {\n                    legendX = legendX + this.legendSize + this.labelPadding + size.width + this.listInterval;\n                }\n                else {\n                    legendY += this.legendSize + this.listInterval;\n                }\n            }\n        }\n        if (!heatMap.enableCanvasRendering) {\n            this.legendGroup.height = this.legendGroup.height > 0 ? this.legendGroup.height : 0;\n            this.legendGroup.width = this.legendGroup.width > 0 ? this.legendGroup.width : 0;\n            var clippath = heatMap.renderer.createClipPath({ id: heatMap.element.id + '_LegendScale_ClipPath' });\n            var clipRect = heatMap.renderer.drawRectangle(this.legendGroup);\n            clippath.appendChild(clipRect);\n            this.translategroup.appendChild(clippath);\n            this.legend.style.cssText = 'clip-path:url(#' + clippath.id + ')';\n            this.legendScale.appendChild(this.translategroup);\n            heatMap.svgObject.appendChild(this.legend);\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.translatePage = function (heatMap, page, isNext) {\n        var padding = 5;\n        if ((isNext && page >= 1 && page < this.numberOfPages) || (!isNext && page > 1 && page <= this.numberOfPages)) {\n            if (isNext) {\n                this.currentPage += 1;\n                this.legendRect.y += this.legendRect.height;\n            }\n            else {\n                this.currentPage -= 1;\n                this.legendRect.y -= this.legendRect.height;\n            }\n            if (!heatMap.enableCanvasRendering) {\n                this.paginggroup.removeChild(this.paginggroup.firstChild);\n                while (this.translategroup.childNodes.length) {\n                    this.translategroup.removeChild(this.translategroup.firstChild);\n                }\n            }\n            else {\n                var ctx = heatMap.canvasRenderer.ctx;\n                ctx.fillRect(this.legendRectScale.x - padding, this.legendRectScale.y - padding, this.legendRectScale.width +\n                    padding, this.legendRectScale.height + (2 * padding));\n                ctx.fillRect(this.pagingRect.x, this.pagingRect.y, this.pagingRect.width, this.pagingRect.height);\n            }\n            this.renderListLegendMode(this.legendRectScale, true);\n        }\n        if (heatMap.enableCanvasRendering && heatMap.allowSelection && heatMap.rectSelected) {\n            var ctx = heatMap.secondaryCanvasRenderer.ctx;\n            var position = heatMap.legendSettings.position;\n            var initialRect = heatMap.initialClipRect;\n            var rectX = position === 'Right' ? initialRect.x + initialRect.width : 0;\n            var rectY = position === 'Bottom' ? initialRect.y + initialRect.height : 0;\n            var rectWidth = position === 'Right' ? heatMap.availableSize.width - (initialRect.x +\n                initialRect.width) : position === 'Left' ? initialRect.x : heatMap.availableSize.width;\n            var rectHeight = position === 'Top' ? initialRect.y : position === 'Bottom' ?\n                heatMap.availableSize.height - (initialRect.y + initialRect.height) : heatMap.availableSize.height;\n            ctx.save();\n            ctx.clearRect(rectX, rectY, rectWidth, rectHeight);\n            ctx.restore();\n            var oldCanvas = document.getElementById(heatMap.element.id + '_canvas');\n            var newCanvas = document.getElementById(heatMap.element.id + '_secondary_canvas');\n            var rectImage = oldCanvas.getContext('2d').getImageData(rectX, rectY, rectWidth, rectHeight);\n            newCanvas.getContext('2d').putImageData(rectImage, rectX, rectY);\n            oldCanvas.style.opacity = '0.3';\n        }\n    };\n    /**\n     * To create div container for tooltip which appears on hovering the smart legend.\n     *\n     * @param heatmap\n     * @private\n     */\n    Legend.prototype.createTooltipDiv = function () {\n        var element = createElement('div', {\n            id: this.heatMap.element.id + 'legendLabelTooltipContainer'\n        });\n        element.style.position = 'absolute';\n        this.heatMap.element.appendChild(element);\n    };\n    /**\n     * To render tooltip for smart legend.\n     *\n     * @private\n     */\n    Legend.prototype.renderTooltip = function (currentLegendRect) {\n        var heatMap = this.heatMap;\n        var tempTooltipText = [currentLegendRect.label];\n        var offset = null;\n        offset = parseInt(heatMap.legendSettings.textStyle.size, 10) / 2;\n        this.tooltipObject = new tool({\n            offset: offset,\n            theme: heatMap.theme,\n            content: tempTooltipText,\n            location: {\n                x: currentLegendRect.x + (currentLegendRect.width / 2),\n                y: currentLegendRect.y + (currentLegendRect.height / 2)\n            },\n            inverted: heatMap.horizontalGradient ? false : true,\n            areaBounds: {\n                height: this.legendGroup.height + this.legendGroup.y,\n                width: this.legendGroup.width + this.legendGroup.x,\n                x: heatMap.legendSettings.position === 'Right' ? 0 : this.legendGroup.x,\n                y: heatMap.legendSettings.position === 'Top' ? heatMap.titleSettings.text === '' ? this.legendGroup.height -\n                    this.legendGroup.y : this.legendGroup.y : 0\n            }\n        }, '#' + this.heatMap.element.id + 'legendLabelTooltipContainer');\n        this.tooltipObject.element.style.visibility = 'visible';\n    };\n    /**\n     * To create tooltip for smart legend.\n     *\n     * @private\n     */\n    Legend.prototype.createTooltip = function (pageX, pageY) {\n        var currentLegendRect;\n        for (var i = 0; i < this.heatMap.colorCollection.length; i++) {\n            var position = this.legendRectPositionCollection[i];\n            if (position && pageX > position.x && pageX < position.width + position.x &&\n                pageY > position.y && pageY < position.height + position.y) {\n                currentLegendRect = this.legendRectPositionCollection[i];\n                break;\n            }\n        }\n        var ele = document.getElementById(this.heatMap.element.id + 'legendLabelTooltipContainer');\n        if (ele && ele.style.visibility === 'visible' && this.tooltipObject && !this.heatMap.isTouch) {\n            this.tooltipObject.fadeOut();\n            ele.style.visibility = 'hidden';\n        }\n        if (currentLegendRect) {\n            this.renderTooltip(currentLegendRect);\n        }\n    };\n    /**\n     * Toggle the visibility of cells based on legend selection\n     *\n     * @private\n     */\n    Legend.prototype.legendRangeSelection = function (index) {\n        var heatMap = this.heatMap;\n        var legendRange = this.legendRange;\n        var padding = 5;\n        var legendPadding = heatMap.horizontalGradient ? 10 : 0;\n        var legendBound = this.legendRectScale;\n        var ctx = heatMap.canvasRenderer.ctx;\n        heatMap.rangeSelection = true;\n        if (heatMap.enableCanvasRendering) {\n            var ctx_2 = heatMap.canvasRenderer.ctx;\n            if (heatMap.legendSettings.enableSmartLegend) {\n                ctx_2.fillRect(legendBound.x - padding, legendBound.y - padding, (legendBound.width + this.labelPadding +\n                    this.maxLegendLabelSize.width) + padding, legendBound.height + 2 * (padding + legendPadding));\n            }\n            else {\n                ctx_2.fillRect(legendBound.x - padding, legendBound.y - padding, legendBound.width +\n                    padding, legendBound.height + (2 * padding));\n            }\n        }\n        else {\n            if (heatMap.legendSettings.enableSmartLegend) {\n                while (this.legend && this.legend.childNodes.length) {\n                    this.legend.removeChild(this.legend.firstChild);\n                }\n            }\n            else {\n                while (this.translategroup && this.translategroup.childNodes.length) {\n                    this.translategroup.removeChild(this.translategroup.firstChild);\n                }\n            }\n            removeElement(heatMap.heatMapSeries.containerRectObject.id);\n            if (heatMap.cellSettings.showLabel) {\n                removeElement(heatMap.heatMapSeries.containerTextObject.id);\n            }\n        }\n        if (heatMap.legendSettings.enableSmartLegend) {\n            if (heatMap.colorCollection.length !== heatMap.legendColorCollection.length) {\n                if (index === heatMap.legendColorCollection.length - 1) {\n                    heatMap.toggleValue[index - 1].visible = this.visibilityCollections[index - 1] =\n                        legendRange[index - 1].visible = !legendRange[index].visible;\n                }\n                else {\n                    if (index === heatMap.colorCollection.length - 1) {\n                        heatMap.toggleValue[index + 1].visible = this.visibilityCollections[index + 1] =\n                            legendRange[index + 1].visible = !legendRange[index].visible;\n                    }\n                }\n            }\n        }\n        heatMap.toggleValue[index].visible = this.visibilityCollections[index] =\n            legendRange[index].visible = !legendRange[index].visible;\n        heatMap.legendOnLoad = false;\n        if (heatMap.legendSettings.enableSmartLegend) {\n            this.renderSmartLegend();\n            var rectItemsSvg = new Rect(legendBound.x, legendBound.y, legendBound.width, legendBound.height);\n            this.renderLegendLabel(rectItemsSvg);\n            if (heatMap.enableCanvasRendering) {\n                ctx.save();\n                ctx.clip();\n            }\n            if (heatMap.renderingMode === 'SVG') {\n                this.renderTitle(rectItemsSvg);\n            }\n        }\n        else {\n            this.renderListLegendMode(this.legendRectScale, false);\n        }\n        if (heatMap.enableCanvasRendering) {\n            ctx.restore();\n        }\n        heatMap.heatMapSeries.renderRectSeries();\n        heatMap.clearSelection();\n        if (heatMap.enableCanvasRendering && heatMap.allowSelection) {\n            // heatMap.createSvg();\n            // heatMap.refreshBound();\n            // heatMap.createMultiCellDiv(false);\n        }\n    };\n    /**\n     * update visibility collections of legend and series\n     *\n     * @private\n     */\n    Legend.prototype.updateLegendRangeCollections = function () {\n        var heatMap = this.heatMap;\n        heatMap.rangeSelection = !heatMap.legendOnLoad ? true : false;\n        this.visibilityCollections = !heatMap.legendOnLoad ? this.visibilityCollections : [];\n        heatMap.toggleValue = !heatMap.legendOnLoad ? heatMap.toggleValue : [];\n        this.legendRange = !heatMap.legendOnLoad ? this.legendRange : [];\n        this.legendTextRange = !heatMap.legendOnLoad ? this.legendTextRange : [];\n    };\n    return Legend;\n}());\nexport { Legend };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { isNullOrUndefined, Complex } from '@syncfusion/ej2-base';\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { increaseDateTimeInterval } from '../utils/helper';\nimport { BubbleData } from '../model/base';\n/**\n * Configures the adaptor in the heatmap.\n */\nvar Data = /** @class */ (function (_super) {\n    __extends(Data, _super);\n    function Data() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], Data.prototype, \"isJsonData\", void 0);\n    __decorate([\n        Property('None')\n    ], Data.prototype, \"adaptorType\", void 0);\n    __decorate([\n        Property('')\n    ], Data.prototype, \"xDataMapping\", void 0);\n    __decorate([\n        Property('')\n    ], Data.prototype, \"yDataMapping\", void 0);\n    __decorate([\n        Property('')\n    ], Data.prototype, \"valueMapping\", void 0);\n    __decorate([\n        Complex({}, BubbleData)\n    ], Data.prototype, \"bubbleDataMapping\", void 0);\n    return Data;\n}(ChildProperty));\nexport { Data };\nvar AdaptiveMinMax = /** @class */ (function () {\n    function AdaptiveMinMax() {\n    }\n    return AdaptiveMinMax;\n}());\nexport { AdaptiveMinMax };\n/**\n *\n * The `Adaptor` module is used to handle JSON and Table data.\n */\nvar Adaptor = /** @class */ (function () {\n    function Adaptor(heatMap) {\n        this.reconstructedXAxis = [];\n        this.reconstructedYAxis = [];\n        this.adaptiveXMinMax = new AdaptiveMinMax();\n        this.adaptiveYMinMax = new AdaptiveMinMax();\n        this.heatMap = heatMap;\n    }\n    /**\n     * Method to construct Two Dimentional Datasource.\n     *\n     * @returns {void}\n     * @private\n     */\n    Adaptor.prototype.constructDatasource = function (dataSource, dataSourceSettings) {\n        if (dataSourceSettings.adaptorType === 'Cell') {\n            var xAxis = this.heatMap.xAxis;\n            var yAxis = this.heatMap.yAxis;\n            this.adaptiveXMinMax.min = xAxis.minimum;\n            this.adaptiveXMinMax.max = xAxis.maximum;\n            this.adaptiveYMinMax.min = yAxis.minimum;\n            this.adaptiveYMinMax.max = yAxis.maximum;\n            if (((xAxis.valueType === 'Numeric' || xAxis.valueType === 'DateTime') &&\n                (isNullOrUndefined(xAxis.minimum) || isNullOrUndefined(xAxis.maximum))) ||\n                ((yAxis.valueType === 'Numeric' || yAxis.valueType === 'DateTime') &&\n                    (isNullOrUndefined(yAxis.minimum) || isNullOrUndefined(yAxis.maximum)))) {\n                this.getMinMaxValue(dataSource, dataSourceSettings, xAxis, yAxis);\n            }\n            this.heatMap.isCellData = true;\n        }\n        if (dataSourceSettings.adaptorType === 'None') {\n            this.heatMap.completeAdaptDataSource = dataSource;\n        }\n        else if (!dataSourceSettings.isJsonData && dataSourceSettings.adaptorType === 'Table') {\n            this.heatMap.completeAdaptDataSource = dataSource;\n        }\n        else if (dataSourceSettings.isJsonData && dataSourceSettings.adaptorType === 'Table') {\n            this.heatMap.completeAdaptDataSource = this.processJsonTableData(dataSource, dataSourceSettings);\n        }\n        else if (dataSourceSettings.isJsonData && dataSourceSettings.adaptorType === 'Cell') {\n            this.heatMap.completeAdaptDataSource = this.processJsonCellData(dataSource, dataSourceSettings);\n        }\n        else if (!dataSourceSettings.isJsonData && dataSourceSettings.adaptorType === 'Cell') {\n            this.constructAdaptiveAxis();\n            this.heatMap.completeAdaptDataSource = this.processCellData(dataSource);\n            this.heatMap.isCellData = true;\n        }\n    };\n    /**\n     * Method to construct Axis Collection.\n     *\n     * @returns {void}\n     * @private\n     */\n    Adaptor.prototype.constructAdaptiveAxis = function () {\n        var xAxis = this.heatMap.xAxis;\n        var yAxis = this.heatMap.yAxis;\n        if (xAxis.valueType === 'Numeric') {\n            this.reconstructedXAxis = this.getNumericAxisCollection(this.adaptiveXMinMax.min, this.adaptiveXMinMax.max, xAxis.increment);\n        }\n        if (yAxis.valueType === 'Numeric') {\n            this.reconstructedYAxis = this.getNumericAxisCollection(this.adaptiveYMinMax.min, this.adaptiveYMinMax.max, yAxis.increment);\n        }\n        if (xAxis.valueType === 'DateTime') {\n            this.reconstructedXAxis = this.getDateAxisCollection(this.adaptiveXMinMax.min, this.adaptiveXMinMax.max, xAxis.intervalType, xAxis.increment);\n        }\n        if (yAxis.valueType === 'DateTime') {\n            this.reconstructedYAxis = this.getDateAxisCollection(this.adaptiveYMinMax.min, this.adaptiveYMinMax.max, yAxis.intervalType, yAxis.increment);\n        }\n    };\n    /**\n     * Method to calculate Numeric Axis Collection.\n     *\n     * @returns {string[]}\n     * @private\n     */\n    Adaptor.prototype.getNumericAxisCollection = function (min, max, increment) {\n        var loopIndex = min;\n        var tempAxisColl = [];\n        while (loopIndex <= max) {\n            tempAxisColl.push(loopIndex.toString());\n            loopIndex = loopIndex + increment;\n        }\n        return tempAxisColl;\n    };\n    /**\n     * Method to calculate DateTime Axis Collection.\n     *\n     * @returns {string[]}\n     * @private\n     */\n    Adaptor.prototype.getDateAxisCollection = function (min, max, intervalType, increment) {\n        var option = {\n            skeleton: 'full',\n            type: 'dateTime'\n        };\n        var dateParser = this.heatMap.intl.getDateParser(option);\n        var dateFormatter = this.heatMap.intl.getDateFormat(option);\n        min = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: min }).val))));\n        var tempInterval = min;\n        var tempAxisColl = [];\n        while (tempInterval <= max) {\n            tempAxisColl.push(new Date(tempInterval).toString());\n            tempInterval = increaseDateTimeInterval(tempInterval, 1, intervalType, increment).getTime();\n        }\n        return tempAxisColl;\n    };\n    /**\n     * Method to calculate Maximum and Minimum Value from datasource.\n     *\n     * @returns {void}\n     * @private\n     */\n    Adaptor.prototype.getMinMaxValue = function (dataSource, adapData, xAxis, yAxis) {\n        var data = dataSource;\n        var label = Object.keys(data[0]);\n        if (data.length > 0) {\n            this.adaptiveXMinMax.min = !isNullOrUndefined(xAxis.minimum) ? xAxis.minimum : adapData.isJsonData ?\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                data[0][label[0]] : data[0][0];\n            this.adaptiveYMinMax.min = !isNullOrUndefined(yAxis.minimum) ? yAxis.minimum : adapData.isJsonData ?\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                data[0][label[1]] : data[0][1];\n            this.adaptiveXMinMax.max = !isNullOrUndefined(xAxis.maximum) ? xAxis.maximum : adapData.isJsonData ?\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                data[0][label[0]] : data[0][0];\n            this.adaptiveYMinMax.max = !isNullOrUndefined(yAxis.maximum) ? yAxis.maximum : adapData.isJsonData ?\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                data[0][label[1]] : data[0][1];\n        }\n        for (var dataIndex = 0; dataIndex < data.length; dataIndex++) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var xDataIndex = adapData.isJsonData ? data[dataIndex][label[0]] : data[dataIndex][0];\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var yDataIndex = adapData.isJsonData ? data[dataIndex][label[1]] : data[dataIndex][1];\n            if (xDataIndex < this.adaptiveXMinMax.min && isNullOrUndefined(xAxis.minimum)) {\n                this.adaptiveXMinMax.min = xDataIndex;\n            }\n            if (xDataIndex > this.adaptiveXMinMax.max && isNullOrUndefined(xAxis.maximum)) {\n                this.adaptiveXMinMax.max = xDataIndex;\n            }\n            if (yDataIndex < this.adaptiveYMinMax.min && isNullOrUndefined(yAxis.minimum)) {\n                this.adaptiveYMinMax.min = yDataIndex;\n            }\n            if (yDataIndex > this.adaptiveYMinMax.max && isNullOrUndefined(yAxis.maximum)) {\n                this.adaptiveYMinMax.max = yDataIndex;\n            }\n        }\n    };\n    /**\n     * Method to process Cell datasource.\n     *\n     * @returns {Object}\n     * @private\n     */\n    Adaptor.prototype.processCellData = function (dataSource) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var tempDataCollection = dataSource;\n        var xLabels = this.reconstructedXAxis;\n        var yLabels = this.reconstructedYAxis;\n        var currentDataXIndex = 0;\n        var currentDataYIndex = 0;\n        this.reconstructData = [];\n        if (tempDataCollection && tempDataCollection.length) {\n            for (var xindex = 0; xindex < tempDataCollection.length; xindex++) {\n                if (this.heatMap.xAxis.valueType === 'Category') {\n                    currentDataXIndex = tempDataCollection[xindex][0];\n                }\n                else {\n                    currentDataXIndex = xLabels.indexOf(tempDataCollection[xindex][0].toString());\n                }\n                if (currentDataXIndex > -1) {\n                    while (!this.reconstructData[currentDataXIndex]) {\n                        this.reconstructData.push([]);\n                    }\n                    if (this.heatMap.yAxis.valueType === 'Category') {\n                        currentDataYIndex = tempDataCollection[xindex][1];\n                    }\n                    else {\n                        currentDataYIndex = yLabels.indexOf(tempDataCollection[xindex][1].toString());\n                    }\n                    if (currentDataYIndex !== -1) {\n                        while (this.reconstructData[currentDataXIndex][currentDataYIndex] !== '') {\n                            this.reconstructData[currentDataXIndex].push('');\n                        }\n                        this.reconstructData[currentDataXIndex][currentDataYIndex] =\n                            isNullOrUndefined(tempDataCollection[xindex][2]) ?\n                                '' : tempDataCollection[xindex][2];\n                    }\n                }\n            }\n        }\n        return this.reconstructData;\n    };\n    /**\n     * Method to process JSON Cell datasource.\n     *\n     * @returns {Object}\n     * @private\n     */\n    Adaptor.prototype.processJsonCellData = function (dataSource, adaptordata) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var tempDataCollection = dataSource;\n        var xAxisLabels = this.heatMap.xAxis.labels ? this.heatMap.xAxis.labels : [];\n        var yAxisLabels = this.heatMap.yAxis.labels ? this.heatMap.yAxis.labels : [];\n        var axisCollections = this.heatMap.axisCollections;\n        if (xAxisLabels.length === 0 || yAxisLabels.length === 0) {\n            this.generateAxisLabels(dataSource, adaptordata);\n        }\n        var xLabels = (this.heatMap.xAxis.valueType === 'Category') ? (xAxisLabels.length > 0 ?\n            this.heatMap.xAxis.labels : axisCollections[0].jsonCellLabel) : axisCollections[0].labelValue;\n        var yLabels = (this.heatMap.yAxis.valueType === 'Category') ? (yAxisLabels.length > 0 ?\n            this.heatMap.yAxis.labels : axisCollections[1].jsonCellLabel) : axisCollections[1].labelValue;\n        var currentDataXIndex = 0;\n        var currentDataYIndex = 0;\n        if (tempDataCollection.length) {\n            this.reconstructData = [];\n            for (var index = 0; index < tempDataCollection.length; index++) {\n                currentDataXIndex = this.getSplitDataValue(tempDataCollection[index], adaptordata, xLabels, adaptordata.xDataMapping.split('.'), this.heatMap.xAxis.valueType);\n                if (currentDataXIndex !== -1) {\n                    while (!this.reconstructData[currentDataXIndex]) {\n                        this.reconstructData.push([]);\n                    }\n                    currentDataYIndex = this.getSplitDataValue(tempDataCollection[index], adaptordata, yLabels, adaptordata.yDataMapping.split('.'), this.heatMap.yAxis.valueType);\n                    if (currentDataYIndex !== -1) {\n                        while (isNullOrUndefined(this.reconstructData[currentDataXIndex][currentDataYIndex])) {\n                            this.reconstructData[currentDataXIndex].push('');\n                        }\n                        if (this.heatMap.bubbleSizeWithColor) {\n                            this.reconstructData[currentDataXIndex][currentDataYIndex] = [\n                                this.getSplitDataValue(tempDataCollection[index], adaptordata, null, adaptordata.bubbleDataMapping.size.split('.'), ''),\n                                this.getSplitDataValue(tempDataCollection[index], adaptordata, null, adaptordata.bubbleDataMapping.color.split('.'), '')\n                            ];\n                        }\n                        else {\n                            this.reconstructData[currentDataXIndex][currentDataYIndex] = this.getSplitDataValue(tempDataCollection[index], adaptordata, null, adaptordata.valueMapping.split('.'), '');\n                        }\n                    }\n                }\n            }\n        }\n        return this.reconstructData;\n    };\n    /**\n     * Method to generate axis labels when labels are not given.\n     *\n     * @returns {string}\n     * @private\n     */\n    Adaptor.prototype.generateAxisLabels = function (dataSource, adaptordata) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var tempDataCollection = dataSource;\n        var xLabels = this.heatMap.xAxis.labels ? this.heatMap.xAxis.labels : [];\n        var yLabels = this.heatMap.yAxis.labels ? this.heatMap.yAxis.labels : [];\n        var hasXLabels = xLabels.length > 0 ? true : false;\n        var hasYLabels = yLabels.length > 0 ? true : false;\n        var axisCollection = this.heatMap.axisCollections;\n        for (var index = 0; index < axisCollection.length; index++) {\n            var valueType = axisCollection[index].valueType;\n            var axis = axisCollection[index];\n            if (valueType === 'Category') {\n                var hasLabels = void 0;\n                var dataMapping = void 0;\n                var labels = void 0;\n                if (axis.orientation === 'Horizontal') {\n                    hasLabels = hasXLabels;\n                    dataMapping = adaptordata.xDataMapping;\n                    axis.jsonCellLabel = labels = [];\n                }\n                else {\n                    hasLabels = hasYLabels;\n                    dataMapping = adaptordata.yDataMapping;\n                    axis.jsonCellLabel = labels = [];\n                }\n                if (!hasLabels) {\n                    for (var i = 0; i < tempDataCollection.length; i++) {\n                        if (dataMapping in tempDataCollection[i]) {\n                            var xValue = tempDataCollection[i][dataMapping].toString();\n                            if (labels.indexOf(xValue.toString()) === -1) {\n                                labels.push(xValue);\n                            }\n                        }\n                    }\n                }\n            }\n            else if (valueType === 'DateTime') {\n                axis.clearAxisLabel();\n                axis.calculateDateTimeAxisLabel(this.heatMap);\n            }\n            else {\n                axis.clearAxisLabel();\n                axis.calculateNumericAxisLabels(this.heatMap);\n            }\n        }\n    };\n    /**\n     * Method to get data from complex mapping.\n     *\n     * @returns {number|string}\n     * @private\n     */\n    Adaptor.prototype.getSplitDataValue = function (\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    tempSplitDataCollection, adaptordata, labels, tempSplitData, valueType) {\n        var value = -1;\n        this.tempSplitDataCollection = tempSplitDataCollection;\n        for (var splitIndex = 0; splitIndex < tempSplitData.length; splitIndex++) {\n            value = !isNullOrUndefined(labels) ? (!(valueType === 'DateTime') ?\n                labels.indexOf(this.tempSplitDataCollection[tempSplitData[splitIndex]]) :\n                labels.map(Number).indexOf(+new Date(this.tempSplitDataCollection[tempSplitData[splitIndex]]).setHours(0, 0, 0, 0))) : null;\n            if (!isNullOrUndefined(this.tempSplitDataCollection)) {\n                this.tempSplitDataCollection = value !== -1 && !isNullOrUndefined(labels) ?\n                    this.tempSplitDataCollection : this.tempSplitDataCollection[tempSplitData[splitIndex]];\n            }\n            if (isNullOrUndefined(this.tempSplitDataCollection)) {\n                break;\n            }\n        }\n        value = !isNullOrUndefined(labels) ? value : isNullOrUndefined(this.tempSplitDataCollection) ||\n            this.tempSplitDataCollection.toString() === '' ? '' : parseFloat(this.tempSplitDataCollection.toString());\n        return value;\n    };\n    /**\n     * Method to process JSON Table datasource.\n     *\n     * @returns {Object}\n     * @private\n     */\n    Adaptor.prototype.processJsonTableData = function (dataSource, adaptordata) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var tempDataCollection = dataSource;\n        var currentDataXIndex = 0;\n        var currentDataYIndex = 0;\n        var xLabels = this.heatMap.xAxis.labels ? this.heatMap.xAxis.labels : [];\n        var yLabels = this.heatMap.yAxis.labels ? this.heatMap.yAxis.labels : [];\n        var key;\n        if (tempDataCollection.length) {\n            this.reconstructData = [];\n            for (var xindex = 0; xindex < tempDataCollection.length; xindex++) {\n                currentDataXIndex = this.getSplitDataValue(tempDataCollection[xindex], adaptordata, xLabels, adaptordata.xDataMapping.split('.'), this.heatMap.xAxis.valueType);\n                if (currentDataXIndex !== -1) {\n                    while (!this.reconstructData[currentDataXIndex]) {\n                        this.reconstructData.push([]);\n                    }\n                    for (var index = 0; index < Object.keys(this.tempSplitDataCollection).length; index++) {\n                        key = Object.keys(this.tempSplitDataCollection)[index];\n                        currentDataYIndex = key !== adaptordata.xDataMapping ? yLabels.indexOf(key) : -1;\n                        if (currentDataYIndex !== -1) {\n                            while (isNullOrUndefined(this.reconstructData[currentDataXIndex][currentDataYIndex])) {\n                                this.reconstructData[currentDataXIndex].push('');\n                            }\n                            this.reconstructData[currentDataXIndex][currentDataYIndex] =\n                                isNullOrUndefined(this.tempSplitDataCollection[key]) ?\n                                    '' : this.tempSplitDataCollection[key];\n                        }\n                    }\n                }\n            }\n        }\n        return this.reconstructData;\n    };\n    /**\n     * To destroy the Adaptor.\n     *\n     * @returns {void}\n     * @private\n     */\n    Adaptor.prototype.destroy = function () {\n        /**\n         * No Lines\n         */\n    };\n    /**\n     * To get Module name\n     */\n    Adaptor.prototype.getModuleName = function () {\n        return 'Adaptor';\n    };\n    return Adaptor;\n}());\nexport { Adaptor };\n","import { createElement, isNullOrUndefined, Browser, print as printWindow } from '@syncfusion/ej2-base';\nimport { PdfPageOrientation, PdfDocument, PdfBitmap } from '@syncfusion/ej2-pdf-export';\nimport { SvgRenderer } from '@syncfusion/ej2-svg-base';\nimport { removeElement } from '../utils/helper';\nimport { SizeF } from '@syncfusion/ej2-pdf-export';\nvar ExportUtils = /** @class */ (function () {\n    /**\n     * Constructor for Heatmap\n     *\n     * @param  {HeatMap} control - specifies the control\n     *\n     */\n    function ExportUtils(control) {\n        this.control = control;\n    }\n    /**\n     * To export the file as image/svg format\n     *\n     * @param type\n     * @param fileName\n     * @private\n     */\n    ExportUtils.prototype.export = function (type, fileName, orientation) {\n        var _this = this;\n        var controlValue = this.getControlsValue();\n        var width = controlValue.width;\n        var height = controlValue.height;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var element = this.control.svgObject;\n        var isCanvas = this.control.enableCanvasRendering;\n        var image;\n        if (!isCanvas) {\n            element = createElement('canvas', {\n                id: 'ej2-canvas',\n                attrs: {\n                    'width': width.toString(),\n                    'height': height.toString()\n                }\n            });\n        }\n        var isDownload = !(Browser.userAgent.toString().indexOf('HeadlessChrome') > -1);\n        orientation = isNullOrUndefined(orientation) ? PdfPageOrientation.Landscape : orientation;\n        var svgData = '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">' +\n            controlValue.svg.outerHTML +\n            '</svg>';\n        var url = window.URL.createObjectURL(new Blob(type === 'SVG' ? [svgData] :\n            [(new XMLSerializer()).serializeToString(controlValue.svg)], { type: 'image/svg+xml' }));\n        if (type === 'SVG') {\n            if (Browser.info.name === 'msie') {\n                var svg = new Blob([(new XMLSerializer()).serializeToString(controlValue.svg)], { type: 'application/octet-stream' });\n                window.navigator.msSaveOrOpenBlob(svg, fileName + '.' + type.toLocaleLowerCase());\n            }\n            else {\n                this.triggerDownload(fileName, type, url, isDownload);\n            }\n        }\n        else if (Browser.info.name === 'msie') {\n            var canvas = element;\n            if (!isCanvas) {\n                canvas = this.createCanvas();\n            }\n            image = canvas.toDataURL(type);\n            if (type === 'PDF') {\n                this.exportPdf(canvas, orientation, width, height, isDownload, fileName);\n            }\n            else {\n                this.doExport(type, image, fileName);\n            }\n        }\n        else {\n            var image_1 = new Image();\n            var ctx_1 = element.getContext('2d');\n            image_1.onload = (function () {\n                ctx_1.drawImage(image_1, 0, 0);\n                window.URL.revokeObjectURL(url);\n                if (type === 'PDF') {\n                    _this.exportPdf(element, orientation, width, height, isDownload, fileName);\n                }\n                else {\n                    if (window.navigator.msSaveOrOpenBlob) {\n                        window.navigator.msSaveOrOpenBlob(element.msToBlob(), fileName + '.' + type.toLocaleLowerCase());\n                    }\n                    else {\n                        _this.triggerDownload(fileName, type, element.toDataURL('image/png').replace('image/png', 'image/octet-stream'), isDownload);\n                    }\n                }\n            });\n            image_1.src = url;\n        }\n        if (!isCanvas) {\n            var id = document.getElementById(this.control.element.id);\n            removeElement(id + '_canvas');\n        }\n    };\n    /**\n     * To trigger the download element\n     *\n     * @param fileName\n     * @param type\n     * @param url\n     * @private\n     */\n    ExportUtils.prototype.triggerDownload = function (fileName, type, url, isDownload) {\n        createElement('a', {\n            attrs: {\n                'download': fileName + '.' + type.toLocaleLowerCase(),\n                'href': url\n            }\n        }).dispatchEvent(new MouseEvent(isDownload ? 'click' : 'move', {\n            view: window,\n            bubbles: false,\n            cancelable: true\n        }));\n    };\n    /**\n     * To get the maximum size value\n     *\n     * @param controls\n     * @param name\n     */\n    ExportUtils.prototype.getControlsValue = function () {\n        var width = 0;\n        var height = 0;\n        var isCanvas = this.control.enableCanvasRendering;\n        var svgObject = new SvgRenderer('').createSvg({\n            id: 'Svg_Export_Element',\n            width: 200, height: 200\n        });\n        var svg = this.control.svgObject.cloneNode(true);\n        var groupEle = this.control.renderer.createGroup({});\n        groupEle.style.cssText = 'transform: translateY(' + height + 'px)';\n        if (!isCanvas) {\n            groupEle.appendChild(svg);\n        }\n        width = Math.max(this.control.availableSize.width, width);\n        height = height + this.control.availableSize.height;\n        if (!isCanvas) {\n            svgObject.appendChild(groupEle);\n        }\n        if (!isCanvas) {\n            svgObject.setAttribute('width', width + '');\n            svgObject.setAttribute('height', height + '');\n        }\n        return {\n            'width': width,\n            'height': height,\n            'svg': svgObject\n        };\n    };\n    ExportUtils.prototype.createCanvas = function () {\n        var heatmap = this.control;\n        var renderMode = heatmap.renderingMode;\n        heatmap.renderingMode = 'Canvas';\n        heatmap.refresh();\n        var canvas = heatmap.svgObject;\n        heatmap.renderingMode = renderMode;\n        heatmap.refresh();\n        return canvas;\n    };\n    ExportUtils.prototype.exportPdf = function (element, orientation, width, height, isDownload, fileName) {\n        var document = new PdfDocument();\n        var margin = document.pageSettings.margins;\n        var pdfDefaultWidth = document.pageSettings.width;\n        var pdfDefaultHeight = document.pageSettings.height;\n        var imageString = element.toDataURL('image/jpeg').replace('image/jpeg', 'image/octet-stream');\n        document.pageSettings.orientation = orientation;\n        var exactWidth = (pdfDefaultWidth < width) ? (width + margin.left + margin.right) : pdfDefaultWidth;\n        var exactHeight = (pdfDefaultHeight < height) ? (height + margin.top + margin.bottom) : pdfDefaultHeight;\n        document.pageSettings.size = new SizeF(exactWidth, exactHeight);\n        imageString = imageString.slice(imageString.indexOf(',') + 1);\n        document.pages.add().graphics.drawImage(new PdfBitmap(imageString), 0, 0, width, height);\n        if (isDownload) {\n            document.save(fileName + '.pdf');\n            document.destroy();\n        }\n    };\n    ExportUtils.prototype.doExport = function (type, image, fileName) {\n        var images = [];\n        var fileType = type || 'JPG';\n        images = [image];\n        this.exportImage(images, fileName, fileType, image);\n    };\n    ExportUtils.prototype.exportImage = function (images, fileName, fileType, image) {\n        var buffers = [];\n        var length = (!(images instanceof HTMLElement)) ? images.length : 0;\n        for (var g = 0; g < length; g++) {\n            image = images[g];\n            image = image.replace(/^data:[a-z]*;,/, '');\n            var image1 = image.split(',');\n            var byteString = atob(image1[1]);\n            var buffer = new ArrayBuffer(byteString.length);\n            var intArray = new Uint8Array(buffer);\n            for (var i = 0; i < byteString.length; i++) {\n                intArray[i] = byteString.charCodeAt(i);\n            }\n            buffers.push(buffer);\n        }\n        for (var j = 0; j < buffers.length; j++) {\n            var b = new Blob([buffers[j]], { type: 'application/octet-stream' });\n            if (Browser.info.name === 'msie') {\n                window.navigator.msSaveOrOpenBlob(b, fileName + '.' + fileType.toLocaleLowerCase());\n            }\n        }\n    };\n    /**\n     * To print the heatmap elements.\n     *\n     * @param elements\n     * @private\n     */\n    ExportUtils.prototype.print = function () {\n        this.printWindow = window.open('', 'print', 'height=' + window.outerHeight + ',width=' + window.outerWidth + ',tabbar=no');\n        this.printWindow.moveTo(0, 0);\n        this.printWindow.resizeTo(screen.availWidth, screen.availHeight);\n        if (this.control.renderingMode === 'SVG') {\n            printWindow(this.getHTMLContent(), this.printWindow);\n        }\n        else {\n            var element = this.control.svgObject;\n            var dataUrl = element.toDataURL();\n            var image_2 = new Image();\n            var ctx_2 = element.getContext('2d');\n            image_2.onload = (function () {\n                ctx_2.drawImage(image_2, 0, 0);\n            });\n            image_2.src = dataUrl;\n            printWindow(image_2, this.printWindow);\n        }\n    };\n    /**\n     * To get the html string of the heatmap.\n     *\n     * @param elements\n     * @private\n     */\n    ExportUtils.prototype.getHTMLContent = function () {\n        var div = createElement('div');\n        div.appendChild(this.control.element.cloneNode(true));\n        return div;\n    };\n    return ExportUtils;\n}());\nexport { ExportUtils };\n","/**\n * Heat Map Component\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, NotifyPropertyChanges, Internationalization, Complex, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { remove, Event, EventHandler, Touch } from '@syncfusion/ej2-base';\n// eslint-disable-next-line\nimport { Browser } from '@syncfusion/ej2-base';\nimport { SvgRenderer, CanvasRenderer } from '@syncfusion/ej2-svg-base';\nimport { Size, stringToNumber, RectOption, Rect, TextBasic, measureText, removeMeasureElement } from './utils/helper';\nimport { DrawSvgCanvas, TextOption, titlePositionX, getTitle, showTooltip, getElement, SelectedCellDetails } from './utils/helper';\nimport { removeElement, CanvasTooltip, getTooltipText } from './utils/helper';\nimport { Margin, Title } from './model/base';\nimport { Theme, getThemeColor } from './model/theme';\nimport { Axis } from './axis/axis';\nimport { AxisHelper } from './axis/axis-helpers';\nimport { Series, CellSettings } from './series/series';\nimport { PaletteSettings, CellColor } from './utils/colorMapping';\nimport { TooltipSettings } from './utils/tooltip';\nimport { TwoDimensional } from './datasource/twodimensional';\nimport { LegendSettings } from '../heatmap/legend/legend';\nimport { Data } from './datasource/adaptor';\nimport { ExportUtils } from '../heatmap/utils/export';\n/**\n * Represents the heatmap control. This is used to customize the properties of the heatmap in order to visualize two-dimensional data, with values represented by gradient or solid color variations.\n * ```html\n * <div id=\"container\"/>\n * <script>\n *   var heatmapObj = new HeatMap();\n *   heatmapObj.appendTo(\"#container\");\n * </script>\n * ```\n */\nvar HeatMap = /** @class */ (function (_super) {\n    __extends(HeatMap, _super);\n    function HeatMap() {\n        /**\n         * Sets and gets the width of the heatmap. The width of the heatmap accepts pixel or percentage values given in string format.\n         *\n         * If specified as '100%, heatmap renders to the full width of its parent element.\n         *\n         * @default null\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.enableCanvasRendering = false;\n        /** @private */\n        _this.isColorRange = false;\n        /** @private */\n        _this.isCellTapHold = false;\n        /** @private */\n        _this.selectedCellCount = 0;\n        /** @private */\n        _this.toggleValue = [];\n        /** @private */\n        _this.legendOnLoad = true;\n        /** @private */\n        _this.resizing = false;\n        /** @private */\n        _this.rendering = true;\n        /** @private */\n        _this.multiSelection = false;\n        /** @private */\n        _this.rectSelected = false;\n        /** @private */\n        _this.previousSelectedCellsRect = [];\n        /** @private */\n        _this.multiCellCollection = [];\n        /** @private */\n        _this.selectedMultiCellCollection = [];\n        /** @private */\n        _this.tempMultiCellCollection = [];\n        /**\n         * @private\n         */\n        _this.tooltipCollection = [];\n        /**\n         * @private\n         */\n        _this.isCellData = false;\n        return _this;\n    }\n    HeatMap.prototype.preRender = function () {\n        this.initPrivateVariable();\n        this.unWireEvents();\n        this.wireEvents();\n    };\n    /**\n     * This method is used to perform the export functionality for the heatmap.\n     *\n     * @param {ExportType} type - Specifies the type of the exported file.\n     * @param {string} fileName - Specifies the file name for the exported file.\n     * @param {PdfPageOrientation} orientation - Specifies the orientation for the exported PDF document.\n     */\n    HeatMap.prototype.export = function (type, fileName, orientation) {\n        var exportMap = new ExportUtils(this);\n        exportMap.export(type, fileName, orientation);\n    };\n    HeatMap.prototype.initPrivateVariable = function () {\n        this.renderer = new SvgRenderer(this.element.id);\n        this.canvasRenderer = new CanvasRenderer(this.element.id);\n        this.secondaryCanvasRenderer = new CanvasRenderer(this.element.id + '_secondary');\n        this.heatMapAxis = new AxisHelper(this);\n        this.heatMapSeries = new Series(this);\n        this.drawSvgCanvas = new DrawSvgCanvas(this);\n        this.twoDimensional = new TwoDimensional(this);\n        this.cellColor = new CellColor(this);\n        this.tempRectHoverClass = '';\n        this.tempTooltipRectId = '';\n        this.setCulture();\n    };\n    /**\n     * Method to set culture for heatmap\n     */\n    HeatMap.prototype.setCulture = function () {\n        this.intl = new Internationalization();\n    };\n    HeatMap.prototype.render = function () {\n        this.horizontalGradient = this.legendSettings.position === 'Bottom' || this.legendSettings.position === 'Top';\n        this.updateBubbleHelperProperty();\n        this.trigger('load', { heatmap: this });\n        if (this.theme === 'TailwindDark' || this.theme === 'Tailwind') {\n            var textSettings = { title: { textStyle: { size: '12px', fontFamily: 'Inter', fontWeight: '500' } }, textStyle: { size: '12px', fontFamily: 'Inter' } };\n            this.setProperties({ titleSettings: { textStyle: { size: '14px', fontFamily: 'Inter' } } }, true);\n            this.setProperties({ legendSettings: textSettings }, true);\n            this.setProperties({ xAxis: textSettings }, true);\n            this.setProperties({ yAxis: textSettings }, true);\n            this.setProperties({ cellSettings: { textStyle: { fontFamily: 'Inter' } } }, true);\n        }\n        if (this.theme === 'Material3' || this.theme === 'Material3Dark') {\n            var textSettings = { title: { textStyle: { size: '14px', fontFamily: 'Roboto', fontWeight: '500' } }, textStyle: { size: '12px', fontFamily: 'Roboto', fontWeight: '400' } };\n            this.setProperties({ titleSettings: { textStyle: { size: '16px', fontFamily: 'Roboto' } } }, true);\n            this.setProperties({ legendSettings: textSettings }, true);\n            this.setProperties({ xAxis: textSettings }, true);\n            this.setProperties({ yAxis: textSettings }, true);\n            this.setProperties({ cellSettings: { textStyle: { fontFamily: 'Roboto', fontWeight: '400' } } }, true);\n        }\n        if (this.theme === 'Bootstrap5' || this.theme === 'Bootstrap5Dark') {\n            var textSettings = { title: { textStyle: { size: '12px', fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"', fontWeight: '500' } }, textStyle: { size: '12px', fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"' } };\n            this.setProperties({ titleSettings: { textStyle: { size: '16px', fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"' } } }, true);\n            this.setProperties({ legendSettings: textSettings }, true);\n            this.setProperties({ xAxis: textSettings }, true);\n            this.setProperties({ yAxis: textSettings }, true);\n            this.setProperties({ cellSettings: { textStyle: { fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"' } } }, true);\n        }\n        if (this.theme === 'Fluent' || this.theme === 'FluentDark') {\n            var textSettings = { title: { textStyle: { size: '12px', fontFamily: '\"Segoe UI\", -apple-system, BlinkMacSystemFont, \"Roboto\", \"Helvetica Neue\", sans-serif', fontWeight: '500' } }, textStyle: { size: '12px', fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"' } };\n            this.setProperties({ titleSettings: { textStyle: { size: '16px', fontFamily: '\"Segoe UI\", -apple-system, BlinkMacSystemFont, \"Roboto\", \"Helvetica Neue\", sans-serif' } } }, true);\n            this.setProperties({ legendSettings: textSettings }, true);\n            this.setProperties({ xAxis: textSettings }, true);\n            this.setProperties({ yAxis: textSettings }, true);\n            this.setProperties({ cellSettings: { textStyle: { fontFamily: '\"Segoe UI\", -apple-system, BlinkMacSystemFont, \"Roboto\", \"Helvetica Neue\", sans-serif' } } }, true);\n        }\n        this.initAxis();\n        this.processInitData();\n        this.setTheme();\n        this.calculateMaxLength();\n        this.heatMapAxis.calculateVisibleLabels();\n        this.twoDimensional.processDataSource(this.completeAdaptDataSource);\n        this.createSvg();\n        this.cellColor.getColorCollection();\n        this.calculateBounds();\n        this.renderElements();\n        this.appendSvgObject();\n        if (this.tooltipModule) {\n            this.tooltipModule.showHideTooltip(false);\n        }\n        this.renderComplete();\n    };\n    /**\n     * To re-calculate the datasource while changing datasource property dynamically.\n     *\n     * @private\n     */\n    HeatMap.prototype.reRenderDatasource = function () {\n        this.dataSourceMinValue = null;\n        this.dataSourceMaxValue = null;\n        this.processInitData();\n        this.calculateMaxLength();\n        this.heatMapAxis.calculateVisibleLabels();\n        this.twoDimensional.processDataSource(this.completeAdaptDataSource);\n        this.cellColor.getColorCollection();\n        this.calculateBounds();\n    };\n    /**\n     * To process datasource property.\n     *\n     * @private\n     */\n    HeatMap.prototype.processInitData = function () {\n        if (this.adaptorModule) {\n            this.adaptorModule.constructDatasource(this.dataSource, this.dataSourceSettings);\n        }\n        else {\n            this.completeAdaptDataSource = this.dataSource;\n        }\n    };\n    /**\n     * To set render mode of heatmap as SVG or Canvas.\n     *\n     * @private\n     */\n    HeatMap.prototype.setRenderMode = function () {\n        if (this.renderingMode === 'Canvas') {\n            this.enableCanvasRendering = true;\n        }\n        else if (this.renderingMode === 'Auto' &&\n            (this.axisCollections[0].axisLabelSize * this.axisCollections[1].axisLabelSize) >= 10000) {\n            this.enableCanvasRendering = true;\n        }\n        else {\n            this.enableCanvasRendering = false;\n        }\n    };\n    /**\n     * To set bubble helper private property.\n     *\n     * @private\n     */\n    HeatMap.prototype.updateBubbleHelperProperty = function () {\n        if (this.cellSettings.tileType === 'Bubble' &&\n            (this.cellSettings.bubbleType === 'Size' || this.cellSettings.bubbleType === 'Sector')) {\n            this.legendVisibilityByCellType = false;\n        }\n        else if (this.legendModule && this.legendSettings.visible) {\n            this.legendVisibilityByCellType = true;\n        }\n        if (this.cellSettings.tileType === 'Bubble' && this.cellSettings.bubbleType === 'SizeAndColor') {\n            this.bubbleSizeWithColor = true;\n        }\n        else {\n            this.bubbleSizeWithColor = false;\n        }\n    };\n    HeatMap.prototype.renderElements = function () {\n        this.tooltipCollection = [];\n        this.renderSecondaryElement();\n        this.renderBorder();\n        this.renderTitle();\n        this.heatMapAxis.renderAxes();\n        if (this.tooltipModule && this.showTooltip) {\n            this.tooltipModule.tooltipObject = null;\n            this.tooltipModule.createTooltipDiv(this);\n        }\n        this.heatMapSeries.renderRectSeries();\n        if (this.legendModule && this.legendSettings.visible\n            && this.legendVisibilityByCellType) {\n            this.legendModule.renderLegendItems();\n            if (this.paletteSettings.type === 'Fixed' && this.legendSettings.enableSmartLegend &&\n                this.legendSettings.labelDisplayType === 'None') {\n                this.legendModule.createTooltipDiv();\n            }\n        }\n        removeMeasureElement();\n    };\n    /**\n     * Get component name\n     * @private\n     */\n    HeatMap.prototype.getModuleName = function () {\n        return 'heatmap';\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @private\n     */\n    HeatMap.prototype.getPersistData = function () {\n        return '';\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line:max-func-body-length\n    HeatMap.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var renderer = false;\n        var refreshBounds = false;\n        var isUpdateSelection = true;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'renderingMode':\n                    this.rendering = false;\n                    isUpdateSelection = false;\n                    renderer = true;\n                    break;\n                case 'cellSettings':\n                    this.updateBubbleHelperProperty();\n                    if (this.legendModule && ((newProp.cellSettings.tileType !== (oldProp.cellSettings\n                        !== undefined && oldProp.cellSettings.tileType))\n                        || (newProp.cellSettings.bubbleType !== oldProp.cellSettings.bubbleType))) {\n                        this.legendOnLoad = true;\n                        this.legendModule.updateLegendRangeCollections();\n                    }\n                    if (this.cellSettings.tileType === 'Bubble') {\n                        isUpdateSelection = false;\n                    }\n                    this.reRenderDatasource();\n                    refreshBounds = true;\n                    break;\n                case 'showTooltip':\n                    refreshBounds = true;\n                    break;\n                case 'dataSource':\n                case 'dataSourceSettings':\n                    this.isCellData = false;\n                    this.paletteCellSelectionUpdation();\n                    this.reRenderDatasource();\n                    isUpdateSelection = false;\n                    renderer = true;\n                    break;\n                case 'titleSettings':\n                case 'width':\n                case 'height':\n                case 'margin':\n                    refreshBounds = true;\n                    break;\n                case 'legendSettings':\n                    this.updateBubbleHelperProperty();\n                    if (this.legendVisibilityByCellType && (((newProp.legendSettings.visible !==\n                        (oldProp.legendSettings !== undefined && oldProp.legendSettings.visible)) ||\n                        (newProp.legendSettings.enableSmartLegend !== oldProp.legendSettings.enableSmartLegend)))) {\n                        this.legendOnLoad = true;\n                        this.legendModule.updateLegendRangeCollections();\n                    }\n                    else {\n                        this.legendOnLoad = false;\n                    }\n                    refreshBounds = true;\n                    break;\n                case 'yAxis':\n                case 'xAxis':\n                    this.paletteCellSelectionUpdation();\n                    this.reRenderDatasource();\n                    isUpdateSelection = false;\n                    refreshBounds = true;\n                    break;\n                case 'paletteSettings':\n                    this.paletteCellSelectionUpdation();\n                    this.twoDimensional.processDataSource(this.completeAdaptDataSource);\n                    this.cellColor.getColorCollection();\n                    this.calculateBounds();\n                    renderer = true;\n                    break;\n                case 'theme':\n                    this.setTheme();\n                    renderer = true;\n                    break;\n                case 'tooltipSettings':\n                    if (this.tooltipModule) {\n                        this.tooltipModule.tooltipObject.fill = this.tooltipSettings.fill;\n                        this.tooltipModule.tooltipObject.border = this.tooltipSettings.border;\n                        this.tooltipModule.tooltipObject.textStyle = this.tooltipSettings.textStyle;\n                        this.tooltipModule.tooltipObject.template = this.tooltipSettings.template;\n                        this.tooltipModule.tooltipObject.refresh();\n                    }\n                    break;\n            }\n        }\n        if (!refreshBounds && renderer) {\n            this.createSvg();\n            this.renderElements();\n            this.appendSvgObject();\n            this.trigger('created');\n            if (!isUpdateSelection) {\n                this.clearSelection();\n            }\n        }\n        else if (refreshBounds) {\n            this.createSvg();\n            this.refreshBound();\n            this.appendSvgObject();\n            this.trigger('created');\n        }\n        if (this.allowSelection && this.rectSelected) {\n            if (isUpdateSelection) {\n                this.updateCellSelection();\n            }\n            else {\n                this.clearSelection();\n            }\n        }\n        this.rendering = true;\n    };\n    HeatMap.prototype.paletteCellSelectionUpdation = function () {\n        this.updateBubbleHelperProperty();\n        if (this.legendVisibilityByCellType) {\n            this.legendOnLoad = true;\n            this.legendModule.updateLegendRangeCollections();\n        }\n    };\n    /**\n     * create svg or canvas element\n     *\n     * @private\n     */\n    HeatMap.prototype.createSvg = function () {\n        this.removeSvg();\n        this.setRenderMode();\n        this.calculateSize();\n        if (!this.enableCanvasRendering) {\n            this.svgObject = this.renderer.createSvg({\n                id: this.element.id + '_svg',\n                width: this.availableSize.width,\n                height: this.availableSize.height\n            });\n            if (this.cellSettings.border.width.toString() === '0' && this.cellSettings.tileType === 'Rect') {\n                this.svgObject.setAttribute('shape-rendering', 'crispEdges');\n            }\n        }\n        else {\n            this.svgObject = this.canvasRenderer.createCanvas({\n                id: this.element.id + '_canvas',\n                width: this.availableSize.width,\n                height: this.availableSize.height\n            });\n            if (this.allowSelection) {\n                this.createMultiCellDiv(true);\n            }\n        }\n    };\n    /**\n     *  To Remove the SVG.\n     *\n     * @private\n     */\n    HeatMap.prototype.removeSvg = function () {\n        if (document.getElementById(this.element.id + '_Secondary_Element')) {\n            remove(document.getElementById(this.element.id + '_Secondary_Element'));\n        }\n        if (document.getElementById(this.element.id + 'Celltooltipcontainer')) {\n            remove(document.getElementById(this.element.id + 'Celltooltipcontainer'));\n        }\n        if (document.getElementById(this.element.id + 'legendLabelTooltipContainer')) {\n            remove(document.getElementById(this.element.id + 'legendLabelTooltipContainer'));\n        }\n        if (document.getElementById(this.element.id + '_Multi_CellSelection_Canvas')) {\n            remove(document.getElementById(this.element.id + '_Multi_CellSelection_Canvas'));\n        }\n        if (document.getElementById(this.element.id + '_CellSelection_Container')) {\n            remove(document.getElementById(this.element.id + '_CellSelection_Container'));\n        }\n        if (this.svgObject) {\n            var svgElement = document.getElementById(this.svgObject.id);\n            if (svgElement) {\n                while (this.svgObject.childNodes.length) {\n                    this.svgObject.removeChild(this.svgObject.firstChild);\n                }\n                remove(this.svgObject);\n            }\n        }\n    };\n    HeatMap.prototype.renderSecondaryElement = function () {\n        var tooltipDiv = this.createElement('div');\n        tooltipDiv.id = this.element.id + '_Secondary_Element';\n        this.element.appendChild(tooltipDiv);\n        var divElement = this.createElement('div', {\n            id: this.element.id + '_CellSelection_Container'\n        });\n        divElement.style.cssText = 'position:absolute; z-index: 2 ; top:' + this.initialClipRect.y + 'px' + '; left:' + this.initialClipRect.x + 'px';\n        this.element.appendChild(divElement);\n    };\n    /**\n     * To provide the array of modules needed for control rendering\n     *\n     * @returns {ModuleDeclaration[]}\n     * @private\n     */\n    HeatMap.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.showTooltip) {\n            modules.push({\n                member: 'Tooltip',\n                args: [this]\n            });\n        }\n        if (this.legendSettings) {\n            modules.push({\n                member: 'Legend',\n                args: [this]\n            });\n        }\n        if (this.dataSource) {\n            modules.push({\n                member: 'Adaptor',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * This method destroys the heatmap. This method removes the events associated with the heatmap and disposes the objects created for rendering and updating the heatmap.\n     * {% codeBlock src='heatmap/destroy/index.md' %}{% endcodeBlock %}\n     *\n     * @function destroy\n     * @returns {void}.\n     * @member of Heatmap\n     */\n    HeatMap.prototype.destroy = function () {\n        this.unWireEvents();\n        this.touchInstance.destroy();\n        this.touchInstance = null;\n        _super.prototype.destroy.call(this);\n        removeMeasureElement();\n        this.element.innerHTML = '';\n        this.element.classList.remove('e-heatmap');\n    };\n    /**\n     * Applies all the pending property changes and render the component again.\n     *\n     * @function destroy\n     * @returns {void}.\n     */\n    HeatMap.prototype.refresh = function () {\n        _super.prototype.refresh.call(this);\n        this.element.classList.add('e-heatmap');\n    };\n    /**\n     * Appending svg object to the element\n     *\n     * @private\n     */\n    HeatMap.prototype.appendSvgObject = function () {\n        if (this.enableCanvasRendering && this.allowSelection) {\n            this.createMultiCellDiv(false);\n        }\n        else {\n            this.element.appendChild(this.svgObject);\n        }\n    };\n    HeatMap.prototype.renderBorder = function () {\n        this.border = {\n            width: 0\n        };\n        var background = !isNullOrUndefined(this.backgroundColor) ? this.backgroundColor : this.themeStyle.background;\n        var width = 0;\n        var rect = new RectOption(this.element.id + '_HeatmapBorder', background, this.border, 1, new Rect(width / 2, width / 2, this.availableSize.width - width, this.availableSize.height - width));\n        this.drawSvgCanvas.drawRectangle(rect, this.svgObject);\n    };\n    HeatMap.prototype.calculateSize = function () {\n        var width = stringToNumber(this.width, this.element.offsetWidth) || this.element.offsetWidth || 600;\n        var height = stringToNumber(this.height, this.element.offsetHeight) || this.element.offsetHeight || 450;\n        this.availableSize = new Size(width, height);\n        var alignElement = this.element;\n        while (alignElement.parentNode) {\n            if (alignElement.tagName === 'BODY') {\n                break;\n            }\n            var align = alignElement.align;\n            if (align === 'center') {\n                var containerWidth = this.availableSize.width.toString();\n                this.element.style.width = containerWidth + 'px';\n                this.element.style.margin = '0 auto';\n                break;\n            }\n            alignElement = alignElement.parentElement;\n        }\n    };\n    HeatMap.prototype.renderTitle = function () {\n        if (this.titleSettings.text) {\n            var titleStyle = this.titleSettings.textStyle;\n            var anchor = titleStyle.textAlignment === 'Near' ? 'start' :\n                titleStyle.textAlignment === 'Far' ? 'end' : 'middle';\n            this.elementSize = measureText(this.titleCollection[0], titleStyle);\n            var options = new TextOption(this.element.id + '_HeatmapTitle', new TextBasic(titlePositionX(this.availableSize.width - this.margin.left - this.margin.right, this.margin.left, this.margin.right, titleStyle), this.margin.top + ((this.elementSize.height) * 3 / 4), anchor, this.titleCollection), titleStyle, titleStyle.color || this.themeStyle.heatMapTitle);\n            if (this.titleCollection.length > 1) {\n                this.drawSvgCanvas.createWrapText(options, titleStyle, this.svgObject);\n            }\n            else {\n                this.drawSvgCanvas.createText(options, this.svgObject, this.titleCollection[0]);\n                if (this.titleCollection[0].indexOf('...') !== -1 && this.enableCanvasRendering) {\n                    this.tooltipCollection.push(new CanvasTooltip(this.titleSettings.text, new Rect(this.margin.left, this.margin.top, this.elementSize.width, this.elementSize.height)));\n                }\n            }\n        }\n    };\n    HeatMap.prototype.titleTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        if ((targetId === (this.element.id + '_HeatmapTitle')) && (event.target.textContent.indexOf('...') > -1)) {\n            showTooltip(this.titleSettings.text, x, y, this.element.offsetWidth, this.element.id + '_Title_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch, this);\n        }\n        else {\n            removeElement(this.element.id + '_Title_Tooltip');\n        }\n    };\n    // eslint-disable-next-line\n    HeatMap.prototype.axisTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        if ((targetId.indexOf(this.element.id + '_XAxis_Label') !== -1) ||\n            (targetId.indexOf(this.element.id + '_YAxis_Label') !== -1) ||\n            (targetId.indexOf(this.element.id + '_XAxis_MultiLevel') !== -1) ||\n            (targetId.indexOf(this.element.id + '_YAxis_MultiLevel') !== -1)) {\n            var tooltipText = getTooltipText(this.tooltipCollection, x, y);\n            if (tooltipText) {\n                showTooltip(tooltipText, x, y, this.element.offsetWidth, this.element.id + '_axis_Tooltip', getElement(this.element.id + '_Secondary_Element'), this.isTouch, this);\n            }\n            else {\n                removeElement(this.element.id + '_axis_Tooltip');\n            }\n        }\n        else {\n            removeElement(this.element.id + '_axis_Tooltip');\n        }\n    };\n    HeatMap.prototype.isHeatmapRect = function (x, y) {\n        var firstRectDetails = [];\n        var lastRectDetails = [];\n        var isRect;\n        var borderBoundary = 5;\n        firstRectDetails.push(this.heatMapSeries.rectPositionCollection[0][0]);\n        lastRectDetails.push(this.heatMapSeries.rectPositionCollection[this.yLength - 1][this.xLength - 1]);\n        if (this.cellSettings.border.width > borderBoundary && (x >= firstRectDetails[0].x && y >= firstRectDetails[0].y &&\n            x <= (lastRectDetails[0].x + lastRectDetails[0].width) &&\n            y <= (lastRectDetails[0].y + lastRectDetails[0].height)) && this.cellSettings.tileType === 'Rect') {\n            var currentRect = this.heatMapSeries.getCurrentRect(x, y);\n            var rectHeight = lastRectDetails[0].height;\n            var rectWidth = lastRectDetails[0].width;\n            var cellBorder = this.cellSettings.border.width / 2;\n            if ((x >= (currentRect.x + cellBorder) && (y >= (currentRect.y + cellBorder)) &&\n                (x <= (currentRect.x + (rectWidth - cellBorder)) &&\n                    (y <= (currentRect.y + (rectHeight - cellBorder)))))) {\n                isRect = true;\n                this.isRectBoundary = true;\n            }\n            else {\n                isRect = false;\n                this.isRectBoundary = false;\n            }\n        }\n        else {\n            isRect = (x >= firstRectDetails[0].x && y >= firstRectDetails[0].y &&\n                x <= (lastRectDetails[0].x + lastRectDetails[0].width) &&\n                y <= (lastRectDetails[0].y + lastRectDetails[0].height));\n            this.isRectBoundary = isRect;\n        }\n        return isRect;\n    };\n    HeatMap.prototype.setTheme = function () {\n        /*! Set theme */\n        this.themeStyle = getThemeColor(this.theme);\n    };\n    HeatMap.prototype.calculateBounds = function () {\n        var margin = this.margin;\n        // Title Height;\n        var titleHeight = 0;\n        var padding = (this.legendModule && this.legendSettings.position === 'Top'\n            && this.legendVisibilityByCellType) || this.titleSettings.textStyle.size === '0px' ? 0 : 16; // title padding\n        var left = margin.left;\n        var width = this.availableSize.width - left - margin.right;\n        if ((this.paletteSettings.colorGradientMode === 'Column' || this.paletteSettings.colorGradientMode === 'Row') &&\n            this.paletteSettings.type === 'Gradient') {\n            if (this.paletteSettings.palette.length === 0) {\n                this.legendVisibilityByCellType = false;\n            }\n            else {\n                for (var i = 0; i < this.paletteSettings.palette.length; i++) {\n                    if (this.paletteSettings.palette[i].value !== null || '') {\n                        this.legendVisibilityByCellType = true;\n                    }\n                    else if (this.paletteSettings.palette[i].value === null || '') {\n                        this.legendVisibilityByCellType = false;\n                        break;\n                    }\n                }\n            }\n        }\n        if (this.titleSettings.text) {\n            this.titleCollection = getTitle(this.titleSettings.text, this.titleSettings.textStyle, width);\n            titleHeight = (measureText(this.titleSettings.text, this.titleSettings.textStyle).height * this.titleCollection.length) +\n                padding;\n        }\n        var top = margin.top + titleHeight;\n        this.titleRect = new Rect(margin.left, margin.top, this.availableSize.width - margin.left - margin.right, titleHeight);\n        var height = this.availableSize.height - top - margin.bottom;\n        this.initialClipRect = new Rect(left, top, width, height);\n        var legendTop = this.initialClipRect.y;\n        if (this.legendModule && this.legendSettings.visible && this.legendVisibilityByCellType) {\n            this.legendModule.calculateLegendBounds(this.initialClipRect);\n        }\n        this.heatMapAxis.measureAxis(this.initialClipRect);\n        if (this.legendModule && this.legendSettings.visible && this.legendVisibilityByCellType) {\n            this.legendModule.calculateLegendSize(this.initialClipRect, legendTop);\n        }\n        this.heatMapAxis.calculateAxisSize(this.initialClipRect);\n    };\n    HeatMap.prototype.refreshBound = function () {\n        this.updateBubbleHelperProperty();\n        this.calculateBounds();\n        this.renderElements();\n    };\n    HeatMap.prototype.initAxis = function () {\n        var axis;\n        var axes = [this.xAxis, this.yAxis];\n        this.axisCollections = [];\n        for (var i = 0, len = axes.length; i < len; i++) {\n            axis = axes[i];\n            axis.orientation = (i === 0) ? 'Horizontal' : 'Vertical';\n            axis.jsonCellLabel = [];\n            this.axisCollections.push(axis);\n        }\n    };\n    /**\n     * Method to bind events for HeatMap\n     */\n    HeatMap.prototype.wireEvents = function () {\n        var _this = this;\n        /*! Find the Events type */\n        // eslint-disable-next-line\n        var isIE11Pointer = Browser.isPointer;\n        var start = Browser.touchStartEvent;\n        var stop = Browser.touchEndEvent;\n        var move = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        EventHandler.add(this.element, Browser.isDevice ? start : 'click', this.heatMapMouseClick, this);\n        EventHandler.add(this.element, 'dblclick', this.heatMapMouseDoubleClick, this);\n        EventHandler.add(this.element, start, this.heatMapMouseMove, this);\n        EventHandler.add(this.element, stop, this.heatMapMouseLeave, this);\n        EventHandler.add(this.element, move, this.heatMapMouseMove, this);\n        EventHandler.add(this.element, cancel, this.heatMapMouseLeave, this);\n        this.resizeEvent = this.heatMapResize.bind(this);\n        window.addEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.resizeEvent);\n        // eslint-disable-next-line\n        var heatmap = this;\n        /**\n         * Support for touch tapHold and tap for HeatMap\n         */\n        // eslint-disable-next-line\n        this.touchInstance = new Touch(this.element, {\n            tapHold: function (e) {\n                heatmap.isCellTapHold = true;\n                if (!e.originalEvent.ctrlKey || !_this.enableMultiSelect) {\n                    _this.removeSelectedCellsBorder();\n                }\n                heatmap.getDataCollection();\n                heatmap.currentRect.allowCollection = false;\n                heatmap.setCellOpacity();\n                heatmap.tooltipOnMouseMove(null, heatmap.currentRect, heatmap.isCellTapHold);\n                var argData = {\n                    heatmap: heatmap,\n                    cancel: false,\n                    name: 'cellSelected',\n                    data: heatmap.multiCellCollection\n                };\n                heatmap.trigger('cellSelected', argData);\n            },\n            tap: function () {\n                var isCellTap = false;\n                if (!heatmap.isCellTapHold) {\n                    isCellTap = true;\n                }\n                heatmap.tooltipOnMouseMove(null, heatmap.currentRect, isCellTap);\n            }\n        });\n        this.setStyle(this.element);\n    };\n    /**\n     * Applying styles for heatmap element\n     */\n    HeatMap.prototype.setStyle = function (element) {\n        element.style.touchAction = 'element';\n        element.style.touchAction = 'element';\n        element.style.zoom = 'none';\n        element.style.userSelect = 'none';\n        element.style.webkitUserSelect = 'none';\n        element.style.position = 'relative';\n        element.style.display = 'block';\n    };\n    /**\n     * This method is used to print the rendered heatmap.\n     */\n    HeatMap.prototype.print = function () {\n        var exportChart = new ExportUtils(this);\n        exportChart.print();\n    };\n    /**\n     * Method to unbind events for HeatMap\n     */\n    HeatMap.prototype.unWireEvents = function () {\n        /*! Find the Events type */\n        // eslint-disable-next-line\n        var isIE11Pointer = Browser.isPointer;\n        var start = Browser.touchStartEvent;\n        // eslint-disable-next-line\n        var stop = Browser.touchEndEvent;\n        var move = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        EventHandler.remove(this.element, Browser.isDevice ? start : 'click', this.heatMapMouseClick);\n        EventHandler.remove(this.element, 'dblclick', this.heatMapMouseDoubleClick);\n        EventHandler.remove(this.element, start, this.heatMapMouseMove);\n        EventHandler.remove(this.element, stop, this.heatMapMouseLeave);\n        EventHandler.remove(this.element, move, this.heatMapMouseMove);\n        EventHandler.remove(this.element, cancel, this.heatMapMouseLeave);\n        window.removeEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.resizeEvent);\n    };\n    /**\n     * Handles the heatmap resize.\n     *\n     * @returns {boolean}\n     * @private\n     */\n    // eslint-disable-next-line\n    HeatMap.prototype.heatMapResize = function (e) {\n        var _this = this;\n        this.resizing = true;\n        var argData = {\n            heatmap: this,\n            cancel: false,\n            name: 'resized',\n            currentSize: new Size(0, 0),\n            previousSize: new Size(this.availableSize.width, this.availableSize.height)\n        };\n        if (this.resizeTimer) {\n            clearTimeout(this.resizeTimer);\n        }\n        this.resizeTimer = setTimeout(function () {\n            if (_this.isDestroyed) {\n                clearTimeout(_this.resizeTimer);\n                return;\n            }\n            _this.createSvg();\n            argData.currentSize = _this.availableSize;\n            _this.trigger('resized', argData);\n            _this.refreshBound();\n            _this.appendSvgObject();\n            if (_this.allowSelection) {\n                _this.updateCellSelection();\n            }\n            _this.trigger('loaded', ({ heatmap: _this }));\n            _this.resizing = false;\n        }, 500);\n        return false;\n    };\n    /**\n     * Method to bind selection after window resize for HeatMap\n     */\n    HeatMap.prototype.updateCellSelection = function () {\n        var wSize = this.initialClipRect.width / this.axisCollections[0].axisLabelSize;\n        var hSize = this.initialClipRect.height / this.axisCollections[1].axisLabelSize;\n        var x = this.initialClipRect.x;\n        var y = this.initialClipRect.y;\n        if (!this.enableCanvasRendering) {\n            if (this.multiCellCollection.length !== 0) {\n                var containersRect = document.getElementById(this.element.id + '_Container_RectGroup');\n                var containerText = document.getElementById(this.element.id + '_Container_TextGroup');\n                for (var i = 0; i < containersRect.childNodes.length; i++) {\n                    containersRect.childNodes[i].setAttribute('opacity', '0.3');\n                    if (this.cellSettings.showLabel && containerText.childNodes[i]) {\n                        containerText.childNodes[i].setAttribute('opacity', '0.3');\n                    }\n                }\n                for (var i = 0; i < this.multiCellCollection.length; i++) {\n                    var collectionClass = this.multiCellCollection[i].cellElement;\n                    var cellIndex = collectionClass.id.replace(this.element.id + '_HeatMapRect_', '');\n                    var index = parseInt(cellIndex, 10);\n                    containersRect.childNodes[index].setAttribute('opacity', '1');\n                    if (this.cellSettings.showLabel && containerText.childNodes[i]) {\n                        var getText = document.getElementById(this.element.id + '_HeatMapRectLabels_' + index);\n                        if (getText) {\n                            getText.setAttribute('opacity', '1');\n                        }\n                        this.addSvgClass(containersRect.childNodes[index]);\n                    }\n                }\n            }\n        }\n        else if (this.enableCanvasRendering) {\n            var rect = this.multiCellCollection;\n            var oldCanvas = document.getElementById(this.element.id + '_canvas');\n            var newCanvas = document.getElementById(this.element.id + '_secondary_canvas');\n            var initialRect = this.initialClipRect;\n            var rectHeight = initialRect.y + initialRect.height;\n            var rectWidth = initialRect.x + initialRect.width;\n            for (var i = 0; i < this.multiCellCollection.length; i++) {\n                this.multiCellCollection[i].width = rect[i].width = wSize;\n                this.multiCellCollection[i].height = rect[i].height = hSize;\n                this.multiCellCollection[i].x = rect[i].x = x + wSize * this.multiCellCollection[i].xPosition;\n                this.multiCellCollection[i].y = rect[i].y = y + hSize * this.multiCellCollection[i].yPosition;\n                var rectImage = oldCanvas.getContext('2d').getImageData(rect[i].x, rect[i].y, rect[i].width, rect[i].height);\n                newCanvas.getContext('2d').putImageData(rectImage, rect[i].x, rect[i].y);\n                oldCanvas.style.opacity = '0.3';\n            }\n            var topPositions = oldCanvas.getContext('2d').getImageData(0, 0, this.availableSize.width, initialRect.y);\n            newCanvas.getContext('2d').putImageData(topPositions, 0, 0);\n            var bottomPositions = oldCanvas.getContext('2d').getImageData(0, rectHeight, this.availableSize.width, this.availableSize.height - rectHeight);\n            newCanvas.getContext('2d').putImageData(bottomPositions, 0, initialRect.y + initialRect.height);\n            var rightPosition = oldCanvas.getContext('2d').\n                getImageData(rectWidth, 0, this.availableSize.width - rectWidth, this.availableSize.height);\n            newCanvas.getContext('2d').putImageData(rightPosition, rectWidth, 0);\n            var leftPosition = oldCanvas.getContext('2d').getImageData(0, 0, initialRect.x, this.availableSize.height);\n            newCanvas.getContext('2d').putImageData(leftPosition, 0, 0);\n            removeElement(this.element.id + '_selectedCells');\n        }\n    };\n    HeatMap.prototype.clearSVGSelection = function () {\n        var rect = document.getElementById(this.element.id + '_Container_RectGroup');\n        var text = document.getElementById(this.element.id + '_Container_TextGroup');\n        for (var i = 0; i < rect.childNodes.length; i++) {\n            var elementClassName = rect.childNodes[i].getAttribute('class');\n            if (elementClassName === this.element.id + '_selected') {\n                this.removeSvgClass(rect.childNodes[i], elementClassName);\n            }\n            rect.childNodes[i].setAttribute('opacity', '1');\n            if (this.cellSettings.showLabel && text.childNodes[i]) {\n                text.childNodes[i].setAttribute('opacity', '1');\n            }\n        }\n    };\n    /**\n     * Get the maximum length of data source for both horizontal and vertical\n     *\n     * @private\n     */\n    HeatMap.prototype.calculateMaxLength = function () {\n        var dataSource = this.completeAdaptDataSource;\n        if (dataSource && dataSource.length > 0) {\n            var xAxisMax = dataSource.length - 1;\n            var yAxisMax = 0;\n            for (var i = 0; i <= xAxisMax; i++) {\n                var length_1 = dataSource[i].length;\n                yAxisMax = yAxisMax > length_1 ? yAxisMax : length_1;\n            }\n            this.axisCollections[0].maxLength = xAxisMax;\n            this.axisCollections[1].maxLength = yAxisMax - 1;\n        }\n        else {\n            this.axisCollections[0].maxLength = 0;\n            this.axisCollections[1].maxLength = 0;\n        }\n    };\n    /**\n     * To find mouse x, y for aligned heatmap element svg position\n     */\n    HeatMap.prototype.setMouseXY = function (pageX, pageY) {\n        var rect = this.element.getBoundingClientRect();\n        var svgCanvasRect;\n        if (this.enableCanvasRendering) {\n            svgCanvasRect = document.getElementById(this.element.id + '_canvas').getBoundingClientRect();\n        }\n        else {\n            svgCanvasRect = document.getElementById(this.element.id + '_svg').getBoundingClientRect();\n        }\n        this.mouseX = (pageX - rect.left) - Math.max(svgCanvasRect.left - rect.left, 0);\n        this.mouseY = (pageY - rect.top) - Math.max(svgCanvasRect.top - rect.top, 0);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    HeatMap.prototype.triggerClickEvent = function (e, isDoubleClick) {\n        var pageX;\n        var pageY;\n        var touchArg;\n        var elementRect = this.element.getBoundingClientRect();\n        if (e.type === 'touchstart') {\n            if (!isDoubleClick) {\n                this.isTouch = true;\n            }\n            touchArg = e;\n            pageY = touchArg.changedTouches[0].clientY;\n            pageX = touchArg.changedTouches[0].clientX;\n        }\n        else {\n            if (!isDoubleClick) {\n                this.isTouch = false;\n            }\n            pageY = e.clientY;\n            pageX = e.clientX;\n        }\n        pageX -= elementRect.left;\n        pageY -= elementRect.top;\n        var isheatmapRect = this.isHeatmapRect(pageX, pageY);\n        if (isheatmapRect) {\n            var currentRect = this.heatMapSeries.getCurrentRect(pageX, pageY);\n            this.trigger(isDoubleClick ? 'cellDoubleClick' : 'cellClick', {\n                heatmap: this,\n                value: currentRect.value,\n                x: currentRect.x,\n                y: currentRect.y,\n                xLabel: this.heatMapSeries.hoverXAxisLabel,\n                yLabel: this.heatMapSeries.hoverYAxisLabel,\n                xValue: this.heatMapSeries.hoverXAxisValue,\n                yValue: this.heatMapSeries.hoverYAxisValue,\n                cellElement: this.enableCanvasRendering ? null : document.getElementById(currentRect.id),\n                event: e\n            });\n        }\n        return { x: pageX, y: pageY };\n    };\n    HeatMap.prototype.heatMapMouseDoubleClick = function (e) {\n        this.triggerClickEvent(e, true);\n    };\n    /**\n     * @private\n     */\n    HeatMap.prototype.heatMapMouseClick = function (e) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var position = this.triggerClickEvent(e, false);\n        var pageX = position.x;\n        var pageY = position.y;\n        this.notify('click', e);\n        if (this.paletteSettings.type !== 'Gradient' && this.legendModule\n            && this.legendSettings.visible && this.legendVisibilityByCellType) {\n            var page = this.legendModule.navigationCollections;\n            if (page.length && pageX > page[0].x && pageX < page[0].x + page[0].width &&\n                pageY > page[0].y && pageY < page[0].y + page[0].height) {\n                this.legendModule.translatePage(this, this.legendModule.currentPage, true);\n            }\n            else if (page.length && pageX > page[1].x && pageX < page[1].x + page[1].width &&\n                pageY > page[1].y && pageY < page[1].y + page[1].height) {\n                this.legendModule.translatePage(this, this.legendModule.currentPage, false);\n            }\n            var legendRange = this.legendModule.legendRange;\n            var legendTextRange = this.legendModule.legendTextRange;\n            var loop = true;\n            for (var i = 0; i < legendRange.length; i++) {\n                if (this.legendModule && this.legendSettings.toggleVisibility &&\n                    this.legendModule.currentPage === legendRange[i].currentPage) {\n                    if ((loop && (pageX >= legendRange[i].x\n                        && pageX <= legendRange[i].width + legendRange[i].x) &&\n                        (pageY >= legendRange[i].y && pageY <= legendRange[i].y + legendRange[i].height) ||\n                        ((this.legendSettings.showLabel && this.legendSettings.labelDisplayType !== 'None' &&\n                            pageX >= legendTextRange[i].x\n                            && pageX <= legendTextRange[i].width + legendTextRange[i].x) &&\n                            (pageY >= legendTextRange[i].y\n                                && pageY <= legendTextRange[i].y + legendTextRange[i].height)))) {\n                        this.legendModule.legendRangeSelection(i);\n                        loop = false;\n                    }\n                }\n            }\n        }\n        return false;\n    };\n    /**\n     * Handles the mouse Move.\n     *\n     * @returns {boolean}\n     *\n     * @private\n     */\n    HeatMap.prototype.heatMapMouseMove = function (e) {\n        var pageX;\n        var pageY;\n        var touchArg;\n        var elementRect = this.element.getBoundingClientRect();\n        if (e.type === 'touchmove' || e.type === 'touchstart') {\n            this.isTouch = true;\n            touchArg = e;\n            pageX = touchArg.changedTouches[0].clientX;\n            pageY = touchArg.changedTouches[0].clientY;\n        }\n        else {\n            this.isTouch = false;\n            pageX = e.clientX;\n            pageY = e.clientY;\n        }\n        pageX -= elementRect.left;\n        pageY -= elementRect.top;\n        this.setMouseXY(pageX, pageY);\n        this.mouseAction(e, pageX, pageY, touchArg, elementRect);\n        return true;\n    };\n    /**\n     * Handles the mouse Move.\n     *\n     * @returns {boolean}\n     */\n    HeatMap.prototype.mouseAction = function (e, pageX, pageY, touchArg, elementRect) {\n        var tooltipText;\n        if (e.target && e.target.id) {\n            var isheatmapRect = this.isHeatmapRect(pageX, pageY);\n            if (this.legendModule) {\n                if (isheatmapRect) {\n                    if (this.paletteSettings.type === 'Gradient' &&\n                        this.legendSettings.showGradientPointer && this.legendSettings.visible && this.legendVisibilityByCellType) {\n                        this.legendModule.renderGradientPointer(e, pageX, pageY);\n                    }\n                }\n                else {\n                    this.legendModule.removeGradientPointer();\n                }\n                this.renderMousePointer(pageX, pageY);\n            }\n            var isshowTooltip = void 0;\n            var currentRect = void 0;\n            isshowTooltip = this.showTooltip && this.tooltipModule ? isheatmapRect : false;\n            if (isheatmapRect) {\n                currentRect = this.heatMapSeries.getCurrentRect(pageX, pageY);\n                if (e.which !== 2 && e.which !== 3) {\n                    isshowTooltip = this.cellSelectionOnMouseMove(e, currentRect, pageX, pageY, isshowTooltip);\n                }\n            }\n            this.tooltipOnMouseMove(e, currentRect, isshowTooltip, isheatmapRect);\n            if (this.legendModule && this.legendSettings.visible && this.paletteSettings.type === 'Fixed' &&\n                this.legendSettings.enableSmartLegend && this.legendSettings.labelDisplayType === 'None') {\n                this.legendModule.createTooltip(pageX, pageY);\n            }\n            if (!this.enableCanvasRendering) {\n                if (this.titleSettings.text && this.titleSettings.textStyle.textOverflow === 'Trim') {\n                    this.titleTooltip(e, pageX, pageY, this.isTouch);\n                }\n                this.axisTooltip(e, pageX, pageY, this.isTouch);\n                if (this.legendModule && this.legendSettings.visible && this.legendSettings.showLabel && this.legendVisibilityByCellType) {\n                    this.legendModule.renderLegendLabelTooltip(e, pageX, pageY);\n                }\n                if (this.legendModule && this.legendSettings.visible && this.legendVisibilityByCellType) {\n                    this.legendModule.renderLegendTitleTooltip(e, pageX, pageY);\n                }\n            }\n            else {\n                // eslint-disable-next-line\n                elementRect = this.element.getBoundingClientRect();\n                var tooltipRect = (this.paletteSettings.type === 'Fixed' && this.legendSettings.enableSmartLegend &&\n                    this.legendSettings.labelDisplayType === 'None') ? false : true;\n                tooltipText = getTooltipText(this.tooltipCollection, pageX, pageY) ||\n                    (this.legendModule && tooltipRect && (getTooltipText(this.legendModule.legendLabelTooltip, pageX, pageY)\n                        || getTooltipText(this.legendModule.legendTitleTooltip, pageX, pageY)));\n                if (tooltipText) {\n                    showTooltip(tooltipText, pageX, pageY, this.element.offsetWidth, this.element.id + '_canvas_Tooltip', getElement(this.element.id + '_Secondary_Element'), this.isTouch, this);\n                }\n                else {\n                    removeElement(this.element.id + '_canvas_Tooltip');\n                }\n            }\n        }\n        return true;\n    };\n    /**\n     * Triggering cell selection\n     */\n    HeatMap.prototype.cellSelectionOnMouseMove = function (e, currentRect, pageX, pageY, isshowTooltip) {\n        if ((this.cellSettings.tileType === 'Rect' && e.type === 'mousedown' || e.type === 'touchstart'\n            || e.type === 'pointerdown') && this.allowSelection) {\n            this.previousRect = currentRect;\n            this.multiSelection = true;\n            this.rectSelected = true;\n            this.initialCellX = pageX;\n            this.initialCellY = pageY;\n            e.preventDefault();\n        }\n        if (this.cellSettings.tileType === 'Rect' && this.multiSelection && currentRect) {\n            isshowTooltip = false;\n            this.highlightSelectedCells(this.previousRect, currentRect, pageX, pageY, e);\n        }\n        return isshowTooltip;\n    };\n    /**\n     * Rendering tooltip on mouse move\n     */\n    HeatMap.prototype.tooltipOnMouseMove = function (e, currentRect, isshowTooltip, isheatmapRect) {\n        var _this = this;\n        if (isshowTooltip && currentRect) {\n            if (this.tempTooltipRectId !== currentRect.id) {\n                if (this.showTooltip) {\n                    if ((this.cellSettings.enableCellHighlighting || (this.tooltipModule && this.showTooltip))\n                        && !this.enableCanvasRendering) {\n                        this.heatMapSeries.highlightSvgRect(currentRect.id);\n                    }\n                    if (this.tooltipTimer) {\n                        window.clearTimeout(this.tooltipTimer);\n                        this.tooltipTimer = null;\n                    }\n                    this.tooltipModule.renderTooltip(currentRect);\n                    if (this.isTouch) {\n                        this.tooltipTimer = setTimeout(function () {\n                            if (!isNullOrUndefined(_this.tooltipModule.tooltipObject)) {\n                                _this.tooltipModule.tooltipObject.fadeOut();\n                            }\n                            _this.tooltipModule.isFadeout = true;\n                            window.clearTimeout(_this.tooltipTimer);\n                            _this.tooltipTimer = null;\n                        }, 1500);\n                        if (e) {\n                            if (e.type === 'touchmove') {\n                                e.preventDefault();\n                            }\n                        }\n                    }\n                }\n                this.tempTooltipRectId = currentRect.id;\n            }\n        }\n        else {\n            if (e !== null) {\n                var borderBoundary = 5;\n                if (!isheatmapRect) {\n                    if ((this.cellSettings.enableCellHighlighting || this.showTooltip) && !this.enableCanvasRendering &&\n                        this.cellSettings.border.width < borderBoundary) {\n                        this.heatMapSeries.highlightSvgRect(e.target.id);\n                    }\n                    if (this.tooltipModule && this.showTooltip) {\n                        this.tooltipModule.showHideTooltip(false, true);\n                    }\n                }\n                else if (!this.showTooltip && this.cellSettings.border.width > borderBoundary) {\n                    this.heatMapSeries.highlightSvgRect(e.target.id);\n                }\n            }\n            this.tempTooltipRectId = '';\n        }\n    };\n    /**\n     * To select the multiple cells on mouse move action\n     */\n    HeatMap.prototype.highlightSelectedCells = function (previousRect, currentRect, pageX, pageY, e) {\n        var pXIndex = previousRect.xIndex;\n        var pYIndex = previousRect.yIndex;\n        var cXIndex = currentRect.xIndex;\n        var cYIndex = currentRect.yIndex;\n        this.currentRect = currentRect;\n        this.selectedCellsRect = new Rect(0, 0, 0, 0);\n        this.selectedCellsRect.x = previousRect.x > currentRect.x ? currentRect.x : previousRect.x;\n        this.selectedCellsRect.y = previousRect.y > currentRect.y ? currentRect.y : previousRect.y;\n        this.selectedCellsRect.width = ((previousRect.x > currentRect.x ? (pXIndex - cXIndex) :\n            (cXIndex - pXIndex)) + 1) * currentRect.width;\n        this.selectedCellsRect.height = ((previousRect.y > currentRect.y ? (pYIndex - cYIndex) :\n            (cYIndex - pYIndex)) + 1) * currentRect.height;\n        if (e.type === 'touchstart' && this.multiCellCollection.length === 0 && !this.isCellTapHold) {\n            this.isCellTapHold = true;\n        }\n        else {\n            this.isCellTapHold = false;\n        }\n        e.preventDefault();\n        var x = this.initialCellX > pageX ? pageX : this.initialCellX;\n        var y = this.initialCellY > pageY ? pageY : this.initialCellY;\n        var rect = new Rect(x - this.initialClipRect.x, y - this.initialClipRect.y, Math.abs(pageX - this.initialCellX), Math.abs(pageY - this.initialCellY));\n        if (((rect.width > 0) && this.enableMultiSelect && e.ctrlKey === false)) {\n            this.removeSelectedCellsBorder();\n            var tooltipElement = document.getElementById(this.element.id + 'Celltooltipcontainer_svg');\n            if (tooltipElement) {\n                this.tooltipModule.tooltipObject = null;\n                tooltipElement.setAttribute('opacity', '0');\n            }\n        }\n        var parentDiv = document.getElementById(this.element.id + '_CellSelection_Container');\n        var svgObject = this.renderer.createSvg({\n            id: this.element.id + '_CellSelection_Container_svg',\n            width: this.initialClipRect.width,\n            height: this.initialClipRect.height\n        });\n        parentDiv.appendChild(svgObject);\n        var parent = document.getElementById(this.element.id + '_CellSelection_Container_svg');\n        if (this.enableMultiSelect) {\n            var rectItems = new RectOption(this.element.id + '_selectedCells', '#87ceeb', { color: 'transparent', width: 1 }, 1, rect, '#0000ff');\n            parent.appendChild(this.renderer.drawRectangle(rectItems));\n            document.getElementById(this.element.id + '_selectedCells').style.opacity = '0.5';\n        }\n    };\n    /**\n     * Method to get selected cell data collection for HeatMap\n     */\n    HeatMap.prototype.getDataCollection = function () {\n        var pXIndex = this.previousRect.xIndex;\n        var pYIndex = this.previousRect.yIndex;\n        var cXIndex = this.currentRect.xIndex;\n        var cYIndex = this.currentRect.yIndex;\n        var minX = cXIndex > pXIndex ? pXIndex : cXIndex;\n        var maxX = cXIndex > pXIndex ? cXIndex : pXIndex;\n        var minY = cYIndex > pYIndex ? pYIndex : cYIndex;\n        var maxY = cYIndex > pYIndex ? cYIndex : pYIndex;\n        var tempX = minX;\n        var tempY = minY;\n        var cellX = this.previousRect.x;\n        var cellY = this.previousRect.y;\n        this.getCellCollection(this.currentRect, this.previousRect, true, tempX, tempY, maxX, maxY, minX, cellX, cellY);\n        tempX = minX;\n        tempY = minY;\n        cellX = this.previousRect.x;\n        cellY = this.previousRect.y;\n        this.checkSelectedCells();\n        this.getCellCollection(this.currentRect, this.previousRect, false, tempX, tempY, maxX, maxY, minX, cellX, cellY);\n        this.selectedMultiCellCollection = [];\n        this.canvasSelectedCells = new Rect(0, 0, 0, 0);\n        this.selectedCellCount = 0;\n    };\n    /**\n     * To get the selected datas.\n     */\n    HeatMap.prototype.getCellCollection = function (currentRect, previousRect, singleCellData, tempX, tempY, maxX, maxY, minX, cellX, cellY) {\n        var xIndex = Math.abs((currentRect.xIndex === previousRect.xIndex ?\n            0 : currentRect.xIndex - previousRect.xIndex)) + 1;\n        var yIndex = Math.abs((currentRect.yIndex === previousRect.yIndex ?\n            0 : currentRect.yIndex - previousRect.yIndex)) + 1;\n        for (var i = 0; i < (xIndex * yIndex); i++) {\n            if (singleCellData) {\n                this.getSelectedCellData(cellX, cellY, true);\n            }\n            else {\n                this.getSelectedCellData(cellX, cellY, false);\n            }\n            if (tempX < maxX) {\n                cellX += currentRect.xIndex > previousRect.xIndex ? currentRect.width : -currentRect.width;\n                tempX++;\n            }\n            else if (tempY < maxY) {\n                cellY += currentRect.yIndex > previousRect.yIndex ? currentRect.height : -currentRect.height;\n                cellX = previousRect.x;\n                tempX = minX;\n            }\n        }\n    };\n    /**\n     * To remove the selection on mouse click without ctrl key.\n     */\n    HeatMap.prototype.removeSelectedCellsBorder = function () {\n        if (!this.enableCanvasRendering) {\n            var containerRect = document.getElementById(this.element.id + '_Container_RectGroup');\n            var containerText = document.getElementById(this.element.id + '_Container_TextGroup');\n            for (var i = 0; i < containerRect.childNodes.length; i++) {\n                var elementClassName = containerRect.childNodes[i].getAttribute('class');\n                containerRect.childNodes[i].setAttribute('opacity', '0.3');\n                if (this.cellSettings.showLabel && containerText.childNodes[i]) {\n                    containerText.childNodes[i].setAttribute('opacity', '0.3');\n                    this.removeSvgClass(containerRect.childNodes[i], elementClassName);\n                }\n            }\n        }\n        else {\n            var ctx = this.secondaryCanvasRenderer.ctx;\n            for (var i = 0; i < this.previousSelectedCellsRect.length; i++) {\n                var rect = this.previousSelectedCellsRect[i];\n                ctx.save();\n                ctx.clearRect(rect.x - 1, rect.y - 1, rect.width + 2, rect.height + 2);\n                ctx.restore();\n            }\n            for (var i = 0; i < this.multiCellCollection.length; i++) {\n                var rects = this.multiCellCollection[i];\n                if (this.multiCellCollection.length > 0) {\n                    ctx.save();\n                    ctx.clearRect(rects.x - 1, rects.y - 1, rects.width + 2, rects.height + 2);\n                }\n            }\n        }\n        this.multiCellCollection = [];\n    };\n    /**\n     * To highlight the selected multiple cells on mouse move action in canvas mode.\n     */\n    HeatMap.prototype.highlightSelectedAreaInCanvas = function (rect) {\n        if (rect.x) {\n            var oldCanvas = document.getElementById(this.element.id + '_canvas');\n            var newCanvas = document.getElementById(this.element.id + '_secondary_canvas');\n            var initialRect = this.initialClipRect;\n            var rectImage = oldCanvas.getContext('2d').getImageData(rect.x, rect.y, rect.width, rect.height);\n            newCanvas.getContext('2d').putImageData(rectImage, rect.x, rect.y);\n            oldCanvas.style.opacity = '0.3';\n            var topPosition = oldCanvas.getContext('2d').getImageData(0, 0, this.availableSize.width, initialRect.y);\n            newCanvas.getContext('2d').putImageData(topPosition, 0, 0);\n            var bottomPosition = oldCanvas.getContext('2d').getImageData(0, initialRect.y + initialRect.height, this.availableSize.width, this.availableSize.height - (initialRect.y + initialRect.height));\n            newCanvas.getContext('2d').putImageData(bottomPosition, 0, initialRect.y + initialRect.height);\n            var rightPosition = oldCanvas.getContext('2d').getImageData(initialRect.x + initialRect.width, 0, this.availableSize.width - (initialRect.x + initialRect.width), this.availableSize.height);\n            newCanvas.getContext('2d').putImageData(rightPosition, initialRect.x + initialRect.width, 0);\n            var leftPosition = oldCanvas.getContext('2d').getImageData(0, 0, initialRect.x, this.availableSize.height);\n            newCanvas.getContext('2d').putImageData(leftPosition, 0, 0);\n        }\n    };\n    /**\n     * To get the collection of selected cells.\n     */\n    HeatMap.prototype.getSelectedCellData = function (cellX, cellY, cellCollection) {\n        var xAxis = this.axisCollections[0];\n        var yAxis = this.axisCollections[1];\n        var xLabels = xAxis.tooltipLabels;\n        var yLabels = yAxis.tooltipLabels.slice().reverse();\n        var rectPosition = this.heatMapSeries.getCurrentRect(cellX + 1, cellY + 1);\n        var currentRect = document.getElementById(rectPosition.id);\n        var cellDetails = new SelectedCellDetails(null, '', '', 0, 0, null, 0, 0, 0, 0, 0, 0);\n        cellDetails.value = rectPosition.value;\n        cellDetails.xLabel = xLabels[rectPosition.xIndex].toString();\n        cellDetails.yLabel = yLabels[rectPosition.yIndex].toString();\n        cellDetails.xValue = xAxis.labelValue[rectPosition.xIndex];\n        cellDetails.yValue = yAxis.labelValue.slice().reverse()[rectPosition.yIndex];\n        cellDetails.cellElement = this.enableCanvasRendering ? null : currentRect;\n        cellDetails.xPosition = rectPosition.xIndex;\n        cellDetails.yPosition = rectPosition.yIndex;\n        cellDetails.width = this.currentRect.width;\n        cellDetails.height = this.currentRect.height;\n        cellDetails.x = this.currentRect.x;\n        cellDetails.y = this.currentRect.y;\n        this.currentRect.allowCollection = true;\n        this.addSvgClass(currentRect);\n        if (cellCollection) {\n            this.selectedMultiCellCollection.push(cellDetails);\n            this.currentRect.allowCollection = false;\n        }\n        else {\n            for (var i = 0; i < this.multiCellCollection.length; i++) {\n                if (this.multiCellCollection[i].xPosition === cellDetails.xPosition &&\n                    this.multiCellCollection[i].yPosition === cellDetails.yPosition) {\n                    this.currentRect.allowCollection = false;\n                    if (this.selectedCellCount === this.selectedMultiCellCollection.length) {\n                        this.currentRect.allowCollection = false;\n                        if (!this.enableCanvasRendering) {\n                            for (var j = 0; j < this.selectedMultiCellCollection.length; j++) {\n                                var rectElement = this.selectedMultiCellCollection[j].cellElement;\n                                if (rectElement) {\n                                    var index = rectElement.id.replace(this.element.id + '_HeatMapRect_', '');\n                                    // eslint-disable-next-line\n                                    var containerText = document.getElementById(this.element.id + '_Container_TextGroup');\n                                    var elementClassName = rectElement.getAttribute('class');\n                                    rectElement.setAttribute('opacity', '0.3');\n                                    var getText = document.getElementById(this.element.id + '_HeatMapRectLabels_' + index);\n                                    if (getText) {\n                                        getText.setAttribute('opacity', '0.3');\n                                    }\n                                    this.removeSvgClass(rectElement, elementClassName);\n                                }\n                            }\n                        }\n                        else {\n                            var ctx = this.secondaryCanvasRenderer.ctx;\n                            var rect = this.canvasSelectedCells;\n                            ctx.save();\n                            ctx.clearRect(rect.x - 1, rect.y - 1, rect.width + 2, rect.height + 2);\n                            ctx.restore();\n                            this.selectedCellsRect = new Rect(0, 0, 0, 0);\n                        }\n                        this.multiCellCollection.splice(i, 1);\n                    }\n                }\n            }\n        }\n        if (rectPosition.visible && !isNullOrUndefined(rectPosition.value) && this.currentRect.allowCollection === true) {\n            this.multiCellCollection.push(cellDetails);\n        }\n    };\n    /**\n     * To add class for selected cells\n     *\n     * @private\n     */\n    HeatMap.prototype.addSvgClass = function (element) {\n        if (!this.enableCanvasRendering) {\n            var className = this.element.id + '_selected';\n            element.setAttribute('class', className);\n        }\n    };\n    /**\n     * To remove class for unselected cells\n     *\n     * @private\n     */\n    HeatMap.prototype.removeSvgClass = function (rectElement, className) {\n        if (className) {\n            rectElement.setAttribute('class', className.replace(className, ''));\n        }\n    };\n    /**\n     * This method is used to clear the cell selection in the heatmap.\n     * {% codeBlock src='heatmap/clearSelection/index.md' %}{% endcodeBlock %}\n     */\n    HeatMap.prototype.clearSelection = function () {\n        if (!this.enableCanvasRendering && this.allowSelection) {\n            this.clearSVGSelection();\n        }\n        if (this.enableCanvasRendering) {\n            var ctx = this.secondaryCanvasRenderer.ctx;\n            for (var i = 0; i < this.previousSelectedCellsRect.length; i++) {\n                ctx.save();\n                ctx.clearRect(this.previousSelectedCellsRect[i].x - 1, this.previousSelectedCellsRect[i].y - 1, this.previousSelectedCellsRect[i].width + 2, this.previousSelectedCellsRect[i].height + 2);\n                ctx.restore();\n            }\n            for (var i = 0; i < this.multiCellCollection.length; i++) {\n                var rects = this.multiCellCollection[i];\n                if (this.multiCellCollection.length > 0) {\n                    ctx.save();\n                    ctx.clearRect(rects.x - 1, rects.y - 1, rects.width + 2, rects.height + 2);\n                }\n            }\n            var canvas = document.getElementById(this.element.id + '_canvas');\n            canvas.style.opacity = '1';\n        }\n        this.tempMultiCellCollection = [];\n        this.multiCellCollection = [];\n        this.rectSelected = false;\n    };\n    HeatMap.prototype.renderMousePointer = function (pageX, pageY) {\n        var legendRange = this.legendModule.legendRange;\n        var legendTextRange = this.legendModule.legendTextRange;\n        var loop = true;\n        for (var i = 0; i < legendRange.length; i++) {\n            if (this.legendSettings.toggleVisibility && this.legendModule.currentPage === legendRange[i].currentPage) {\n                if ((loop && (pageX >= legendRange[i].x\n                    && pageX <= legendRange[i].width + legendRange[i].x) &&\n                    (pageY >= legendRange[i].y && pageY <= legendRange[i].y + legendRange[i].height) ||\n                    ((this.legendSettings.showLabel && this.legendSettings.labelDisplayType !== 'None' &&\n                        pageX >= legendTextRange[i].x\n                        && pageX <= legendTextRange[i].width + legendTextRange[i].x) &&\n                        (pageY >= legendTextRange[i].y\n                            && pageY <= legendTextRange[i].y + legendTextRange[i].height)))) {\n                    if (this.enableCanvasRendering) {\n                        document.getElementById(this.element.id + '_canvas').style.cursor = 'Pointer';\n                    }\n                    else {\n                        document.getElementById(this.element.id + '_svg').style.cursor = 'Pointer';\n                        var legendLabelTooltipContainer = document.getElementById(this.element.id + 'legendLabelTooltipContainer');\n                        if (!isNullOrUndefined(legendLabelTooltipContainer)) {\n                            legendLabelTooltipContainer.style.cursor = 'Pointer';\n                        }\n                    }\n                    loop = false;\n                }\n                else if (loop) {\n                    if (this.enableCanvasRendering) {\n                        document.getElementById(this.element.id + '_canvas').style.cursor = '';\n                    }\n                    else {\n                        document.getElementById(this.element.id + '_svg').style.cursor = '';\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Handles the mouse end.\n     *\n     * @returns {boolean}\n     * @private\n     */\n    HeatMap.prototype.heatMapMouseLeave = function (e) {\n        var _this = this;\n        if (e.target && e.target.id &&\n            (this.cellSettings.enableCellHighlighting || (this.tooltipModule && this.showTooltip))\n            && !this.enableCanvasRendering) {\n            this.heatMapSeries.highlightSvgRect(this.tempTooltipRectId);\n        }\n        if (this.allowSelection && this.multiSelection) {\n            this.multiSelection = false;\n            if (e.type === 'mouseup' || e.type === 'mouseleave' || e.type === 'touchend' || e.type === 'pointerup') {\n                if (e.which !== 2 && e.which !== 3) {\n                    if (this.isCellTapHold === false) {\n                        var rect = void 0;\n                        var selectionRect = document.getElementById(this.element.id + '_selectedCells');\n                        if (!isNullOrUndefined(selectionRect)) {\n                            var rectBound = selectionRect.getClientRects()[0];\n                            rect = new Rect(rectBound.left, rectBound.top, rectBound.width, rectBound.height);\n                        }\n                        else {\n                            var pageX = void 0;\n                            var pageY = void 0;\n                            var touchArg = void 0;\n                            var elementRect = this.element.getBoundingClientRect();\n                            if (e.type === 'touchend') {\n                                this.isTouch = true;\n                                touchArg = e;\n                                pageY = touchArg.changedTouches[0].clientY;\n                                pageX = touchArg.changedTouches[0].clientX;\n                            }\n                            else {\n                                this.isTouch = false;\n                                pageY = e.clientY;\n                                pageX = e.clientX;\n                            }\n                            pageX -= elementRect.left;\n                            pageY -= elementRect.top;\n                            var x = this.initialCellX > pageX ? pageX : this.initialCellX;\n                            var y = this.initialCellY > pageY ? pageY : this.initialCellY;\n                            rect = new Rect(x - this.initialClipRect.x, y - this.initialClipRect.y, Math.abs(pageX - this.initialCellX) !== 0 ? Math.abs(pageX - this.initialCellX) :\n                                Math.abs(pageY - this.initialCellY), Math.abs(pageY - this.initialCellY));\n                        }\n                        if (!(rect.width > 0 && !this.enableMultiSelect)) {\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            if (e.ctrlKey === false || !this.enableMultiSelect) {\n                                this.removeSelectedCellsBorder();\n                            }\n                            this.getDataCollection();\n                            this.currentRect.allowCollection = false;\n                            this.setCellOpacity();\n                            if (e.type === 'touchend') {\n                                this.tooltipOnMouseMove(null, this.currentRect, true);\n                            }\n                            var argData = {\n                                heatmap: this,\n                                cancel: false,\n                                name: 'cellSelected',\n                                data: this.multiCellCollection\n                            };\n                            this.trigger('cellSelected', argData);\n                        }\n                    }\n                    else {\n                        this.isCellTapHold = false;\n                    }\n                }\n            }\n        }\n        if (this.tooltipModule && this.showTooltip && e.type === 'mouseleave') {\n            this.tooltipModule.showHideTooltip(false);\n        }\n        this.tempTooltipRectId = '';\n        if (this.legendModule && this.legendSettings.visible && this.legendModule.tooltipObject &&\n            this.legendModule.tooltipObject.element) {\n            var tooltipElement_1 = this.legendModule.tooltipObject.element.firstChild;\n            if (e.type === 'mouseleave') {\n                tooltipElement_1.setAttribute('opacity', '0');\n            }\n            else {\n                if (this.legendTooltipTimer) {\n                    window.clearTimeout(this.legendTooltipTimer);\n                }\n                this.legendTooltipTimer = setTimeout(function () {\n                    tooltipElement_1.setAttribute('opacity', '0');\n                }, 1500);\n            }\n        }\n        if (this.paletteSettings.type === 'Gradient' && this.legendModule && this.legendSettings.showGradientPointer &&\n            this.legendSettings.visible && this.legendVisibilityByCellType) {\n            if (e.type === 'mouseleave') {\n                this.legendModule.removeGradientPointer();\n            }\n            else {\n                if (this.gradientTimer) {\n                    window.clearTimeout(this.gradientTimer);\n                }\n                this.gradientTimer = setTimeout(function () { _this.legendModule.removeGradientPointer(); }, 1500);\n            }\n        }\n        if (this.enableCanvasRendering) {\n            var main = document.getElementById(this.element.id + '_hoverRect_canvas');\n            if (main) {\n                main.style.visibility = 'hidden';\n                this.tempRectHoverClass = '';\n            }\n        }\n        if (this.titleSettings.text && this.titleCollection[0].indexOf('...') !== -1) {\n            if (!this.enableCanvasRendering) {\n                removeElement(this.element.id + '_Title_Tooltip');\n            }\n            else {\n                removeElement(this.element.id + '_canvas_Tooltip');\n            }\n        }\n        return true;\n    };\n    /**\n     * Method to Check for deselection of cell.\n     */\n    HeatMap.prototype.checkSelectedCells = function () {\n        if (!this.enableCanvasRendering) {\n            for (var i = 0; i < this.multiCellCollection.length; i++) {\n                for (var j = 0; j < this.selectedMultiCellCollection.length; j++) {\n                    if (this.selectedMultiCellCollection[j].cellElement.getAttribute('id')\n                        === this.multiCellCollection[i].cellElement.getAttribute('id')) {\n                        this.selectedCellCount++;\n                    }\n                }\n            }\n        }\n        else {\n            this.canvasSelectedCells = new Rect(0, 0, 0, 0);\n            this.canvasSelectedCells.x = this.selectedCellsRect.x;\n            this.canvasSelectedCells.y = this.selectedCellsRect.y;\n            this.canvasSelectedCells.width = this.selectedCellsRect.width;\n            this.canvasSelectedCells.height = this.selectedCellsRect.height;\n            for (var i = 0; i < this.multiCellCollection.length; i++) {\n                for (var j = 0; j < this.selectedMultiCellCollection.length; j++) {\n                    if (this.selectedMultiCellCollection[j].xPosition === this.multiCellCollection[i].xPosition &&\n                        this.selectedMultiCellCollection[j].yPosition === this.multiCellCollection[i].yPosition) {\n                        this.selectedCellCount++;\n                    }\n                }\n            }\n            if (this.rectSelected && this.paletteSettings.type === 'Gradient') {\n                this.legendModule.removeGradientPointer();\n            }\n        }\n    };\n    /**\n     * Method to remove opacity for text of selected cell for HeatMap\n     */\n    HeatMap.prototype.removeOpacity = function (containersRect, containerText) {\n        for (var i = 0; i < containersRect.childNodes.length; i++) {\n            containersRect.childNodes[i].setAttribute('opacity', '0.3');\n            if (this.cellSettings.showLabel && containerText.childNodes[i]) {\n                containerText.childNodes[i].setAttribute('opacity', '0.3');\n            }\n        }\n    };\n    /**\n     * Method to set opacity for selected cell for HeatMap\n     */\n    HeatMap.prototype.setCellOpacity = function () {\n        if (!this.enableCanvasRendering) {\n            if (this.multiCellCollection.length !== 0) {\n                this.tempMultiCellCollection.push(this.multiCellCollection);\n                var containersRect = document.getElementById(this.element.id + '_Container_RectGroup');\n                var containerText = document.getElementById(this.element.id + '_Container_TextGroup');\n                this.removeOpacity(containersRect, containerText);\n                for (var i = 0; i < this.multiCellCollection.length; i++) {\n                    var collectionClasss = this.multiCellCollection[i].cellElement;\n                    var index = parseInt(collectionClasss.id.replace(this.element.id + '_HeatMapRect_', ''), 10);\n                    containersRect.childNodes[index].setAttribute('opacity', '1');\n                    if (this.cellSettings.showLabel) {\n                        var getText = document.getElementById(this.element.id + '_HeatMapRectLabels_' + index);\n                        if (getText) {\n                            getText.setAttribute('opacity', '1');\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            this.previousSelectedCellsRect.push(this.selectedCellsRect);\n            this.highlightSelectedAreaInCanvas(this.selectedCellsRect);\n        }\n        removeElement(this.element.id + '_selectedCells');\n    };\n    /**\n     * To create div container for rendering two layers of canvas.\n     *\n     * @returns {void}\n     * @private\n     */\n    HeatMap.prototype.createMultiCellDiv = function (onLoad) {\n        if (onLoad) {\n            var divElement = this.createElement('div', {\n                id: this.element.id + '_Multi_CellSelection_Canvas'\n            });\n            divElement.style.position = 'relative';\n            this.element.appendChild(divElement);\n            divElement.appendChild(this.svgObject);\n            this.svgObject.style.position = 'absolute';\n            this.svgObject.style.left = '0px';\n            this.svgObject.style.top = '0px';\n            this.svgObject.style.zIndex = '0';\n        }\n        else {\n            var element = document.getElementById(this.element.id + '_Multi_CellSelection_Canvas');\n            var secondaryCanvas = this.secondaryCanvasRenderer.createCanvas({\n                width: this.availableSize.width,\n                height: this.availableSize.height, x: 0, y: 0\n            });\n            secondaryCanvas.style.cssText = 'position: absolute; z-index: 1';\n            element.appendChild(secondaryCanvas);\n        }\n    };\n    __decorate([\n        Property(null)\n    ], HeatMap.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], HeatMap.prototype, \"height\", void 0);\n    __decorate([\n        Property(true)\n    ], HeatMap.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"tooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"resized\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"loaded\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"cellRender\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"cellSelected\", void 0);\n    __decorate([\n        Property('SVG')\n    ], HeatMap.prototype, \"renderingMode\", void 0);\n    __decorate([\n        Property(null)\n    ], HeatMap.prototype, \"dataSource\", void 0);\n    __decorate([\n        Complex({}, Data)\n    ], HeatMap.prototype, \"dataSourceSettings\", void 0);\n    __decorate([\n        Property(null)\n    ], HeatMap.prototype, \"backgroundColor\", void 0);\n    __decorate([\n        Property('Material')\n    ], HeatMap.prototype, \"theme\", void 0);\n    __decorate([\n        Property(false)\n    ], HeatMap.prototype, \"allowSelection\", void 0);\n    __decorate([\n        Property(true)\n    ], HeatMap.prototype, \"enableMultiSelect\", void 0);\n    __decorate([\n        Complex({}, Margin)\n    ], HeatMap.prototype, \"margin\", void 0);\n    __decorate([\n        Complex({ text: '', textStyle: Theme.heatMapTitleFont }, Title)\n    ], HeatMap.prototype, \"titleSettings\", void 0);\n    __decorate([\n        Complex({}, Axis)\n    ], HeatMap.prototype, \"xAxis\", void 0);\n    __decorate([\n        Complex({ position: 'Right' }, LegendSettings)\n    ], HeatMap.prototype, \"legendSettings\", void 0);\n    __decorate([\n        Complex({}, PaletteSettings)\n    ], HeatMap.prototype, \"paletteSettings\", void 0);\n    __decorate([\n        Complex({}, TooltipSettings)\n    ], HeatMap.prototype, \"tooltipSettings\", void 0);\n    __decorate([\n        Complex({}, Axis)\n    ], HeatMap.prototype, \"yAxis\", void 0);\n    __decorate([\n        Complex({}, CellSettings)\n    ], HeatMap.prototype, \"cellSettings\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"cellClick\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"cellDoubleClick\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"legendRender\", void 0);\n    HeatMap = __decorate([\n        NotifyPropertyChanges\n    ], HeatMap);\n    return HeatMap;\n}(Component));\nexport { HeatMap };\n","import * as index from './index';\nindex.HeatMap.Inject(index.Legend, index.Tooltip, index.Adaptor);\nexport * from './index';\n"],"names":["getThemeColor","theme","style","toLowerCase","heatMapTitle","axisTitle","axisLabel","cellBorder","background","cellTextColor","toggledColor","emptyCellColor","legendLabel","palette","color","stringToNumber","value","containerSize","undefined","indexOf","parseInt","measureText","text","font","htmlObject","document","getElementById","createElement","id","body","appendChild","innerText","position","visibility","fontSize","size","fontWeight","fontStyle","fontFamily","top","left","whiteSpace","lineHeight","Size","clientWidth","clientHeight","titlePositionX","width","leftPadding","rightPadding","titleStyle","textAlignment","sum","values","_i","values_1","length","titlePositionY","heatmapSize","topPadding","bottomPadding","height","rotateTextSize","angle","renderer","SvgRenderer","svgObject","createSvg","options","font-size","font-style","font-family","font-weight","transform","text-anchor","createText","box","getBoundingClientRect","remove","right","bottom","getTitle","title","titleCollection","textOverflow","textWrap","push","textTrim","textNone","currentLabel","maximumWidth","textCollection","split","label","labelCollection","i","len","concat","maxWidth","index","substring","showTooltip","x","y","areaWidth","element","isTouch","heatmap","tooltip","toString","cssText","titleSettings","availableSize","setTimeout","removeElement","getElement","removeMeasureElement","increaseDateTimeInterval","interval","intervalType","increment","result","Date","Math","ceil","setFullYear","getFullYear","setMonth","getMonth","setDate","getDate","setHours","getHours","setMinutes","getMinutes","getTooltipText","tooltipCollection","xPosition","yPosition","region","colorNameToHex","isRGBValue","window","getComputedStyle","replace","convertToHexCode","RgbColor","componentToHex","R","G","B","hex","convertHexToColor","exec","formatValue","isCustom","format","tempInterval","formatFun","Theme","heatMapTitleFont","titleFont","axisTitleFont","axisLabelFont","legendLabelFont","rectLabelFont","tooltipFont","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","Font","_super","apply","Property","ChildProperty","Margin","Border","TooltipBorder","BubbleData","Title","Complex","FillColor","PaletteCollection","AxisLabelBorder","BubbleSize","MultiLevelCategories","MultiLevelLabels","type","Collection","ColorCollection","startValue","endValue","minColor","maxColor","BubbleTooltipData","mappingName","bubbleData","valueType","LegendColorCollection","isHidden","MultipleRow","start","end","row","PaletteSettings","g","CellColor","heatMap","convertToRGB","colorMapping","previousColor","nextColor","previousOffset","isColorRange","nextOffset","paletteSettings","offset","Number","colorCollection","dataSourceMinValue","fillColor","dataSourceMaxValue","getEqualColor","percent","isNaN","getPercentageColor","rgbToHex","list","convertToHex","itemColor","substr","colorSplit","previous","next","prevColor","getPercentage","full","round","getColorCollection","legendColorCollection","range","j","minValue","bubbleSizeWithColor","minColorValue","maxValue","maxColorValue","emptyPointColor","themeStyle","tempcolorMapping","orderbyOffset","isCompact","offsets","extend","updateLegendColorCollection","isLabel","unshift","returnCollection","PaletterColor","sort","a","isNullOrUndefined","getColorByValue","rbg","compareValue","cellSettings","tileType","bubbleType","singleValue","legendRange","legendVisibilityByCellType","legendModule","visible","colorGradientMode","TextElement","fontModel","fontColor","fill","CustomizeOption","PathOption","opacity","dashArray","_this","call","stroke","parseFloat","CurrentRect","xIndex","yIndex","xValue","yValue","displayText","textId","allowCollection","SelectedCellDetails","xLabel","yLabel","cellElement","RectOption","border","rect","borderColor","rx","ry","CircleOption","cx","cy","Rect","TextOption","basic","labelRotation","baseline","dy","TextBasic","anchor","baseLine","Line","x1","y1","x2","y2","LineOption","line","strokewidth","dasharray","PathAttributes","path","borderWidth","Path","innerR","radius","counterClockWise","DrawSvgCanvas","drawRectangle","properties","parentElement","isFromSeries","enableCanvasRendering","drawCanvasRectangle","canvasRenderer","drawCircle","drawCanvasCircle","drawPath","drawCanvasPath","canvasDrawText","createWrapText","tspanElement","renderOptions","dominant-baseline","createTSpan","drawLine","translateX","translateY","ctx","getOptionValue","save","fillStyle","textAlign","textBaseline","translate","rotate","PI","fillText","restore","setAttributes","canvas","lineWidth","dashArrayString","setLineDash","strokeStyle","canvasCtx","beginPath","globalAlpha","drawCornerRadius","cornerRadius","moveTo","arcTo","closePath","arc","dataSplit","lineTo","Gradient","GradientColor","colorStop","CanvasTooltip","GradientPointer","pathX1","pathY1","pathX2","pathY2","pathX3","pathY3","CurrentLegendRect","LegendRange","currentPage","ToggleVisibility","MultiLevelPosition","Axis","multipleRow","nearSizes","farSizes","maxLabelSize","titleSize","multilevel","axisLabels","tooltipLabels","labelValue","axisLabelSize","axisLabelInterval","dateTimeAxisLabelInterval","maxLength","min","max","isIntersect","jsonCellLabel","multiLevelSize","xAxisMultiLabelHeight","yAxisMultiLabelHeight","multiLevelPosition","computeSize","axis","getTitleSize","getMaxLabelSize","getMultilevelLabelsHeight","multiLevelLabels","multiLevelLabelSize","multiPosition","innerPadding","orientation","level0","level1","isInversed","opposedPosition","labelSize","multiLevel","categoryLabel","categories","size_1","textStyle","gap","startPosition","endPosition","multiLevelLabelsHeight","isVertical","padding","map","heatMapAxis","calculateLeftPosition","calculateWidth","maximumTextWidth","abs","overflow","labels","count","showLabelOn","initialClipRect","labelIntersectAction","enableTrim","startX","previousEnd","previousStart","clearMultipleRow","elementSize","axisInterval","startPoint","endPoint","reverse","labelLength","maxLabelLength","wrappedlabels","labelWidth","wrappedlabelSize","k","calculateNumericAxisLabels","adaptorMin","adaptorMax","adaptorModule","isCellData","adaptiveXMinMax","adaptiveYMinMax","minimum","maximum","temp","labelFormat","match","intl","getNumberFormat","floor","calculateCategoryAxisLabels","calculateDateTimeAxisLabel","option","skeleton","dateParser","getDateParser","dateFormatter","getDateFormat","parse","DataUtil","parseJson","val","getTime","getSkeleton","calculateLabelInterval","getTotalLabelLength","numberOfDays","year","month","day","minutes","difference","days","years","months","hours","clearAxisLabel","AxisHelper","drawSvgCanvas","renderAxes","axisElement","createGroup","axes","axisCollections","drawXAxisLine","drawXAxisTitle","drawXAxisLabels","drawYAxisLine","drawYAxisTitle","drawYAxisLabels","drawMultiLevels","parent","titlepadding","calculateVisibleLabels","axisCollection","data","dataSourceSettings","processLabels","isJsonData","adaptorType","measureAxis","calculateAxisSize","i_1","compactInterval","tempintervel","labelPadding","lableStrtX","labelElement","borderElement","lableRect","wrappedLabel","drawXAxisBorder","rotateSize","yAxis","xAxis","labelInterval","lableStartY","labelRect","axisWidth","indexValue","pop","labelIndex","Browser","isIE","drawYAxisBorder","lableX","endX","endY","startY","endY1","endY2","createAxisBorderElement","lableY","labelBorder","pathOptions","canvasTranslate","renderXAxisMultiLevelLabels","renderYAxisMultiLevelLabels","textLength","pathRect","level","setProperties","alignment","textBasic","i_2","renderXAxisLabelBorder","createBorderElement","renderYAxisLabelBorder","borderIndex","calculateNumberOfDays","date","firstDate","secondDate","givenDate","CellSettings","Series","cellColor","renderRectSeries","createSeriesGroup","isValueInRange","xLength","yLength","tempX","tempY","dataXIndex","dataYIndex","cellSetting","tempWidth","tempHeight","tempVal","tempRectPosition","tempBorder","rectPositionCollection","bubbleColorValue","circleRadius","getBubbleRadius","dataMin","dataMax","setTextAndColor","rectPosition","updateRectDetails","showLabel","getFormatedText","cellRender","cellRendering","renderingMode","renderTileCell","updateLabelVisibleStatus","renderBubbleCell","renderSectorCell","checkLabelXDisplay","checkLabelYDisplay","isFinite","tempCircleRadius","getRadiusBypercentage","rangeSelection","isCellValueInRange","themeCellTextStyle","getSaturatedColor","containerTextObject","containerRectObject","toggleValue","clonedDataSource","bubbleText","xLabels","yLabels","slice","yLabelValue","argData","cancel","name","trigger","adaptData","isColorValueExist","tempBubbleCollection","bubbleDataMapping","bubblePosition","curve","startAngle","endAngle","cX","cY","X1","Y1","tempcX","tempcY","pathBorderWidth","centerX","centerY","tempColor","sectorContibution","cos","sin","sector","calculateShapes","pathString","merge","circle","bubbleSize","valueInPrecentage","isInversedBubbleSize","saturatedColor","rgbValue","backgroundColor","highlightSvgRect","tempID","tempIndex","tempRectHoverClass","enableCellHighlighting","oldElement","rectSelected","setAttribute","getFormat","getCurrentRect","currentRect","firstRectDetails","heatMapSeries","rectX","rectY","hoverXAxisLabel","hoverXAxisValue","hoverYAxisLabel","hoverYAxisValue","TooltipSettings","Tooltip","isFirst","isFadeout","getModuleName","showHideTooltip","isShow","ele","tooltipObject","isRectBoundary","fadeOut","firstChild","destroy","createTooltip","tempTooltipText","select","tooltipSettings","tool","enableAnimation","location","content","template","areaBounds","createTooltipDiv","allowSelection","element2","tooltipElement","getTooltipContent","hetmapSeries","value1","value2","renderTooltip","tooltipRender","tooltipCallback","observedArgs","TwoDimensional","processDataSource","dataSource","tempCloneData","completeDataSource","minVal","maxVal","tempVariable","dataLength","cloneDataIndex","minMaxDatasource","tempSizeArray","tempColorArray","z","processDataArray","minMaxVal","getMinMaxValue","internalArray","tempx","minMaxValue","getMinValue","getMaxValue","performSort","filter","checkmin","LegendSettings","Legend","maxLegendLabelSize","gradientScaleSize","segmentCollections","segmentCollectionsLabels","textWrapCollections","labelCollections","legendSize","previousOptions","listPerPage","numberOfPages","listWidth","fillRect","legendRect","lastList","navigationCollections","pagingRect","listInterval","legendLabelTooltip","legendTitleTooltip","labelXCollections","labelYCollections","legendXCollections","legendYCollections","legendRectPositionCollection","legendTextRange","visibilityCollections","renderLegendItems","legend","rectItems","legendGroup","legendBound","legendRectScale","rectItemsSvg","legendSettings","enableSmartLegend","resizing","legendOnLoad","rendering","clip","grd","ctx_1","horizontalGradient","createLinearGradient","legendMinValue","legendMaxValue","calculateCanvasColorRange","addColorStop","gradientOptions","gradientColor","cgradientColors","calculateColorRange","gradientPercentage","linearGradient","drawGradient","rectItem","renderElements","renderSmartLegend","renderTitle","renderLegendLabel","legendScale","listRect","translategroup","calculateListPerPage","paginggroup","renderListLegendMode","renderColorAxisGrid","gradientColor2","gradientColor3","gradientColor1","smartLegendRect","legendX","legendY","legendWidth","legendHeight","labelDisplayType","colorRangeLegendPosition","labelX","labelPosition","dominantBaseline","textWrapWidth","labelY","legendRectPadding","textPosition","lastChild","clippath","createClipPath","clipRect","renderGradientPointer","e","pageX","pageY","direction","legendPath","cellValue","removeGradientPointer","gradientPointer","keys","clearRect","calculateLegendBounds","legendEventArg","legendRender","calculateTitleBounds","calculateListLegendBounds","listHeight","perListWidth","numberOfRows","calculateLegendSize","legendTop","axisTitlePadding","axisHeight","margin","calculateGradientScale","measureListLegendBound","maxHeight","renderPagingElements","rightArrowX","rightArrowY","textSize","textX","pagingTextRect","rightArrowRect","iconSize","rightArrow","leftX","leftArrow","leftArrowRect","leftOption","rightOption","arrow","rightarrow","scale","titleHeight","calculateColorAxisGrid","legendPart","maxTextWrapLength","segmentWidth","previousSegmentWidth","nextSegmentWidth","legendElement","renderLegendTitleTooltip","textContent","offsetWidth","renderLegendLabelTooltip","targetId","division","legendEventArgs","rectPosition_1","listColor","translatePage","page","isNext","removeChild","childNodes","secondaryCanvasRenderer","initialRect","rectWidth","rectHeight","oldCanvas","newCanvas","rectImage","getContext","getImageData","putImageData","currentLegendRect","inverted","legendRangeSelection","legendPadding","ctx_2","clearSelection","updateLegendRangeCollections","Data","AdaptiveMinMax","Adaptor","reconstructedXAxis","reconstructedYAxis","constructDatasource","completeAdaptDataSource","processJsonTableData","processJsonCellData","constructAdaptiveAxis","processCellData","getNumericAxisCollection","getDateAxisCollection","loopIndex","tempAxisColl","adapData","dataIndex","xDataIndex","yDataIndex","tempDataCollection","currentDataXIndex","currentDataYIndex","reconstructData","xindex","adaptordata","xAxisLabels","yAxisLabels","generateAxisLabels","getSplitDataValue","xDataMapping","yDataMapping","valueMapping","hasXLabels","hasYLabels","hasLabels","dataMapping","tempSplitDataCollection","tempSplitData","splitIndex","ExportUtils","control","export","fileName","image","controlValue","getControlsValue","isCanvas","attrs","isDownload","userAgent","PdfPageOrientation","Landscape","svgData","svg","outerHTML","url","URL","createObjectURL","Blob","XMLSerializer","serializeToString","info","navigator","msSaveOrOpenBlob","toLocaleLowerCase","triggerDownload","createCanvas","toDataURL","exportPdf","doExport","image_1","Image","onload","drawImage","revokeObjectURL","msToBlob","src","download","href","dispatchEvent","MouseEvent","view","bubbles","cancelable","cloneNode","groupEle","renderMode","refresh","PdfDocument","pageSettings","margins","pdfDefaultWidth","pdfDefaultHeight","imageString","exactWidth","exactHeight","SizeF","pages","add","graphics","PdfBitmap","images","fileType","exportImage","buffers","HTMLElement","image1","byteString","atob","buffer","ArrayBuffer","intArray","Uint8Array","charCodeAt","print","printWindow","open","outerHeight","outerWidth","resizeTo","screen","availWidth","availHeight","getHTMLContent","dataUrl","image_2","div","HeatMap","isCellTapHold","selectedCellCount","multiSelection","previousSelectedCellsRect","multiCellCollection","selectedMultiCellCollection","tempMultiCellCollection","preRender","initPrivateVariable","unWireEvents","wireEvents","CanvasRenderer","twoDimensional","tempTooltipRectId","setCulture","Internationalization","render","updateBubbleHelperProperty","textSettings","initAxis","processInitData","setTheme","calculateMaxLength","calculateBounds","appendSvgObject","tooltipModule","renderComplete","reRenderDatasource","setRenderMode","renderSecondaryElement","renderBorder","getPersistData","onPropertyChanged","newProp","oldProp","refreshBounds","isUpdateSelection","_a","paletteCellSelectionUpdation","refreshBound","updateCellSelection","removeSvg","calculateSize","createMultiCellDiv","tooltipDiv","divElement","requiredModules","modules","member","args","touchInstance","innerHTML","classList","offsetHeight","alignElement","parentNode","tagName","align","containerWidth","titleTooltip","event","axisTooltip","tooltipText","isHeatmapRect","isRect","lastRectDetails","titleRect","isIE11Pointer","isPointer","touchStartEvent","stop","touchEndEvent","move","touchMoveEvent","EventHandler","isDevice","heatMapMouseClick","heatMapMouseDoubleClick","heatMapMouseMove","heatMapMouseLeave","resizeEvent","heatMapResize","bind","addEventListener","Touch","tapHold","originalEvent","ctrlKey","enableMultiSelect","removeSelectedCellsBorder","getDataCollection","setCellOpacity","tooltipOnMouseMove","tap","isCellTap","setStyle","touchAction","zoom","userSelect","webkitUserSelect","display","removeEventListener","currentSize","previousSize","resizeTimer","clearTimeout","isDestroyed","wSize","hSize","topPositions","bottomPositions","rightPosition","leftPosition","containersRect","containerText","cellIndex","getText","addSvgClass","clearSVGSelection","elementClassName","getAttribute","removeSvgClass","xAxisMax","yAxisMax","length_1","setMouseXY","svgCanvasRect","mouseX","mouseY","triggerClickEvent","isDoubleClick","touchArg","elementRect","changedTouches","clientY","clientX","notify","loop","toggleVisibility","mouseAction","isheatmapRect","showGradientPointer","renderMousePointer","isshowTooltip","which","cellSelectionOnMouseMove","tooltipRect","previousRect","initialCellX","initialCellY","preventDefault","highlightSelectedCells","tooltipTimer","pXIndex","pYIndex","cXIndex","cYIndex","selectedCellsRect","parentDiv","minX","maxX","minY","maxY","cellX","cellY","getCellCollection","checkSelectedCells","canvasSelectedCells","singleCellData","getSelectedCellData","rects","containerRect","highlightSelectedAreaInCanvas","topPosition","bottomPosition","cellCollection","cellDetails","rectElement","splice","className","cursor","legendLabelTooltipContainer","selectionRect","rectBound","getClientRects","tooltipElement_1","legendTooltipTimer","gradientTimer","main","removeOpacity","collectionClasss","onLoad","zIndex","secondaryCanvas","Event","NotifyPropertyChanges","Component","index.HeatMap","Inject","index.Legend","index.Tooltip","index.Adaptor"],"mappings":"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"}