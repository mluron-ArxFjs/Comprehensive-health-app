{"version":3,"file":"ej2-heatmap.umd.min.js","sources":["../src/heatmap/utils/helper.js","../src/heatmap/model/theme.js","../src/heatmap/model/base.js","../src/heatmap/utils/colorMapping.js","../src/heatmap/axis/axis.js","../src/heatmap/axis/axis-helpers.js","../src/heatmap/series/series.js","../src/heatmap/utils/tooltip.js","../src/heatmap/datasource/twodimensional.js","../src/heatmap/legend/legend.js","../src/heatmap/datasource/adaptor.js","../src/heatmap/utils/export.js","../src/heatmap/heatmap.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { remove, createElement, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { SvgRenderer } from '@syncfusion/ej2-svg-base';\nimport { RgbColor } from '../utils/colorMapping';\n/**\n * Function to check whether target object implement specific interface\n *\n * @param  {string} value - specifies the value\n * @param  {number} containerSize - specifies the containerSize\n * @returns {number} returns the number\n * @hidden\n */\nexport function stringToNumber(value, containerSize) {\n    if (value !== null && value !== undefined) {\n        return value.indexOf('%') !== -1 ? (containerSize / 100) * parseInt(value, 10) : parseInt(value, 10);\n    }\n    return null;\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param  {string} text - specifies the text\n * @param  {FontModel} font - specifies the font\n * @returns {Size} returns the number\n * @hidden\n */\nexport function measureText(text, font) {\n    var htmlObject = document.getElementById('heatmapmeasuretext');\n    if (htmlObject === null) {\n        htmlObject = createElement('text', { id: 'heatmapmeasuretext' });\n        document.body.appendChild(htmlObject);\n    }\n    htmlObject.innerText = text;\n    htmlObject.style.position = 'absolute';\n    htmlObject.style.visibility = 'hidden';\n    htmlObject.style.fontSize = (font.size).indexOf('px') !== -1 ? font.size : font.size + 'px';\n    htmlObject.style.fontWeight = font.fontWeight;\n    htmlObject.style.fontStyle = font.fontStyle;\n    htmlObject.style.fontFamily = font.fontFamily;\n    htmlObject.style.top = '-100';\n    htmlObject.style.left = '0';\n    htmlObject.style.whiteSpace = 'nowrap';\n    // For bootstrap line height issue\n    htmlObject.style.lineHeight = 'normal';\n    return new Size(htmlObject.clientWidth, htmlObject.clientHeight);\n}\n/** @private */\nvar TextElement = /** @class */ (function () {\n    function TextElement(fontModel, fontColor) {\n        this['font-size'] = fontModel.size;\n        this['font-style'] = fontModel.fontStyle.toLowerCase();\n        this['font-family'] = fontModel.fontFamily;\n        this['font-weight'] = fontModel.fontWeight.toLowerCase();\n        this.fill = fontColor ? fontColor : '';\n    }\n    return TextElement;\n}());\nexport { TextElement };\n/**\n * Function to check whether target object implement specific interface\n *\n * @param  {number} width - specifies the text\n * @param  {number} leftPadding - specifies the font\n * @param  {number} rightPadding - specifies the font\n * @param  {FontModel} titleStyle - specifies the font\n * @returns {number} returns the number\n * @hidden\n */\nexport function titlePositionX(width, leftPadding, rightPadding, titleStyle) {\n    var positionX;\n    if (titleStyle.textAlignment === 'Near') {\n        positionX = leftPadding;\n    }\n    else if (titleStyle.textAlignment === 'Center') {\n        positionX = leftPadding + width / 2;\n    }\n    else {\n        positionX = width + leftPadding;\n    }\n    return positionX;\n}\n/**\n * Specifies the size information of an element.\n */\nvar Size = /** @class */ (function () {\n    /** @private */\n    function Size(width, height) {\n        this.width = width;\n        this.height = height;\n    }\n    return Size;\n}());\nexport { Size };\n/** @private */\nvar CustomizeOption = /** @class */ (function () {\n    function CustomizeOption(id) {\n        this.id = id;\n    }\n    return CustomizeOption;\n}());\nexport { CustomizeOption };\n/** @private */\nvar PathOption = /** @class */ (function (_super) {\n    __extends(PathOption, _super);\n    function PathOption(id, fill, width, color, opacity, dashArray, d) {\n        var _this = _super.call(this, id) || this;\n        _this.opacity = opacity;\n        _this.fill = fill;\n        _this.stroke = color ? color : '';\n        _this['stroke-width'] = parseFloat(width.toString());\n        _this['stroke-dasharray'] = dashArray;\n        _this.d = d;\n        return _this;\n    }\n    return PathOption;\n}(CustomizeOption));\nexport { PathOption };\n/**\n * Class to define currentRect private property.\n *\n * @private\n */\nvar CurrentRect = /** @class */ (function () {\n    function CurrentRect(x, y, width, height, value, id, xIndex, yIndex, xValue, yValue, visible, displayText, textId, allowCollection) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.value = value;\n        this.id = id;\n        this.xIndex = xIndex;\n        this.yIndex = yIndex;\n        this.xValue = xValue;\n        this.yValue = yValue;\n        this.visible = visible;\n        this.displayText = displayText;\n        this.textId = textId;\n        /** @private */\n        this.allowCollection = allowCollection;\n    }\n    return CurrentRect;\n}());\nexport { CurrentRect };\n/**\n * Specifies the details of the selected cells.\n */\nvar SelectedCellDetails = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function SelectedCellDetails(value, xLabel, yLabel, xValue, yValue, cellElement, xPosition, yPosition, width, height, x, y) {\n        this.value = value;\n        this.xLabel = xLabel;\n        this.yLabel = yLabel;\n        this.xValue = xValue;\n        this.yValue = yValue;\n        this.cellElement = cellElement;\n        this.xPosition = xPosition;\n        this.yPosition = yPosition;\n        this.width = width;\n        this.height = height;\n        this.x = x;\n        this.y = y;\n    }\n    return SelectedCellDetails;\n}());\nexport { SelectedCellDetails };\n/**\n * Class to define property to draw rectangle.\n *\n * @private\n */\nvar RectOption = /** @class */ (function (_super) {\n    __extends(RectOption, _super);\n    function RectOption(id, fill, border, opacity, rect, borderColor, rx, ry, transform, dashArray) {\n        var _this = _super.call(this, id, fill, border.width, borderColor, opacity, dashArray) || this;\n        _this.y = rect.y;\n        _this.x = rect.x;\n        _this.height = rect.height > 0 ? rect.height : 0;\n        _this.width = rect.width > 0 ? rect.width : 0;\n        _this.rx = rx ? rx : 0;\n        _this.ry = ry ? ry : 0;\n        _this.transform = transform ? transform : '';\n        return _this;\n    }\n    return RectOption;\n}(PathOption));\nexport { RectOption };\n/**\n * Class to define property to draw circle.\n *\n * @private\n */\nvar CircleOption = /** @class */ (function (_super) {\n    __extends(CircleOption, _super);\n    function CircleOption(id, fill, border, opacity, borderColor, cx, cy, r) {\n        var _this = _super.call(this, id, fill, border.width, borderColor, opacity) || this;\n        _this.cx = cx ? cx : 0;\n        _this.cy = cy ? cy : 0;\n        _this.r = r ? r : 0;\n        return _this;\n    }\n    return CircleOption;\n}(PathOption));\nexport { CircleOption };\n/**\n * Helper Class to define property to draw rectangle.\n *\n * @private\n */\nvar Rect = /** @class */ (function () {\n    function Rect(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n    return Rect;\n}());\nexport { Rect };\n/**\n * Class to define property to draw text.\n *\n * @private\n */\nvar TextOption = /** @class */ (function (_super) {\n    __extends(TextOption, _super);\n    function TextOption(id, basic, element, fontColor) {\n        var _this = _super.call(this, element, fontColor) || this;\n        _this.transform = '';\n        _this['dominant-baseline'] = 'auto';\n        _this.labelRotation = 0;\n        _this.baseline = 'auto';\n        _this.id = id;\n        _this.x = basic.x;\n        _this.y = basic.y;\n        _this['text-anchor'] = basic['text-anchor'];\n        _this.text = basic.text;\n        _this.transform = basic.transform;\n        _this.labelRotation = basic.labelRotation;\n        _this['dominant-baseline'] = basic['dominant-baseline'];\n        _this.baseline = basic.baseline;\n        _this.dy = basic.dy;\n        return _this;\n    }\n    return TextOption;\n}(TextElement));\nexport { TextOption };\n/**\n * Helper Class to define property to draw text.\n *\n * @private\n */\nvar TextBasic = /** @class */ (function () {\n    function TextBasic(x, y, anchor, text, labelRotation, transform, baseLine, dy) {\n        this.transform = '';\n        this['dominant-baseline'] = 'auto';\n        this.labelRotation = 0;\n        this.baseline = 'auto';\n        this.x = x ? x : 0;\n        this.y = y ? y : 0;\n        this['text-anchor'] = anchor ? anchor : 'start';\n        this.text = text ? text : '';\n        this.transform = transform ? transform : '';\n        this.labelRotation = labelRotation;\n        this['dominant-baseline'] = baseLine ? baseLine : 'auto';\n        this.baseline = baseLine ? baseLine : '';\n        this.dy = dy ? dy : '';\n    }\n    return TextBasic;\n}());\nexport { TextBasic };\n/**\n * Class to define property to draw line.\n *\n * @private\n */\nvar Line = /** @class */ (function () {\n    function Line(x1, y1, x2, y2) {\n        this.x1 = x1;\n        this.y1 = y1;\n        this.x2 = x2;\n        this.y2 = y2;\n    }\n    return Line;\n}());\nexport { Line };\n/**\n * Class to define property to draw line.\n *\n * @private\n */\nvar LineOption = /** @class */ (function (_super) {\n    __extends(LineOption, _super);\n    function LineOption(id, line, stroke, strokewidth, opacity, dasharray) {\n        var _this = _super.call(this, id, null, strokewidth, stroke, opacity, dasharray, null) || this;\n        _this.x1 = line.x1;\n        _this.y1 = line.y1;\n        _this.x2 = line.x2;\n        _this.y2 = line.y2;\n        return _this;\n    }\n    return LineOption;\n}(PathOption));\nexport { LineOption };\n/**\n * Properties required to render path.\n *\n * @private\n */\nvar PathAttributes = /** @class */ (function (_super) {\n    __extends(PathAttributes, _super);\n    function PathAttributes(id, path, fill, border, borderWidth, opacity, borderColor) {\n        var _this = _super.call(this, id, fill, borderWidth, borderColor, opacity, null) || this;\n        _this.d = path.d;\n        _this.x = path.x;\n        _this.y = path.y;\n        return _this;\n    }\n    return PathAttributes;\n}(PathOption));\nexport { PathAttributes };\n/**\n * Helper Class to define property to path.\n *\n * @private\n */\nvar Path = /** @class */ (function () {\n    function Path(d, innerR, x, y, x1, y1, cx, cy, start, end, radius, counterClockWise) {\n        this.d = d;\n        this.innerR = innerR;\n        this.cx = cx;\n        this.cy = cy;\n        this.x = x;\n        this.y = y;\n        this.x1 = x1;\n        this.y1 = y1;\n        this.start = start;\n        this.end = end;\n        this.radius = radius;\n        this.counterClockWise = counterClockWise;\n    }\n    return Path;\n}());\nexport { Path };\n/**\n * Function to check whether target object implement specific interface\n *\n * @param  {number} values - specifies the values\n * @returns {number} returns the number\n * @hidden\n */\nexport function sum(values) {\n    var sum = 0;\n    for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n        var value = values_1[_i];\n        sum += value;\n    }\n    return sum;\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { Size } heatmapSize - Specifies the heatmapsize\n * @param { number } topPadding - Specifies the topPadding\n * @param { number }  bottomPadding - Specifies the bottomPadding\n * @param { FontModel } titleStyle - Specifies the titleStyle\n * @returns {number} returns the number\n * @private\n */\nexport function titlePositionY(heatmapSize, topPadding, bottomPadding, titleStyle) {\n    var positionY;\n    if (titleStyle.textAlignment === 'Near') {\n        positionY = heatmapSize.height - bottomPadding;\n    }\n    else if (titleStyle.textAlignment === 'Center') {\n        positionY = heatmapSize.height / 2;\n    }\n    else {\n        positionY = topPadding;\n    }\n    return positionY;\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { FontModel } font - Specifies the heatmapsize\n * @param { string } text - Specifies the topPadding\n * @param { number }  angle - Specifies the bottomPadding\n * @returns {Size} returns the size\n * @private\n */\nexport function rotateTextSize(font, text, angle) {\n    var renderer = new SvgRenderer('heatmapMeasureRotateText');\n    var svgObject = renderer.createSvg({ id: 'heatmapMeasureRotateText_svg', width: 100, height: 100 });\n    var options = {\n        'font-size': font.size,\n        'font-style': font.fontStyle.toLowerCase(),\n        'font-family': font.fontFamily,\n        'font-weight': font.fontWeight.toLowerCase(),\n        'transform': 'rotate(' + angle + ', 0, 0)',\n        'text-anchor': 'middle'\n    };\n    var htmlObject = renderer.createText(options, text);\n    svgObject.appendChild(htmlObject);\n    document.body.appendChild(svgObject);\n    var box = htmlObject.getBoundingClientRect();\n    remove(svgObject);\n    return new Size((box.right - box.left), (box.bottom - box.top));\n}\n/**\n * Class to draw SVG and Canvas Rectangle & Text.\n *\n * @private\n */\nvar DrawSvgCanvas = /** @class */ (function () {\n    function DrawSvgCanvas(heatmap) {\n        this.heatMap = heatmap;\n    }\n    //Svg & Canvas Rectangle Part\n    DrawSvgCanvas.prototype.drawRectangle = function (properties, parentElement, isFromSeries) {\n        if (!this.heatMap.enableCanvasRendering) {\n            delete properties.d;\n            parentElement.appendChild(this.heatMap.renderer.drawRectangle(properties));\n        }\n        else {\n            this.drawCanvasRectangle(this.heatMap.canvasRenderer, properties, isFromSeries);\n        }\n    };\n    //Svg & Canvas Bubble Part\n    DrawSvgCanvas.prototype.drawCircle = function (properties, parentElement) {\n        if (!this.heatMap.enableCanvasRendering) {\n            delete properties.d;\n            parentElement.appendChild(this.heatMap.renderer.drawCircle(properties));\n        }\n        else {\n            this.drawCanvasCircle(this.heatMap.canvasRenderer, properties);\n        }\n    };\n    //Svg & Canvas Pie Part\n    DrawSvgCanvas.prototype.drawPath = function (properties, options, parentElement) {\n        if (!this.heatMap.enableCanvasRendering) {\n            delete properties.x;\n            delete properties.y;\n            parentElement.appendChild(this.heatMap.renderer.drawPath(properties));\n        }\n        else {\n            this.drawCanvasPath(this.heatMap.canvasRenderer, properties, options);\n        }\n    };\n    //Svg & Canvas Text Part\n    DrawSvgCanvas.prototype.createText = function (properties, parentElement, text) {\n        if (!this.heatMap.enableCanvasRendering) {\n            delete properties.labelRotation;\n            delete properties.baseline;\n            delete properties.text;\n            parentElement.appendChild(this.heatMap.renderer.createText(properties, text));\n            properties.text = text;\n        }\n        else {\n            this.canvasDrawText(properties, text);\n        }\n    };\n    //Draw the wrapped text for both SVG & canvas\n    DrawSvgCanvas.prototype.createWrapText = function (options, font, parentElement) {\n        var renderOptions = {};\n        var htmlObject;\n        var tspanElement;\n        var height;\n        renderOptions = {\n            'id': options.id,\n            'x': options.x,\n            'y': options.y,\n            'fill': options.fill,\n            'font-size': font.size,\n            'font-style': font.fontStyle,\n            'font-family': font.fontFamily,\n            'font-weight': font.fontWeight.toLowerCase(),\n            'text-anchor': options['text-anchor'],\n            'transform': options.transform,\n            'dominant-baseline': options['dominant-baseline']\n        };\n        var text = options.text[0];\n        if (!this.heatMap.enableCanvasRendering) {\n            htmlObject = this.heatMap.renderer.createText(renderOptions, text);\n        }\n        else {\n            this.heatMap.canvasRenderer.createText(options, text);\n        }\n        if (typeof options.text !== 'string' && options.text.length > 1) {\n            for (var i = 1, len = options.text.length; i < len; i++) {\n                height = (measureText(options.text[i], font).height);\n                if (!this.heatMap.enableCanvasRendering) {\n                    tspanElement = this.heatMap.renderer.createTSpan({\n                        'x': options.x, 'id': options.id + i,\n                        'y': (options.y) + (i * height)\n                    }, options.text[i]);\n                    htmlObject.appendChild(tspanElement);\n                }\n                else {\n                    options.id = options.id + i;\n                    options.y += height;\n                    this.heatMap.canvasRenderer.createText(options, options.text[i]);\n                }\n            }\n        }\n        if (!this.heatMap.enableCanvasRendering) {\n            parentElement.appendChild(htmlObject);\n        }\n    };\n    DrawSvgCanvas.prototype.drawLine = function (properties, parentElement) {\n        if (!this.heatMap.enableCanvasRendering) {\n            delete properties.d;\n            parentElement.appendChild(this.heatMap.renderer.drawLine(properties));\n        }\n        else {\n            this.heatMap.canvasRenderer.drawLine(properties);\n        }\n    };\n    //Canvas Text Part\n    DrawSvgCanvas.prototype.canvasDrawText = function (options, label, translateX, translateY) {\n        var ctx = this.heatMap.canvasRenderer.ctx;\n        if (!translateX) {\n            translateX = options.x;\n        }\n        if (!translateY) {\n            translateY = options.y;\n        }\n        var fontWeight = this.getOptionValue(options, 'font-weight');\n        if (!isNullOrUndefined(fontWeight) && fontWeight.toLowerCase() === 'regular') {\n            fontWeight = 'normal';\n        }\n        var fontFamily = this.getOptionValue(options, 'font-family');\n        var fontSize = (options['font-size'].toString()).indexOf('px') === -1 ? options['font-size'] + 'px' : options['font-size'];\n        var anchor = this.getOptionValue(options, 'text-anchor');\n        var fontStyle = this.getOptionValue(options, 'font-style').toLowerCase();\n        var font = (fontStyle + ' ' + fontWeight + ' ' + fontSize + ' ' + fontFamily);\n        if (anchor === 'middle') {\n            anchor = 'center';\n        }\n        ctx.save();\n        ctx.fillStyle = options.fill;\n        ctx.font = font;\n        ctx.textAlign = anchor;\n        if (options.baseline) {\n            ctx.textBaseline = options.baseline;\n        }\n        ctx.translate(translateX, translateY);\n        ctx.rotate(options.labelRotation * Math.PI / 180);\n        ctx.fillText(label, options.x - translateX, options.y - translateY);\n        ctx.restore();\n    };\n    // method to get the attributes value\n    /* tslint:disable */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    DrawSvgCanvas.prototype.getOptionValue = function (options, key) {\n        return options[key];\n    };\n    DrawSvgCanvas.prototype.setAttributes = function (canvas, options) {\n        canvas.ctx.lineWidth = options['stroke-width'];\n        var dashArray = options['stroke-dasharray'];\n        if (!isNullOrUndefined(dashArray)) {\n            var dashArrayString = dashArray.split(',');\n            canvas.ctx.setLineDash([parseInt(dashArrayString[0], 10), parseInt(dashArrayString[1], 10)]);\n        }\n        canvas.ctx.strokeStyle = options['stroke'];\n    };\n    DrawSvgCanvas.prototype.drawCanvasRectangle = function (canvas, options, isFromSeries) {\n        var canvasCtx = canvas.ctx;\n        canvas.ctx.save();\n        canvas.ctx.beginPath();\n        canvas.ctx.globalAlpha = options['opacity'];\n        this.setAttributes(canvas, options);\n        this.drawCornerRadius(canvas, options);\n        if ((options['stroke-width'] && options['stroke-width'] !== 0) || isFromSeries) {\n            canvas.ctx.stroke();\n        }\n        canvas.ctx.restore();\n        canvas.ctx = canvasCtx;\n    };\n    // To draw the corner of a rectangle\n    DrawSvgCanvas.prototype.drawCornerRadius = function (canvas, options) {\n        var cornerRadius = options.rx;\n        var x = options.x;\n        var y = options.y;\n        var width = options.width;\n        var height = options.height;\n        if (options.fill === 'none') {\n            options.fill = 'transparent';\n        }\n        canvas.ctx.fillStyle = options.fill;\n        if (width < 2 * cornerRadius) {\n            cornerRadius = width / 2;\n        }\n        if (height < 2 * cornerRadius) {\n            cornerRadius = height / 2;\n        }\n        canvas.ctx.beginPath();\n        canvas.ctx.moveTo(x + width - cornerRadius, y);\n        canvas.ctx.arcTo(x + width, y, x + width, y + height, cornerRadius);\n        canvas.ctx.arcTo(x + width, y + height, x, y + height, cornerRadius);\n        canvas.ctx.arcTo(x, y + height, x, y, cornerRadius);\n        canvas.ctx.arcTo(x, y, x + width, y, cornerRadius);\n        canvas.ctx.closePath();\n        canvas.ctx.fill();\n    };\n    DrawSvgCanvas.prototype.drawCanvasCircle = function (canvas, options) {\n        canvas.ctx.save();\n        canvas.ctx.beginPath();\n        canvas.ctx.arc(options.cx, options.cy, options.r, 0, 2 * Math.PI);\n        canvas.ctx.fillStyle = options.fill;\n        canvas.ctx.globalAlpha = options.opacity;\n        canvas.ctx.fill();\n        this.setAttributes(canvas, options);\n        if (options['stroke-width'] && options['stroke-width'] !== 0) {\n            canvas.ctx.stroke();\n        }\n        canvas.ctx.restore();\n    };\n    DrawSvgCanvas.prototype.drawCanvasPath = function (canvas, properties, options) {\n        var path = properties.d;\n        var dataSplit = path.split(' ');\n        canvas.ctx.save();\n        canvas.ctx.beginPath();\n        canvas.ctx.globalAlpha = properties.opacity;\n        canvas.ctx.fillStyle = properties.fill;\n        this.setAttributes(canvas, properties);\n        for (var i = 0; i < dataSplit.length; i = i + 3) {\n            var x1 = parseFloat(dataSplit[i + 1]);\n            var y1 = parseFloat(dataSplit[i + 2]);\n            switch (dataSplit[i]) {\n                case 'M':\n                    canvas.ctx.moveTo(x1, y1);\n                    break;\n                case 'L':\n                    canvas.ctx.lineTo(x1, y1);\n                    break;\n                case 'A':\n                case 'a':\n                    canvas.ctx.arc(options.x, options.y, options.radius, (options.start * 0.0174533), (options.end * 0.0174533), false);\n                    i = dataSplit[i] === 'a' ? i + 13 : i + 5;\n                    break;\n                case 'Z':\n                    canvas.ctx.closePath();\n                    break;\n            }\n        }\n        canvas.ctx.fill();\n        if (properties['stroke-width'] && properties['stroke-width'] !== 0) {\n            canvas.ctx.stroke();\n        }\n        canvas.ctx.restore();\n    };\n    return DrawSvgCanvas;\n}());\nexport { DrawSvgCanvas };\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { string } title - Specifies the heatmapsize\n * @param { FontModel } style - Specifies the topPadding\n * @param { number }  width - Specifies the bottomPadding\n * @returns {string} returns the size\n * @private\n */\nexport function getTitle(title, style, width) {\n    var titleCollection = [];\n    switch (style.textOverflow) {\n        case 'Wrap':\n            titleCollection = textWrap(title, width, style);\n            break;\n        case 'Trim':\n            titleCollection.push(textTrim(width, title, style));\n            break;\n        default:\n            titleCollection.push(textNone(width, title, style));\n            break;\n    }\n    return titleCollection;\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { string } currentLabel - Specifies the heatmapsize\n * @param { number } maximumWidth - Specifies the topPadding\n * @param { FontModel }  font - Specifies the bottomPadding\n * @returns {string} returns the size\n * @private\n */\nexport function textWrap(currentLabel, maximumWidth, font) {\n    var textCollection = currentLabel.split(' ');\n    var label = '';\n    var labelCollection = [];\n    var text;\n    for (var i = 0, len = textCollection.length; i < len; i++) {\n        text = textCollection[i];\n        if (measureText(label.concat(text), font).width < maximumWidth) {\n            label = label.concat((label === '' ? '' : ' ') + text);\n        }\n        else {\n            if (label !== '') {\n                labelCollection.push(textTrim(maximumWidth, label, font));\n                label = text;\n            }\n            else {\n                labelCollection.push(textTrim(maximumWidth, text, font));\n                text = '';\n            }\n        }\n        if (label && i === len - 1) {\n            labelCollection.push(textTrim(maximumWidth, label, font));\n        }\n    }\n    return labelCollection;\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { number } maxWidth - Specifies the heatmapsize\n * @param { string } text - Specifies the topPadding\n * @param { FontModel }  font - Specifies the bottomPadding\n * @returns {string} returns the size\n * @private\n */\nexport function textTrim(maxWidth, text, font) {\n    var label = text;\n    var size = measureText(text, font).width;\n    if (size > maxWidth) {\n        var textLength = text.length;\n        for (var index = textLength - 1; index >= 0; --index) {\n            label = text.substring(0, index) + '...';\n            size = measureText(label, font).width;\n            if (size <= maxWidth) {\n                return label;\n            }\n        }\n    }\n    return label;\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { number } maxWidth - Specifies the heatmapsize\n * @param { string } text - Specifies the topPadding\n * @param { FontModel }  font - Specifies the bottomPadding\n * @returns {string} returns the size\n * @private\n */\nexport function textNone(maxWidth, text, font) {\n    var label = text;\n    var size = measureText(text, font).width;\n    if (size > maxWidth) {\n        var textLength = text.length;\n        for (var i = textLength - 1; i >= 0; --i) {\n            label = text.substring(0, i);\n            size = measureText(label, font).width;\n            if (size <= maxWidth) {\n                return label;\n            }\n        }\n    }\n    return label;\n}\n/** @private */\nvar Gradient = /** @class */ (function () {\n    function Gradient(x, x1, x2, y1, y2) {\n        this.id = x;\n        this.x1 = x1;\n        this.x2 = x2;\n        this.y1 = y1;\n        this.y2 = y2;\n    }\n    return Gradient;\n}());\nexport { Gradient };\nvar GradientColor = /** @class */ (function () {\n    function GradientColor(color, colorStop) {\n        this.color = color;\n        this.colorStop = colorStop;\n    }\n    return GradientColor;\n}());\nexport { GradientColor };\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { string } text - Specifies the heatmapsize\n * @param { number } x - Specifies the topPadding\n * @param { number }  y - Specifies the bottomPadding\n * @param { number }  areaWidth - Specifies the bottomPadding\n * @param { string }  id - Specifies the bottomPadding\n * @param { Element }  element - Specifies the bottomPadding\n * @param { boolean }  isTouch - Specifies the bottomPadding\n * @param { HeatMap }  heatmap - Specifies the bottomPadding\n * @returns {void} returns the size\n * @private\n */\nexport function showTooltip(text, x, y, areaWidth, id, element, isTouch, heatmap) {\n    var tooltip = document.getElementById(id);\n    var size = measureText(text, {\n        fontFamily: 'Segoe UI', size: '12px',\n        fontStyle: 'Normal', fontWeight: 'Regular'\n    });\n    var width = size.width + 5;\n    x = (x + width > areaWidth) ? x - width : x;\n    x = x < 0 ? 5 : x;\n    if (!tooltip) {\n        tooltip = createElement('div', { id: id });\n        tooltip.style.cssText = 'top:' + (y + 15).toString() + 'px;left:' + (x + 15).toString() +\n            'px;background-color: rgb(255, 255, 255) !important; color:black !important; ' +\n            'position:absolute;border:1px solid rgb(112, 112, 112); padding-left : 3px; padding-right : 2px;' +\n            'padding-bottom : 2px; padding-top : 2px; font-size:12px; font-family: Segoe UI';\n        tooltip.innerText = text;\n        element.appendChild(tooltip);\n    }\n    else {\n        tooltip.innerText = text;\n        tooltip.style.top = (y + 15).toString() + 'px';\n        tooltip.style.left = (x + 15).toString() + 'px';\n    }\n    if (text === heatmap.titleSettings.text) {\n        tooltip.style.width = (x + 15) + size.width + 7 > heatmap.availableSize.width ?\n            (heatmap.availableSize.width - (x + 15)).toString() + 'px' : '';\n    }\n    else {\n        tooltip.style.left = (x + 15) + size.width + 7 > heatmap.availableSize.width ?\n            (heatmap.availableSize.width - (size.width + 7)).toString() + 'px' : x.toString() + 'px';\n        tooltip.style.top = (y + 15) + size.height + 6 > heatmap.availableSize.height ?\n            (y - (size.height + 6) - 10).toString() + 'px' : tooltip.style.top; // 6 and 7 are padding and border width\n    }\n    if (isTouch) {\n        setTimeout(function () { removeElement(id); }, 1500);\n    }\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { string }  id - Specifies the bottomPadding\n * @returns {void} returns the size\n * @private\n */\nexport function removeElement(id) {\n    var element = getElement(id);\n    if (element) {\n        remove(element);\n        removeMeasureElement();\n    }\n}\n/**\n * @private\n */\nexport function removeMeasureElement() {\n    removeElement('heatmapmeasuretext');\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { string }  id - Specifies the bottomPadding\n * @returns {Element} returns the size\n * @private\n */\nexport function getElement(id) {\n    return document.getElementById(id);\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { number } value - Specifies the topPadding\n * @param { number }  interval - Specifies the bottomPadding\n * @param { string } intervalType - Specifies the heatmapsize\n * @param { number }  increment - Specifies the bottomPadding\n * @returns {Date} returns the size\n * @private\n */\nexport function increaseDateTimeInterval(value, interval, intervalType, increment) {\n    var result = new Date(value);\n    interval = Math.ceil(interval * increment);\n    switch (intervalType) {\n        case 'Years':\n            result.setFullYear(result.getFullYear() + interval);\n            break;\n        case 'Months':\n            result.setMonth(result.getMonth() + interval);\n            break;\n        case 'Days':\n            result.setDate(result.getDate() + interval);\n            break;\n        case 'Hours':\n            result.setHours(result.getHours() + interval);\n            break;\n        case 'Minutes':\n            result.setMinutes(result.getMinutes() + interval);\n            break;\n    }\n    return result;\n}\n/* private */\nvar CanvasTooltip = /** @class */ (function () {\n    function CanvasTooltip(text, rect) {\n        this.region = new Rect(0, 0, 0, 0);\n        this.text = text;\n        this.region = rect;\n    }\n    return CanvasTooltip;\n}());\nexport { CanvasTooltip };\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { CanvasTooltip } tooltipCollection - Specifies the topPadding\n * @param { number }  xPosition - Specifies the bottomPadding\n * @param { number } yPosition - Specifies the heatmapsize\n * @returns {string} returns the size\n * @private\n */\nexport function getTooltipText(tooltipCollection, xPosition, yPosition) {\n    var length = tooltipCollection.length;\n    var tooltip;\n    var region;\n    var text;\n    for (var i = 0; i < length; i++) {\n        tooltip = tooltipCollection[i];\n        region = tooltip.region;\n        if (xPosition >= region.x && xPosition <= (region.x + region.width) && yPosition >= region.y\n            && yPosition <= (region.y + region.height)) {\n            text = tooltip.text;\n            break;\n        }\n    }\n    return text;\n}\n/**\n * @private\n */\nvar PaletterColor = /** @class */ (function () {\n    function PaletterColor() {\n    }\n    return PaletterColor;\n}());\nexport { PaletterColor };\n/**\n * @private\n */\nvar GradientPointer = /** @class */ (function () {\n    function GradientPointer(pathX1, pathY1, pathX2, pathY2, pathX3, pathY3) {\n        this.pathX1 = pathX1;\n        this.pathY1 = pathY1;\n        this.pathX2 = pathX2;\n        this.pathY2 = pathY2;\n        this.pathX3 = pathX3;\n        this.pathY3 = pathY3;\n    }\n    return GradientPointer;\n}());\nexport { GradientPointer };\n/**\n * Class to define currentRect private property.\n *\n * @private\n */\nvar CurrentLegendRect = /** @class */ (function () {\n    function CurrentLegendRect(x, y, width, height, label, id) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.label = label;\n        this.id = id;\n    }\n    return CurrentLegendRect;\n}());\nexport { CurrentLegendRect };\n/** @private */\nvar LegendRange = /** @class */ (function () {\n    function LegendRange(x, y, width, height, value, visible, currentPage) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.value = value;\n        this.visible = visible;\n        this.currentPage = currentPage;\n    }\n    return LegendRange;\n}());\nexport { LegendRange };\n/** @private */\nvar ToggleVisibility = /** @class */ (function () {\n    function ToggleVisibility(visible, value, startValue, endValue) {\n        this.visible = visible;\n        this.value = value;\n        this.startValue = startValue;\n        this.endValue = endValue;\n    }\n    return ToggleVisibility;\n}());\nexport { ToggleVisibility };\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { string } color - Specifies the topPadding\n * @returns {string} returns the size\n * @private\n */\nexport function colorNameToHex(color) {\n    color = color === 'transparent' ? 'white' : color;\n    var element = document.getElementById('heatmapmeasuretext');\n    element.style.color = color;\n    color = window.getComputedStyle(element).color;\n    var isRGBValue = color.replace(/[()RGBrgba ]/g, '').split(',');\n    return convertToHexCode(new RgbColor(parseInt(isRGBValue[0], 10), parseInt(isRGBValue[1], 10), parseInt(isRGBValue[2], 10)));\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { RgbColor } value - Specifies the topPadding\n * @returns {string} returns the size\n * @private\n */\nexport function convertToHexCode(value) {\n    return '#' + componentToHex(value.R) + componentToHex(value.G) + componentToHex(value.B);\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { number }  value - Specifies the bottomPadding\n * @returns {string} returns the size\n * @private\n */\nexport function componentToHex(value) {\n    var hex = value.toString(16);\n    return hex.length === 1 ? '0' + hex : hex;\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { string }  hex - Specifies the bottomPadding\n * @returns {RgbColor} returns the size\n * @private\n */\nexport function convertHexToColor(hex) {\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? new RgbColor(parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)) :\n        new RgbColor(255, 255, 255);\n}\n/**\n * Function to check whether target object implement specific interface\n *\n * @param { boolean }  isCustom - Specifies the bottomPadding\n * @param { string }  format - Specifies the bottomPadding\n * @param { number }  tempInterval - Specifies the bottomPadding\n * @param { Function }  formatFun - Specifies the bottomPadding\n * @returns {string} returns the size\n * @private\n */\nexport function formatValue(isCustom, format, tempInterval, formatFun) {\n    return isCustom ? format.replace('{value}', formatFun(tempInterval))\n        : formatFun(tempInterval);\n}\n/** @private */\nvar MultiLevelPosition = /** @class */ (function () {\n    function MultiLevelPosition(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    return MultiLevelPosition;\n}());\nexport { MultiLevelPosition };\n","/**\n * Specifies HeatMaps Themes\n */\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport var Theme;\n(function (Theme) {\n    /** @private */\n    Theme.heatMapTitleFont = {\n        size: '15px',\n        fontWeight: '500',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.titleFont = {\n        size: '13px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI',\n        textOverflow: 'None'\n    };\n    /** @private */\n    Theme.axisTitleFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.axisLabelFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI',\n        textOverflow: 'None'\n    };\n    /** @private */\n    Theme.legendLabelFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI',\n        textOverflow: 'None'\n    };\n    /** @private */\n    Theme.rectLabelFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI',\n        textOverflow: 'None'\n    };\n    /** @private */\n    Theme.tooltipFont = {\n        size: '13px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI',\n        textOverflow: 'None'\n    };\n})(Theme || (Theme = {}));\n/**\n * Functions to check whether target object implement specific interface.\n *\n * @param  { HeatMapTheme } theme - specifies the value.\n * @returns { IThemeStyle } returns the theme style\n * @private\n */\nexport function getThemeColor(theme) {\n    var style;\n    switch (theme.toLowerCase()) {\n        case 'highcontrastlight':\n        case 'highcontrast':\n            style = {\n                heatMapTitle: '#ffffff',\n                axisTitle: '#ffffff',\n                axisLabel: '#ffffff',\n                cellBorder: '#EEEEEE',\n                background: '#000000',\n                cellTextColor: '#000000',\n                toggledColor: '#000000',\n                emptyCellColor: '#EEEEEE',\n                legendLabel: '#ffffff',\n                palette: [{ 'color': '#BEE7EE' },\n                    { 'color': '#85c4cf' },\n                    { 'color': '#4CA1AF' }]\n            };\n            break;\n        case 'materialdark':\n        case 'fabricdark':\n        case 'bootstrapdark':\n            style = {\n                heatMapTitle: '#ffffff',\n                axisTitle: '#ffffff',\n                axisLabel: '#DADADA',\n                cellBorder: '#EEEEEE',\n                background: '#000000',\n                cellTextColor: '#000000',\n                toggledColor: '#000000',\n                emptyCellColor: '#EEEEEE',\n                legendLabel: '#ffffff',\n                palette: [{ 'color': '#BEE7EE' },\n                    { 'color': '#85c4cf' },\n                    { 'color': '#4CA1AF' }]\n            };\n            break;\n        case 'bootstrap4':\n            style = {\n                heatMapTitle: '#212529',\n                axisTitle: '#212529',\n                axisLabel: '#212529',\n                cellBorder: '#E9ECEF',\n                background: '#FFFFFF',\n                cellTextColor: '#212529',\n                toggledColor: '#ffffff',\n                emptyCellColor: '#E9ECEF',\n                legendLabel: '#212529',\n                palette: [{ 'color': '#BEE7EE' },\n                    { 'color': '#85c4cf' },\n                    { 'color': '#4CA1AF' }]\n            };\n            break;\n        case 'tailwind':\n            style = {\n                heatMapTitle: '#374151',\n                axisTitle: '#374151',\n                axisLabel: '#6B7280',\n                cellBorder: '#E5E7EB',\n                background: 'transparent',\n                cellTextColor: '#111827',\n                toggledColor: 'transparent',\n                emptyCellColor: '#E5E7EB',\n                legendLabel: '#374151',\n                palette: [{ 'color': '#5A61F6' },\n                    { 'color': '#65A30D' },\n                    { 'color': '#14B8A6' }]\n            };\n            break;\n        case 'tailwinddark':\n            style = {\n                heatMapTitle: '#D1D5DB',\n                axisTitle: '#D1D5DB',\n                axisLabel: '#9CA3AF',\n                cellBorder: '#4B5563',\n                background: 'transparent',\n                cellTextColor: '#FFFFFF',\n                toggledColor: 'transparent',\n                emptyCellColor: '#374151',\n                legendLabel: '#D1D5DB',\n                palette: [{ 'color': '#8B5CF6' },\n                    { 'color': '#22D3EE' },\n                    { 'color': '#F87171' }]\n            };\n            break;\n        case 'bootstrap5':\n            style = {\n                heatMapTitle: '#343A40',\n                axisTitle: '#343A40',\n                axisLabel: '#495057',\n                cellBorder: '#D1D5DB',\n                background: 'transparent',\n                cellTextColor: '#111827',\n                toggledColor: 'transparent',\n                emptyCellColor: '#E5E7EB',\n                legendLabel: '#343A40',\n                palette: [{ 'color': '#D7E7FF' },\n                    { 'color': '#0D6EFD' },\n                    { 'color': '#013889' }]\n            };\n            break;\n        case 'bootstrap5dark':\n            style = {\n                heatMapTitle: '#E9ECEF',\n                axisTitle: '#E9ECEF',\n                axisLabel: '#CED4DA',\n                cellBorder: '#4B5563',\n                background: 'transparent',\n                cellTextColor: '#FFFFFF',\n                toggledColor: 'transparent',\n                emptyCellColor: '#343A40',\n                legendLabel: '#E9ECEF',\n                palette: [{ 'color': '#A860F1' },\n                    { 'color': '#5ECB9B' },\n                    { 'color': '#557EF7' }]\n            };\n            break;\n        case 'fluent':\n            style = {\n                heatMapTitle: '#201F1E',\n                axisTitle: '#201F1E',\n                axisLabel: '#201F1E',\n                cellBorder: '#EDEBE9',\n                background: 'transparent',\n                cellTextColor: '#111827',\n                toggledColor: 'transparent',\n                emptyCellColor: '#EDEBE9',\n                legendLabel: '#201F1E',\n                palette: [{ 'color': '#EDEBE9' },\n                    { 'color': '#614570' },\n                    { 'color': '#4C6FB1' }]\n            };\n            break;\n        case 'fluentdark':\n            style = {\n                heatMapTitle: '#F3F2F1',\n                axisTitle: '#F3F2F1',\n                axisLabel: '#201F1E',\n                cellBorder: '#EDEBE9',\n                background: 'transparent',\n                cellTextColor: '#FFFFFF',\n                toggledColor: 'transparent',\n                emptyCellColor: '#292827',\n                legendLabel: '#F3F2F1',\n                palette: [{ 'color': '#292827' },\n                    { 'color': '#2A72D5' },\n                    { 'color': '#43B786' }]\n            };\n            break;\n        case 'material3':\n            style = {\n                heatMapTitle: '#1C1B1F',\n                axisTitle: '#1C1B1F',\n                axisLabel: '#1C1B1F',\n                cellBorder: '#C4C7C5',\n                background: 'transparent',\n                cellTextColor: '#1C1B1F',\n                toggledColor: '#F6F0FB',\n                emptyCellColor: '#F6F0FB',\n                legendLabel: '#49454E',\n                palette: [{ 'color': '#6200EE' },\n                    { 'color': '#E77A16' },\n                    { 'color': '#82C100' }]\n            };\n            break;\n        case 'material3dark':\n            style = {\n                heatMapTitle: '#E6E1E5',\n                axisTitle: '#E6E1E5',\n                axisLabel: '#E6E1E5',\n                cellBorder: '#444746',\n                background: 'transparent',\n                cellTextColor: '#E6E1E5',\n                toggledColor: '#49454F',\n                emptyCellColor: '#49454E',\n                legendLabel: '#CAC4D0',\n                palette: [{ 'color': '#4EAAFF' },\n                    { 'color': '#FA4EAB' },\n                    { 'color': '#FFF500' }]\n            };\n            break;\n        default:\n            style = {\n                heatMapTitle: '#424242',\n                axisTitle: '#424242',\n                axisLabel: '#686868',\n                cellBorder: '#EEEEEE',\n                cellTextColor: '#000000',\n                toggledColor: '#ffffff',\n                background: '#FFFFFF',\n                emptyCellColor: '#EEEEEE',\n                legendLabel: '#353535',\n                palette: [{ 'color': '#BEE7EE' },\n                    { 'color': '#85c4cf' },\n                    { 'color': '#4CA1AF' }]\n            };\n            break;\n    }\n    return style;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex, Collection } from '@syncfusion/ej2-base';\nimport { Theme } from './theme';\n/**\n * Sets and gets the options to customize the text in heatmap.\n */\nvar Font = /** @class */ (function (_super) {\n    __extends(Font, _super);\n    function Font() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('16px')\n    ], Font.prototype, \"size\", void 0);\n    __decorate([\n        Property('')\n    ], Font.prototype, \"color\", void 0);\n    __decorate([\n        Property('Segoe UI')\n    ], Font.prototype, \"fontFamily\", void 0);\n    __decorate([\n        Property('Normal')\n    ], Font.prototype, \"fontWeight\", void 0);\n    __decorate([\n        Property('Normal')\n    ], Font.prototype, \"fontStyle\", void 0);\n    __decorate([\n        Property('Center')\n    ], Font.prototype, \"textAlignment\", void 0);\n    __decorate([\n        Property('Trim')\n    ], Font.prototype, \"textOverflow\", void 0);\n    return Font;\n}(ChildProperty));\nexport { Font };\n/**\n * Sets and gets the options to configures the margins of the heatmap.\n */\nvar Margin = /** @class */ (function (_super) {\n    __extends(Margin, _super);\n    function Margin() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"left\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"right\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"top\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"bottom\", void 0);\n    return Margin;\n}(ChildProperty));\nexport { Margin };\n/**\n * Sets and gets the options to customize the borders in the heatmap.\n */\nvar Border = /** @class */ (function (_super) {\n    __extends(Border, _super);\n    function Border() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Border.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], Border.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Border.prototype, \"radius\", void 0);\n    return Border;\n}(ChildProperty));\nexport { Border };\n/**\n * Sets and gets the options to customize the tooltip borders in the heatmap.\n */\nvar TooltipBorder = /** @class */ (function (_super) {\n    __extends(TooltipBorder, _super);\n    function TooltipBorder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TooltipBorder.prototype, \"color\", void 0);\n    __decorate([\n        Property(0)\n    ], TooltipBorder.prototype, \"width\", void 0);\n    return TooltipBorder;\n}(ChildProperty));\nexport { TooltipBorder };\n/**\n * Sets and gets the options to configure the mapping value for size and color in bubble cell type.\n */\nvar BubbleData = /** @class */ (function (_super) {\n    __extends(BubbleData, _super);\n    function BubbleData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], BubbleData.prototype, \"size\", void 0);\n    __decorate([\n        Property(null)\n    ], BubbleData.prototype, \"color\", void 0);\n    return BubbleData;\n}(ChildProperty));\nexport { BubbleData };\n/**\n * Sets and gets the options to customize the title of heatmap.\n */\nvar Title = /** @class */ (function (_super) {\n    __extends(Title, _super);\n    function Title() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Title.prototype, \"text\", void 0);\n    __decorate([\n        Complex({}, Font)\n    ], Title.prototype, \"textStyle\", void 0);\n    return Title;\n}(ChildProperty));\nexport { Title };\n/**\n * Sets and gets the options to apply the fill color value for cell color range.\n */\nvar FillColor = /** @class */ (function (_super) {\n    __extends(FillColor, _super);\n    function FillColor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('#eeeeee')\n    ], FillColor.prototype, \"minColor\", void 0);\n    __decorate([\n        Property('#eeeeee')\n    ], FillColor.prototype, \"maxColor\", void 0);\n    return FillColor;\n}(ChildProperty));\nexport { FillColor };\n/**\n * Sets and gets the options to customize palette colors.\n */\nvar PaletteCollection = /** @class */ (function (_super) {\n    __extends(PaletteCollection, _super);\n    function PaletteCollection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"color\", void 0);\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"label\", void 0);\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"startValue\", void 0);\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"endValue\", void 0);\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"minColor\", void 0);\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"maxColor\", void 0);\n    return PaletteCollection;\n}(ChildProperty));\nexport { PaletteCollection };\n/**\n * Sets and gets the options to customize the label border.\n */\nvar AxisLabelBorder = /** @class */ (function (_super) {\n    __extends(AxisLabelBorder, _super);\n    function AxisLabelBorder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('#b5b5b5')\n    ], AxisLabelBorder.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], AxisLabelBorder.prototype, \"width\", void 0);\n    __decorate([\n        Property('Rectangle')\n    ], AxisLabelBorder.prototype, \"type\", void 0);\n    return AxisLabelBorder;\n}(ChildProperty));\nexport { AxisLabelBorder };\n/**\n * Sets and gets the options to customize the size of the bubble heatmap cell type.\n */\nvar BubbleSize = /** @class */ (function (_super) {\n    __extends(BubbleSize, _super);\n    function BubbleSize() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('0%')\n    ], BubbleSize.prototype, \"minimum\", void 0);\n    __decorate([\n        Property('100%')\n    ], BubbleSize.prototype, \"maximum\", void 0);\n    return BubbleSize;\n}(ChildProperty));\nexport { BubbleSize };\n/**\n * Sets and gets the options to configure the multi-level labels.\n */\nvar MultiLevelCategories = /** @class */ (function (_super) {\n    __extends(MultiLevelCategories, _super);\n    function MultiLevelCategories() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], MultiLevelCategories.prototype, \"start\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiLevelCategories.prototype, \"end\", void 0);\n    __decorate([\n        Property('')\n    ], MultiLevelCategories.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiLevelCategories.prototype, \"maximumTextWidth\", void 0);\n    return MultiLevelCategories;\n}(ChildProperty));\nexport { MultiLevelCategories };\n/**\n * Sets and gets the options to customize the multi-level labels.\n */\nvar MultiLevelLabels = /** @class */ (function (_super) {\n    __extends(MultiLevelLabels, _super);\n    function MultiLevelLabels() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Center')\n    ], MultiLevelLabels.prototype, \"alignment\", void 0);\n    __decorate([\n        Property('Wrap')\n    ], MultiLevelLabels.prototype, \"overflow\", void 0);\n    __decorate([\n        Complex(Theme.axisLabelFont, Font)\n    ], MultiLevelLabels.prototype, \"textStyle\", void 0);\n    __decorate([\n        Complex({ color: '#b5b5b5', width: 1, type: 'Rectangle' }, AxisLabelBorder)\n    ], MultiLevelLabels.prototype, \"border\", void 0);\n    __decorate([\n        Collection([], MultiLevelCategories)\n    ], MultiLevelLabels.prototype, \"categories\", void 0);\n    return MultiLevelLabels;\n}(ChildProperty));\nexport { MultiLevelLabels };\n/**\n * Internal class used to maintain colorcollection.\n * @private\n */\nvar ColorCollection = /** @class */ (function () {\n    function ColorCollection(value, color, label, startValue, endValue, minColor, maxColor) {\n        this.value = value;\n        this.color = color;\n        this.label = label;\n        this.startValue = startValue;\n        this.endValue = endValue;\n        this.minColor = minColor;\n        this.maxColor = maxColor;\n    }\n    return ColorCollection;\n}());\nexport { ColorCollection };\n/**\n * Specifies the current data of the bubble cell.\n */\nvar BubbleTooltipData = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function BubbleTooltipData(mappingName, bubbleData, valueType) {\n        this.mappingName = mappingName;\n        this.bubbleData = bubbleData;\n        this.valueType = valueType;\n    }\n    return BubbleTooltipData;\n}());\nexport { BubbleTooltipData };\n/**\n * Internal class used to maintain legend colorcollection.\n * @private\n */\nvar LegendColorCollection = /** @class */ (function () {\n    function LegendColorCollection(value, color, label, startValue, endValue, minColor, maxColor, isHidden) {\n        this.value = value;\n        this.color = color;\n        this.label = label;\n        this.startValue = startValue;\n        this.endValue = endValue;\n        this.minColor = minColor;\n        this.maxColor = maxColor;\n        this.isHidden = isHidden;\n    }\n    return LegendColorCollection;\n}());\nexport { LegendColorCollection };\n/**\n * class used to maintain xAxis labels details for multipleRow label intersect action.\n * @private\n */\nvar MultipleRow = /** @class */ (function () {\n    function MultipleRow(start, end, index, label, row) {\n        this.index = 1;\n        this.row = 1;\n        this.start = start;\n        this.end = end;\n        this.index = index;\n        this.label = label;\n        this.row = row;\n    }\n    return MultipleRow;\n}());\nexport { MultipleRow };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, extend, ChildProperty, Collection, isNullOrUndefined, Complex } from '@syncfusion/ej2-base';\nimport { ColorCollection, LegendColorCollection, PaletteCollection, FillColor } from '../model/base';\nimport { PaletterColor } from './helper';\n/**\n * Sets and gets the options to customize the color palette of heatmap.\n */\nvar PaletteSettings = /** @class */ (function (_super) {\n    __extends(PaletteSettings, _super);\n    function PaletteSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([{}], PaletteCollection)\n    ], PaletteSettings.prototype, \"palette\", void 0);\n    __decorate([\n        Property('Gradient')\n    ], PaletteSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property('')\n    ], PaletteSettings.prototype, \"emptyPointColor\", void 0);\n    __decorate([\n        Property('Table')\n    ], PaletteSettings.prototype, \"colorGradientMode\", void 0);\n    __decorate([\n        Complex({}, FillColor)\n    ], PaletteSettings.prototype, \"fillColor\", void 0);\n    return PaletteSettings;\n}(ChildProperty));\nexport { PaletteSettings };\n/**\n * Helper class for colormapping\n */\nvar RgbColor = /** @class */ (function () {\n    function RgbColor(r, g, b) {\n        this.R = r;\n        this.G = g;\n        this.B = b;\n    }\n    return RgbColor;\n}());\nexport { RgbColor };\nvar CellColor = /** @class */ (function () {\n    function CellColor(heatMap) {\n        this.heatMap = heatMap;\n    }\n    /**\n     * To convert hexa color to RGB.\n     *\n     * @returns {any}\n     * @private\n     */\n    CellColor.prototype.convertToRGB = function (value, colorMapping) {\n        var previousOffset = this.heatMap.isColorRange ? colorMapping[0].startValue : colorMapping[0].value;\n        var nextOffset = 0;\n        var i = 0;\n        var previousColor;\n        var nextColor;\n        if (this.heatMap.isColorRange && this.heatMap.paletteSettings.type === 'Gradient') {\n            for (i = 0; i < colorMapping.length; i++) {\n                var offset = Number(colorMapping[i].endValue);\n                if (value <= offset && value >= Number(colorMapping[i].startValue)) {\n                    nextOffset = offset;\n                    previousColor = this.heatMap.colorCollection[i].minColor;\n                    nextColor = this.heatMap.colorCollection[i].maxColor;\n                    break;\n                }\n                else if (colorMapping[0].startValue !== this.heatMap.dataSourceMinValue && value < colorMapping[0].startValue) {\n                    nextOffset = colorMapping[0].startValue;\n                    previousOffset = this.heatMap.dataSourceMinValue;\n                    previousColor = this.heatMap.paletteSettings.fillColor.minColor;\n                    nextColor = this.heatMap.paletteSettings.fillColor.maxColor;\n                    break;\n                }\n                else if (value > offset && value <= (i === (colorMapping.length - 1) ? this.heatMap.dataSourceMaxValue :\n                    colorMapping[i + 1].startValue)) {\n                    nextOffset = (i === (colorMapping.length - 1)) ? this.heatMap.dataSourceMaxValue : colorMapping[i + 1].startValue;\n                    previousOffset = offset;\n                    previousColor = this.heatMap.paletteSettings.fillColor.minColor;\n                    nextColor = this.heatMap.paletteSettings.fillColor.maxColor;\n                    break;\n                }\n                else {\n                    nextOffset = offset;\n                    previousOffset = offset;\n                }\n            }\n        }\n        else {\n            for (i = 1; i < colorMapping.length; i++) {\n                var offset = Number(colorMapping[i].value);\n                if (value <= offset) {\n                    nextOffset = offset;\n                    previousColor = this.getEqualColor(colorMapping, previousOffset);\n                    nextColor = this.getEqualColor(colorMapping, nextOffset);\n                    break;\n                }\n                else {\n                    nextOffset = offset;\n                    previousOffset = offset;\n                }\n            }\n        }\n        var percent = 0;\n        var full = (nextOffset) - previousOffset;\n        percent = (value - previousOffset) / full;\n        percent = isNaN(percent) ? 0 : percent;\n        return this.getPercentageColor(percent, previousColor, nextColor);\n    };\n    /**\n     * To convert RGB to HEX.\n     *\n     * @returns {string}\n     * @private\n     */\n    CellColor.prototype.rgbToHex = function (r, g, b) {\n        return '#' + this.componentToHex(r) + this.componentToHex(g) + this.componentToHex(b);\n    };\n    /**\n     * To convert Component to HEX.\n     *\n     * @returns {string}\n     * @private\n     */\n    CellColor.prototype.componentToHex = function (c) {\n        var hex = c.toString(16);\n        return hex.length === 1 ? '0' + hex : hex;\n    };\n    /**\n     * To get similar color.\n     *\n     * @returns {string}\n     * @private\n     */\n    CellColor.prototype.getEqualColor = function (list, offset) {\n        for (var i = 0; i < list.length; i++) {\n            if (Number(list[i].value) === offset) {\n                var color = list[i].color;\n                if (color.indexOf('rgb') !== -1) {\n                    color = this.convertToHex(color);\n                }\n                else if (color.indexOf('#') === -1) {\n                    color = '#FFFFFF';\n                }\n                return color;\n            }\n        }\n        return '#00000';\n    };\n    /**\n     * To convert RGB to HEX.\n     *\n     * @returns {string}\n     * @private\n     */\n    CellColor.prototype.convertToHex = function (color) {\n        var itemColor = color.substr(3);\n        itemColor = itemColor.split('(')[1].split(')')[0];\n        var colorSplit = itemColor.split(',');\n        itemColor = this.rgbToHex(parseInt(colorSplit[0], 10), parseInt(colorSplit[1], 10), parseInt(colorSplit[2], 10));\n        return itemColor;\n    };\n    /**\n     * To get RGB for percentage value.\n     *\n     * @returns {any}\n     * @private\n     */\n    CellColor.prototype.getPercentageColor = function (percent, previous, next) {\n        var nextColor = next.split('#')[1];\n        var prevColor = previous.split('#')[1];\n        var r = this.getPercentage(percent, parseInt(prevColor.substr(0, 2), 16), parseInt(nextColor.substr(0, 2), 16));\n        var g = this.getPercentage(percent, parseInt(prevColor.substr(2, 2), 16), parseInt(nextColor.substr(2, 2), 16));\n        var b = this.getPercentage(percent, parseInt(prevColor.substr(4, 2), 16), parseInt(nextColor.substr(4, 2), 16));\n        return new RgbColor(r, g, b);\n    };\n    /**\n     * To convert numbet to percentage.\n     *\n     * @returns {any}\n     * @private\n     */\n    CellColor.prototype.getPercentage = function (percent, previous, next) {\n        var full = next - previous;\n        return Math.round((previous + (full * percent)));\n    };\n    /**\n     * To get complete color Collection.\n     *\n     * @private\n     */\n    CellColor.prototype.getColorCollection = function () {\n        var heatMap = this.heatMap;\n        heatMap.colorCollection = [];\n        heatMap.legendColorCollection = [];\n        var range;\n        for (var j = 0; j < this.heatMap.paletteSettings.palette.length; j++) {\n            if (this.heatMap.paletteSettings.palette[j].startValue === null ||\n                this.heatMap.paletteSettings.palette[j].endValue === null) {\n                this.heatMap.isColorRange = false;\n                break;\n            }\n            else {\n                this.heatMap.isColorRange = true;\n            }\n        }\n        var minValue = heatMap.bubbleSizeWithColor ? heatMap.minColorValue : heatMap.dataSourceMinValue;\n        var maxValue = heatMap.bubbleSizeWithColor ? heatMap.maxColorValue : heatMap.dataSourceMaxValue;\n        heatMap.emptyPointColor = heatMap.paletteSettings.emptyPointColor ? heatMap.paletteSettings.emptyPointColor :\n            heatMap.themeStyle.emptyCellColor;\n        var tempcolorMapping = this.orderbyOffset(this.heatMap.isColorRange ? heatMap.paletteSettings.palette :\n            heatMap.paletteSettings.palette && heatMap.paletteSettings.palette.length > 1 ?\n                heatMap.paletteSettings.palette : heatMap.themeStyle.palette);\n        if (!tempcolorMapping.isCompact) {\n            if (heatMap.paletteSettings.type === 'Gradient') {\n                range = (maxValue - minValue) / (tempcolorMapping.offsets.length - 1);\n            }\n            else {\n                range = (maxValue - minValue) / (tempcolorMapping.offsets.length);\n            }\n            if (tempcolorMapping.offsets.length >= 2) {\n                for (var index = 0; index < tempcolorMapping.offsets.length; index++) {\n                    heatMap.colorCollection.push(new ColorCollection((Math.round(((minValue) + (index * range)) * 100) / 100), tempcolorMapping.offsets[index].color, tempcolorMapping.offsets[index].label, tempcolorMapping.offsets[index].startValue, tempcolorMapping.offsets[index].endValue, tempcolorMapping.offsets[index].minColor, tempcolorMapping.offsets[index].maxColor));\n                    heatMap.legendColorCollection.push(new LegendColorCollection(Math.round(((minValue) + (index * range)) * 100) / 100, tempcolorMapping.offsets[index].color, tempcolorMapping.offsets[index].label, tempcolorMapping.offsets[index].startValue, tempcolorMapping.offsets[index].endValue, tempcolorMapping.offsets[index].minColor, tempcolorMapping.offsets[index].maxColor, false));\n                }\n            }\n        }\n        else {\n            heatMap.colorCollection = tempcolorMapping.offsets;\n            heatMap.legendColorCollection = extend([], tempcolorMapping.offsets, null, true);\n        }\n        if (!this.heatMap.isColorRange) {\n            this.updateLegendColorCollection(minValue, maxValue, tempcolorMapping);\n        }\n    };\n    /**\n     * To update legend color Collection.\n     *\n     * @private\n     */\n    CellColor.prototype.updateLegendColorCollection = function (minValue, maxValue, tempcolorMapping) {\n        if (this.heatMap.paletteSettings.type === 'Fixed' && (tempcolorMapping.isCompact || tempcolorMapping.isLabel)) {\n            return;\n        }\n        if (Math.round(minValue * 100) / 100 < this.heatMap.legendColorCollection[0].value) {\n            this.heatMap.legendColorCollection.unshift(new LegendColorCollection(Math.round(minValue * 100) / 100, this.heatMap.legendColorCollection[0].color, this.heatMap.legendColorCollection[0].label, this.heatMap.legendColorCollection[0].startValue, this.heatMap.legendColorCollection[0].endValue, this.heatMap.legendColorCollection[0].minColor, this.heatMap.legendColorCollection[0].maxColor, true));\n        }\n        if (Math.round(maxValue * 100) / 100 > this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].value) {\n            this.heatMap.legendColorCollection.push(new LegendColorCollection(Math.round(maxValue * 100) / 100, this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].color, this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].label, this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].startValue, this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].endValue, this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].minColor, this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].maxColor, true));\n        }\n    };\n    /**\n     * To get ordered palette color collection.\n     *\n     * @private\n     */\n    CellColor.prototype.orderbyOffset = function (offsets) {\n        var returnCollection = new PaletterColor();\n        var key = this.heatMap.isColorRange ? 'to' : 'value';\n        var label = 'label';\n        returnCollection.isCompact = true;\n        returnCollection.isLabel = true;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        returnCollection.offsets = offsets.sort(function (a, b) {\n            if (isNullOrUndefined(a[label]) && isNullOrUndefined(b[label])) {\n                returnCollection.isLabel = false;\n            }\n            if (!isNullOrUndefined(a[key]) && !isNullOrUndefined(b[key])) {\n                return a[key] - b[key];\n            }\n            else {\n                returnCollection.isCompact = false;\n                return a;\n            }\n        });\n        if (!returnCollection.isCompact) {\n            returnCollection.offsets = this.heatMap.paletteSettings.palette && this.heatMap.paletteSettings.palette.length > 1 ?\n                this.heatMap.paletteSettings.palette : this.heatMap.themeStyle.palette;\n        }\n        return returnCollection;\n    };\n    /**\n     * To get color depends to value.\n     *\n     * @private\n     */\n    CellColor.prototype.getColorByValue = function (text) {\n        var color = '';\n        var rbg;\n        var compareValue = 0;\n        if (text.toString() !== '') {\n            if (this.heatMap.cellSettings.tileType === 'Bubble' &&\n                (this.heatMap.cellSettings.bubbleType === 'Size' || this.heatMap.cellSettings.bubbleType === 'Sector')) {\n                color = this.heatMap.isColorRange ? this.heatMap.colorCollection[0].minColor : this.heatMap.colorCollection[0].color;\n            }\n            else if (this.heatMap.paletteSettings.type === 'Fixed') {\n                for (var y = 0; y < this.heatMap.colorCollection.length; y++) {\n                    compareValue = this.heatMap.isColorRange ? this.heatMap.paletteSettings.palette[y].startValue :\n                        this.heatMap.colorCollection[y + 1] ? this.heatMap.colorCollection[y + 1].value :\n                            this.heatMap.colorCollection[y].value;\n                    var singleValue = this.heatMap.dataSourceMinValue === this.heatMap.dataSourceMaxValue;\n                    if (this.heatMap.isColorRange) {\n                        var legendRange = void 0;\n                        if ((text <= this.heatMap.colorCollection[y].endValue &&\n                            text >= this.heatMap.colorCollection[y].startValue)) {\n                            if (this.heatMap.legendVisibilityByCellType) {\n                                legendRange = this.heatMap.legendModule.legendRange;\n                            }\n                            color = (this.heatMap.legendVisibilityByCellType && legendRange[y] &&\n                                !legendRange[y].visible) ?\n                                this.heatMap.themeStyle.toggledColor : this.heatMap.colorCollection[y].minColor;\n                            break;\n                        }\n                        else {\n                            color = this.heatMap.paletteSettings.fillColor.minColor;\n                        }\n                    }\n                    else {\n                        if ((text <= compareValue && singleValue && y === 0) || text < compareValue ||\n                            (text >= compareValue && y === this.heatMap.colorCollection.length - 1)) {\n                            var legendRange = void 0;\n                            if (this.heatMap.legendVisibilityByCellType) {\n                                legendRange = this.heatMap.legendModule.legendRange;\n                            }\n                            color = (this.heatMap.legendVisibilityByCellType && legendRange[y] &&\n                                !legendRange[y].visible) ?\n                                this.heatMap.themeStyle.toggledColor : this.heatMap.colorCollection[y].color;\n                            break;\n                        }\n                    }\n                }\n            }\n            else {\n                if (this.heatMap.paletteSettings.colorGradientMode !== 'Table') {\n                    this.getColorCollection();\n                }\n                if (text < this.heatMap.colorCollection[0].value && !this.heatMap.isColorRange) {\n                    color = this.heatMap.colorCollection[0].color;\n                }\n                else if (text > this.heatMap.colorCollection[this.heatMap.colorCollection.length - 1].value &&\n                    !this.heatMap.isColorRange) {\n                    color = this.heatMap.colorCollection[this.heatMap.colorCollection.length - 1].color;\n                }\n                else {\n                    rbg = this.convertToRGB(text, this.heatMap.colorCollection);\n                    color = this.rgbToHex(rbg.R, rbg.G, rbg.B);\n                }\n            }\n        }\n        else {\n            color = this.heatMap.emptyPointColor;\n        }\n        return color;\n    };\n    return CellColor;\n}());\nexport { CellColor };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * HeatMap Axis file\n */\nimport { Property, Complex, ChildProperty, isNullOrUndefined, Collection } from '@syncfusion/ej2-base';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { Font, Title, AxisLabelBorder, MultiLevelLabels, MultipleRow } from '../model/base';\nimport { Theme } from '../model/theme';\nimport { Rect, measureText, Size, rotateTextSize, increaseDateTimeInterval, formatValue, textTrim } from '../utils/helper';\nimport { MultiLevelPosition, textWrap } from '../utils/helper';\n/**\n * Sets and gets the options to customize the axis of the heatmap.\n */\nvar Axis = /** @class */ (function (_super) {\n    __extends(Axis, _super);\n    function Axis() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.multipleRow = [];\n        /** @private */\n        _this.rect = new Rect(undefined, undefined, 0, 0);\n        /** @private */\n        _this.nearSizes = [];\n        /** @private */\n        _this.farSizes = [];\n        /** @private */\n        _this.maxLabelSize = new Size(0, 0);\n        /** @private */\n        _this.titleSize = new Size(0, 0);\n        /** @private */\n        _this.multilevel = [];\n        /** @private */\n        _this.axisLabels = [];\n        /** @private */\n        _this.tooltipLabels = [];\n        /** @private */\n        _this.labelValue = [];\n        /** @private */\n        _this.axisLabelSize = 0;\n        /** @private */\n        _this.axisLabelInterval = 0;\n        /** @private */\n        _this.dateTimeAxisLabelInterval = [];\n        /** @private */\n        _this.maxLength = 0;\n        /** @private */\n        _this.min = 0;\n        /** @private */\n        _this.max = 0;\n        /** @private */\n        _this.isIntersect = false;\n        /** @private */\n        _this.jsonCellLabel = [];\n        _this.multiLevelSize = [];\n        /** @private */\n        _this.xAxisMultiLabelHeight = [];\n        /** @private */\n        _this.yAxisMultiLabelHeight = [];\n        /** @private */\n        _this.multiLevelPosition = [];\n        return _this;\n    }\n    /**\n     * measure the axis title and label size\n     *\n     * @param axis\n     * @param heatmap\n     * @private\n     */\n    Axis.prototype.computeSize = function (axis, heatmap, rect) {\n        var size = new Size(0, 0);\n        var innerPadding = 10;\n        this.titleSize = axis.getTitleSize(axis, innerPadding);\n        this.maxLabelSize = axis.getMaxLabelSize(axis, heatmap);\n        this.getMultilevelLabelsHeight(axis, rect, heatmap);\n        for (var i = 0; i < this.multiLevelLabels.length; i++) {\n            size = axis.multiLevelLabelSize(innerPadding, i);\n            this.multiLevelSize.push(size);\n        }\n    };\n    /**\n     * calculating x, y position of multi level labels\n     *\n     * @private\n     */\n    Axis.prototype.multiPosition = function (axis, index) {\n        var innerPadding = axis.orientation === 'Horizontal' ? 10 : 20;\n        var multiPosition = new MultiLevelPosition(0, 0);\n        if (axis.orientation === 'Horizontal') {\n            var level0 = axis.maxLabelSize.height + innerPadding\n                + ((axis.angle === 0 || axis.angle === 180 || axis.angle === 360) ? 0 : innerPadding);\n            var level1 = this.xAxisMultiLabelHeight[index - 1];\n            multiPosition.x = (axis.isInversed ? axis.rect.x + axis.rect.width : axis.rect.x);\n            multiPosition.y = index === 0 ? axis.rect.y + (axis.opposedPosition ? -level0 : level0) :\n                axis.multiLevelPosition[index - 1].y + (axis.opposedPosition ? -level1 : level1);\n        }\n        else {\n            var level0 = axis.maxLabelSize.width + innerPadding;\n            var level1 = index !== 0 && (this.multiLevelSize[index - 1].width);\n            multiPosition.x = index === 0 ? axis.rect.x - (axis.opposedPosition ? -level0 : level0) :\n                axis.multiLevelPosition[index - 1].x - (axis.opposedPosition ? -(level1 + innerPadding) : level1 + innerPadding);\n            multiPosition.y = axis.isInversed ? axis.rect.y : axis.rect.y + axis.rect.height;\n        }\n        return multiPosition;\n    };\n    Axis.prototype.multiLevelLabelSize = function (innerPadding, index) {\n        var labelSize = new Size(0, 0);\n        var multiLevel = this.multiLevelLabels;\n        var categoryLabel = multiLevel[index].categories;\n        for (var i = 0; i < categoryLabel.length; i++) {\n            var size_1 = measureText(categoryLabel[i].text, multiLevel[index].textStyle);\n            labelSize.width = (labelSize.width > size_1.width) ? labelSize.width : size_1.width;\n            labelSize.height = (labelSize.height > size_1.height) ? labelSize.height : size_1.height;\n        }\n        var size = (this.orientation === 'Horizontal') ? this.xAxisMultiLabelHeight[index] :\n            this.yAxisMultiLabelHeight[index];\n        if (this.opposedPosition) {\n            this.farSizes.push(size);\n        }\n        else {\n            this.nearSizes.push(size);\n        }\n        return labelSize;\n    };\n    Axis.prototype.getMultilevelLabelsHeight = function (axis, rect, heatmap) {\n        var labelSize;\n        var gap;\n        var height;\n        var multiLevelLabelsHeight = [];\n        var start;\n        var end;\n        var startPosition;\n        var endPosition;\n        var isVertical = axis.orientation === 'Vertical';\n        var padding = axis.orientation === 'Vertical' ? 20 : 10;\n        this.multiLevelLabels.map(function (multiLevel, index) {\n            multiLevel.categories.map(function (categoryLabel) {\n                start = typeof categoryLabel.start === 'number' ? categoryLabel.start : Number(new Date(categoryLabel.start));\n                end = typeof categoryLabel.end === 'number' ? categoryLabel.end : Number(new Date(categoryLabel.end));\n                if (categoryLabel.text !== '' && categoryLabel.start !== null && categoryLabel.end !== null) {\n                    labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                    height = isVertical ? labelSize.width : labelSize.height;\n                    startPosition = heatmap.heatMapAxis.calculateLeftPosition(axis, start, categoryLabel.start, rect);\n                    endPosition = heatmap.heatMapAxis.calculateWidth(axis, categoryLabel.end, end, rect);\n                    labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                    gap = ((categoryLabel.maximumTextWidth === null) ? Math.abs(endPosition - startPosition) :\n                        categoryLabel.maximumTextWidth);\n                    if ((labelSize.width > gap - padding) && (multiLevel.overflow === 'Wrap') && !isVertical) {\n                        height = (height * (textWrap(categoryLabel.text, gap - padding, multiLevel.textStyle).length));\n                    }\n                    multiLevelLabelsHeight[index] = !multiLevelLabelsHeight[index] ? height + padding :\n                        ((multiLevelLabelsHeight[index] < height) ? height + padding : multiLevelLabelsHeight[index]);\n                }\n            });\n        });\n        if (isVertical) {\n            this.yAxisMultiLabelHeight = multiLevelLabelsHeight;\n        }\n        else {\n            this.xAxisMultiLabelHeight = multiLevelLabelsHeight;\n        }\n    };\n    Axis.prototype.getTitleSize = function (axis, innerPadding) {\n        var titleSize = new Size(0, 0);\n        if (this.title.text) {\n            titleSize = measureText(this.title.text, this.title.textStyle);\n            titleSize.height += innerPadding;\n        }\n        if (axis.opposedPosition) {\n            this.farSizes.push(titleSize.height);\n        }\n        else {\n            this.nearSizes.push(titleSize.height);\n        }\n        return titleSize;\n    };\n    Axis.prototype.getMaxLabelSize = function (axis, heatmap) {\n        var labelSize = new Size(0, 0);\n        var labels = this.axisLabels;\n        var padding = (axis.border.width > 0 || axis.multiLevelLabels.length > 0) ? 10 : 0;\n        var count = 1;\n        var row = 1;\n        var interval = (axis.valueType === 'DateTime' && axis.showLabelOn !== 'None') || (axis.textStyle.textOverflow === 'Wrap' || axis.textStyle.textOverflow === 'Trim') ?\n            heatmap.initialClipRect.width / axis.axisLabelSize : heatmap.initialClipRect.width / axis.axisLabels.length;\n        axis.angle = axis.labelRotation;\n        axis.isIntersect = false;\n        if ((axis.orientation === 'Horizontal' && (axis.labelIntersectAction === 'Rotate45' ||\n            (axis.labelRotation % 180 === 0 && axis.labelIntersectAction === 'Trim' || axis.enableTrim)) ||\n            axis.labelIntersectAction === 'MultipleRows') && axis.textStyle.textOverflow !== 'Wrap' && axis.textStyle.textOverflow !== 'Trim') {\n            var startX = heatmap.initialClipRect.x + ((!axis.isInversed) ? 0 : heatmap.initialClipRect.width);\n            var previousEnd = void 0;\n            var previousStart = void 0;\n            this.clearMultipleRow();\n            for (var i = 0, len = labels.length; i < len; i++) {\n                var label = labels[i];\n                var elementSize = measureText(label, axis.textStyle);\n                var axisInterval = (axis.valueType === 'DateTime' && axis.showLabelOn !== 'None') ?\n                    axis.dateTimeAxisLabelInterval[i] * interval : interval;\n                var startPoint = startX + (!axis.isInversed ?\n                    ((interval - elementSize.width) / 2) : -((interval + elementSize.width) / 2));\n                startPoint = startPoint < heatmap.initialClipRect.x ? heatmap.initialClipRect.x : startPoint;\n                var endPoint = startPoint + elementSize.width;\n                if (!axis.isInversed) {\n                    if (isNullOrUndefined(previousEnd)) {\n                        previousEnd = endPoint;\n                    }\n                    else if ((startPoint < previousEnd) && axis.labelIntersectAction !== 'MultipleRows') {\n                        if (axis.labelIntersectAction === 'Rotate45' && !axis.enableTrim) {\n                            axis.angle = 45;\n                        }\n                        else {\n                            axis.isIntersect = true;\n                        }\n                        break;\n                    }\n                    previousEnd = endPoint;\n                }\n                else {\n                    if (isNullOrUndefined(previousStart)) {\n                        previousStart = startPoint;\n                    }\n                    else if ((previousStart < endPoint && axis.labelIntersectAction !== 'MultipleRows')) {\n                        if (axis.labelIntersectAction === 'Rotate45' && !axis.enableTrim) {\n                            axis.angle = 45;\n                        }\n                        else {\n                            axis.isIntersect = true;\n                        }\n                        break;\n                    }\n                    previousStart = startPoint;\n                }\n                startX += axis.isInversed ? -axisInterval : axisInterval;\n                if (axis.orientation === 'Horizontal' && axis.labelIntersectAction === 'MultipleRows' && axis.labelRotation === 0) {\n                    this.multipleRow.push(new MultipleRow(startPoint, endPoint, count, label, row));\n                }\n            }\n            if (axis.orientation === 'Horizontal' && axis.labelIntersectAction === 'MultipleRows' && axis.isInversed) {\n                this.multipleRow = this.multipleRow.reverse();\n            }\n        }\n        var labelLength = 1;\n        for (var i = 0; i < labels.length; i++) {\n            var multipleRow = this.multipleRow;\n            var label = void 0;\n            if (axis.enableTrim || axis.textStyle.textOverflow === 'Trim') {\n                label = textTrim((axis.textStyle.textOverflow === 'Trim' && axis.orientation === 'Horizontal' ? interval : axis.maxLabelLength), labels[i], axis.textStyle);\n            }\n            else {\n                label = labels[i];\n            }\n            if (axis.textStyle.textOverflow === 'Wrap') {\n                var labelInterval = axis.orientation === 'Horizontal' ? interval : axis.maxLabelLength;\n                var wrappedlabels = textWrap(label, labelInterval, axis.textStyle);\n                labelLength = wrappedlabels.length > labelLength ? wrappedlabels.length : labelLength;\n                if (axis.orientation === 'Vertical' || (axis.orientation === 'Horizontal' && axis.angle % 180 !== 0)) {\n                    var labelWidth = 0;\n                    var wrappedlabelSize = new Size(0, 0);\n                    for (var index = 0; index < wrappedlabels.length; index++) {\n                        wrappedlabelSize = measureText(wrappedlabels[index], axis.textStyle);\n                        if (wrappedlabelSize.width > labelWidth) {\n                            labelWidth = wrappedlabelSize.width;\n                            label = wrappedlabels[index];\n                        }\n                    }\n                }\n            }\n            var size = (axis.angle % 180 === 0) ?\n                measureText(label, axis.textStyle) : rotateTextSize(axis.textStyle, label, axis.angle);\n            labelSize.width = (labelSize.width > size.width) ? labelSize.width : size.width;\n            if (axis.labelIntersectAction === 'MultipleRows' && axis.orientation === 'Horizontal' && axis.textStyle.textOverflow !== 'Wrap' && axis.textStyle.textOverflow !== 'Trim' && i > 0 && axis.labelRotation === 0) {\n                if (multipleRow[i].end >= heatmap.initialClipRect.width && i < labels.length - 1) {\n                    multipleRow[i].row = multipleRow[i].row + 1;\n                }\n                for (var k = 1; k <= axis.multilevel.length; k++) {\n                    if (multipleRow[i].start < multipleRow[i - 1].end) {\n                        if (axis.multilevel[k] < multipleRow[i].start) {\n                            count = k;\n                            break;\n                        }\n                        else if (k === axis.multilevel.length - 1) {\n                            count = axis.multilevel.length;\n                            break;\n                        }\n                    }\n                    else if (size.width < interval) {\n                        for (var j = 1; j <= axis.multilevel.length; j++) {\n                            if (axis.multilevel[j] < multipleRow[i].start) {\n                                count = j;\n                                multipleRow[j].row = count;\n                                break;\n                            }\n                        }\n                    }\n                }\n                labelSize.height = (labelSize.height > ((size.height * count) + (((size.height * 0.5) / 2) * (count - 1)))) ?\n                    labelSize.height : ((size.height * count) + (((size.height * 0.5) / 2) * count));\n                this.multipleRow[i].index = count;\n                axis.multilevel[count] = multipleRow[i].end;\n            }\n            else {\n                if (axis.orientation === 'Horizontal' && axis.labelIntersectAction === 'MultipleRows' && i === 0 &&\n                    axis.labelRotation === 0 && axis.textStyle.textOverflow !== 'Wrap' && axis.textStyle.textOverflow !== 'Trim') {\n                    axis.multilevel[1] = multipleRow[i].end;\n                }\n                labelSize.height = (labelSize.height > size.height) ? labelSize.height : size.height;\n            }\n        }\n        labelSize.height = (axis.angle % 180 === 0) ? labelSize.height * labelLength : labelSize.height;\n        if (heatmap.cellSettings.border.width >= 20 && axis.orientation !== 'Horizontal') {\n            labelSize.width = labelSize.width + (heatmap.cellSettings.border.width / 4);\n        }\n        if (axis.opposedPosition) {\n            this.farSizes.push((axis.orientation === 'Horizontal') ? labelSize.height : labelSize.width + padding);\n        }\n        else {\n            this.nearSizes.push((axis.orientation === 'Horizontal') ? labelSize.height : labelSize.width + padding);\n        }\n        return labelSize;\n    };\n    /**\n     * Generate the axis lables for numeric axis\n     *\n     * @param heatmap\n     * @private\n     */\n    Axis.prototype.calculateNumericAxisLabels = function (heatmap) {\n        //Axis Min\n        var min = 0;\n        var max = 0;\n        var interval = this.interval ? this.interval : 1;\n        var adaptorMin;\n        var adaptorMax;\n        if (heatmap.adaptorModule && heatmap.isCellData) {\n            adaptorMin = this.orientation === 'Horizontal' ?\n                heatmap.adaptorModule.adaptiveXMinMax.min : heatmap.adaptorModule.adaptiveYMinMax.min;\n            adaptorMax = this.orientation === 'Horizontal' ?\n                heatmap.adaptorModule.adaptiveXMinMax.max : heatmap.adaptorModule.adaptiveYMinMax.max;\n        }\n        min = !isNullOrUndefined(this.minimum) ? this.minimum : ((adaptorMin) ? adaptorMin : 0);\n        max = !isNullOrUndefined(this.maximum) ? this.maximum :\n            ((adaptorMax) ? adaptorMax : (this.maxLength * this.increment));\n        var temp;\n        if (this.minimum && this.maximum && min > max) {\n            temp = min;\n            min = max;\n            max = temp;\n        }\n        max = !isNullOrUndefined(this.maximum) ? max : (adaptorMax ? adaptorMax : (max + min));\n        var format = this.labelFormat;\n        var isCustom = format.match('{value}') !== null;\n        this.format = heatmap.intl.getNumberFormat({\n            format: isCustom ? '' : format\n        });\n        for (var i = min; i <= max; i = i + (interval * this.increment)) {\n            var value = formatValue(isCustom, format, i, this.format);\n            this.axisLabels.push(value);\n        }\n        this.min = 0;\n        this.axisLabelSize = Math.floor(((max - min) / this.increment) + 1);\n        this.max = this.axisLabelSize - 1;\n        this.axisLabelInterval = interval;\n        for (var i = min; i <= max; i = i + this.increment) {\n            var value = formatValue(isCustom, format, i, this.format);\n            this.tooltipLabels.push(value);\n            this.labelValue.push(i);\n        }\n        this.labelValue = this.isInversed ? this.labelValue.reverse() : this.labelValue;\n    };\n    /**\n     * Generate the axis lables for category axis\n     *\n     * @private\n     */\n    Axis.prototype.calculateCategoryAxisLabels = function () {\n        var labels = this.labels ? this.labels : [];\n        labels = (labels.length > 0) ? labels : this.jsonCellLabel;\n        var min = !isNullOrUndefined(this.minimum) && !(this.minimum instanceof Date) ? this.minimum : 0;\n        var max = !isNullOrUndefined(this.maximum) && !(this.maximum instanceof Date) ? this.maximum : this.maxLength;\n        var interval = this.interval ? this.interval : 1;\n        var temp;\n        if (!isNullOrUndefined(this.minimum) && !isNullOrUndefined(this.maximum) && min > max) {\n            temp = min;\n            min = max;\n            max = temp;\n        }\n        if (labels && labels.length > 0) {\n            for (var i = min; i <= max; i = i + interval) {\n                var value = !isNullOrUndefined(labels[i]) ? labels[i].toString() : i.toString();\n                this.axisLabels.push(value);\n            }\n        }\n        else {\n            for (var i = min; i <= max; i = i + interval) {\n                this.axisLabels.push(i.toString());\n            }\n        }\n        for (var i = min; i <= max; i++) {\n            this.tooltipLabels.push(!isNullOrUndefined(labels[i]) ? labels[i].toString() : i.toString());\n            this.labelValue.push(!isNullOrUndefined(labels[i]) ? labels[i].toString() : i.toString());\n        }\n        this.min = min;\n        this.max = max;\n        this.axisLabelSize = max - min + 1;\n        this.axisLabelInterval = interval;\n        this.labelValue = this.isInversed ? this.labelValue.reverse() : this.labelValue;\n    };\n    /**\n     * Generate the axis labels for date time axis.\n     *\n     * @param heatmap\n     * @private\n     */\n    Axis.prototype.calculateDateTimeAxisLabel = function (heatmap) {\n        var interval = this.interval ? this.interval : 1;\n        var option = {\n            skeleton: 'full',\n            type: 'dateTime'\n        };\n        var dateParser = heatmap.intl.getDateParser(option);\n        var dateFormatter = heatmap.intl.getDateFormat(option);\n        var min;\n        var max;\n        var adaptorMin = null;\n        var adaptorMax = null;\n        if (heatmap.adaptorModule && heatmap.isCellData) {\n            adaptorMin = this.orientation === 'Horizontal' ? heatmap.adaptorModule.adaptiveXMinMax.min :\n                heatmap.adaptorModule.adaptiveYMinMax.min;\n            adaptorMax = this.orientation === 'Horizontal' ? heatmap.adaptorModule.adaptiveXMinMax.max :\n                heatmap.adaptorModule.adaptiveYMinMax.max;\n        }\n        var minimum = this.minimum ? this.minimum : (adaptorMin ? adaptorMin : null);\n        var maximum = this.maximum ? this.maximum : (adaptorMax ? adaptorMax : null);\n        if (minimum === null && maximum === null) {\n            min = 0;\n            max = this.maxLength * this.increment;\n            for (var i = min; i <= max; i = i + (interval * this.increment)) {\n                this.axisLabels.push(i.toString());\n                this.tooltipLabels.push(i.toString());\n                this.labelValue.push(i.toString());\n            }\n            this.min = 0;\n            this.max = this.maxLength;\n            this.axisLabelSize = (max - min) / this.increment + 1;\n            this.axisLabelInterval = interval;\n        }\n        else {\n            if (minimum !== null && maximum === null) {\n                min = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: minimum }).val))));\n                max = increaseDateTimeInterval(min, this.maxLength, this.intervalType, this.increment).getTime();\n            }\n            else if (minimum === null && maximum !== null) {\n                max = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: maximum }).val))));\n                min = increaseDateTimeInterval(max, -this.maxLength, this.intervalType, this.increment).getTime();\n            }\n            else {\n                min = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: minimum }).val))));\n                max = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: maximum }).val))));\n            }\n            this.format = heatmap.intl.getDateFormat({\n                format: this.labelFormat, skeleton: this.getSkeleton()\n            });\n            var tempInterval = min;\n            while (tempInterval <= max) {\n                var value = this.format(new Date(tempInterval));\n                this.axisLabels.push(value);\n                if (this.showLabelOn !== 'None') {\n                    interval = this.calculateLabelInterval(tempInterval);\n                    this.dateTimeAxisLabelInterval.push(interval);\n                }\n                tempInterval = increaseDateTimeInterval(tempInterval, interval, this.intervalType, this.increment).getTime();\n            }\n            this.min = 0;\n            this.axisLabelInterval = interval;\n            this.axisLabelSize = this.getTotalLabelLength(min, max); // this.tooltipLabels.length;\n            this.max = this.axisLabelSize - 1;\n            tempInterval = min;\n            while (tempInterval <= max) {\n                var value = this.format(new Date(tempInterval));\n                this.tooltipLabels.push(value);\n                this.labelValue.push(new Date(tempInterval));\n                tempInterval = increaseDateTimeInterval(tempInterval, 1, this.intervalType, this.increment).getTime();\n            }\n        }\n        this.labelValue = this.isInversed ? this.labelValue.reverse() : this.labelValue;\n    };\n    Axis.prototype.calculateLabelInterval = function (interval) {\n        var year = new Date(interval).getFullYear();\n        var month = new Date(interval).getMonth() + 1;\n        var day = new Date(interval).getDate();\n        var numberOfDays;\n        var tempInterval;\n        if (this.showLabelOn === 'Years' || this.showLabelOn === 'Months') {\n            if (this.showLabelOn === 'Years' && this.intervalType === 'Months') {\n                tempInterval = Math.ceil(12 / this.increment);\n            }\n            else {\n                numberOfDays = this.showLabelOn === 'Years' ? year % 4 === 0 ? 366 : 365 : new Date(year, month, 0).getDate();\n                numberOfDays += 1 - day;\n                tempInterval = this.intervalType === 'Days' ? Math.ceil(numberOfDays / this.increment) : this.intervalType === 'Hours' ?\n                    Math.ceil((numberOfDays * 24) / this.increment) : this.intervalType === 'Minutes' ?\n                    Math.ceil((numberOfDays * 24 * 60) / this.increment) : 1;\n            }\n        }\n        else if (this.showLabelOn === 'Days') {\n            tempInterval = this.intervalType === 'Hours' ? Math.ceil(24 / this.increment) : this.intervalType === 'Minutes' ?\n                Math.ceil((24 * 60) / this.increment) : 1;\n        }\n        else if (this.showLabelOn === 'Hours') {\n            var minutes = new Date(interval).getMinutes();\n            tempInterval = this.intervalType === 'Minutes' ? Math.ceil((60 - minutes) / this.increment) : 1;\n        }\n        else {\n            tempInterval = 1;\n        }\n        return tempInterval;\n    };\n    /**\n     * @private\n     */\n    Axis.prototype.getSkeleton = function () {\n        var skeleton;\n        if (this.intervalType === 'Years') {\n            skeleton = 'yMMM';\n        }\n        else if (this.intervalType === 'Months') {\n            skeleton = 'MMMd';\n        }\n        else if (this.intervalType === 'Days') {\n            skeleton = 'yMd';\n        }\n        else if (this.intervalType === 'Hours') {\n            skeleton = 'EHm';\n        }\n        else if (this.intervalType === 'Minutes') {\n            skeleton = 'Hms';\n        }\n        else {\n            skeleton = 'Hms';\n        }\n        return skeleton;\n    };\n    /** @private */\n    Axis.prototype.getTotalLabelLength = function (min, max) {\n        var length = 0;\n        var minimum = new Date(min);\n        var maximum = new Date(max);\n        var difference;\n        var days;\n        switch (this.intervalType) {\n            case 'Years':\n                // eslint-disable-next-line no-case-declarations\n                var years = ((maximum.getFullYear() - minimum.getFullYear()) / this.increment) + 1;\n                length = Math.floor(years);\n                break;\n            case 'Months':\n                // eslint-disable-next-line no-case-declarations\n                var months = (maximum.getFullYear() - minimum.getFullYear()) * 12;\n                months -= minimum.getMonth();\n                months += maximum.getMonth();\n                length = months <= 0 ? 1 : Math.floor((months / this.increment) + 1);\n                break;\n            case 'Days':\n                difference = Math.abs(minimum.getTime() - maximum.getTime());\n                days = Math.floor(difference / (1000 * 3600 * 24));\n                length = Math.floor((days / this.increment) + 1);\n                break;\n            case 'Hours':\n                difference = Math.abs(minimum.getTime() - maximum.getTime());\n                // eslint-disable-next-line no-case-declarations\n                var hours = Math.floor(difference / (1000 * 3600));\n                length = Math.floor(hours / this.increment) + 1;\n                break;\n            case 'Minutes':\n                difference = Math.abs(minimum.getTime() - maximum.getTime());\n                // eslint-disable-next-line no-case-declarations\n                var minutes = Math.floor(difference / (1000 * 60));\n                length = Math.floor(minutes / this.increment) + 1;\n                break;\n        }\n        return length;\n    };\n    /**\n     * Clear the axis label collection\n     *\n     * @private\n     */\n    Axis.prototype.clearAxisLabel = function () {\n        this.axisLabels = [];\n        this.tooltipLabels = [];\n        this.dateTimeAxisLabelInterval = [];\n        this.labelValue = [];\n    };\n    /**\n     * Clear the axis label collection\n     *\n     * @private\n     */\n    Axis.prototype.clearMultipleRow = function () {\n        this.multipleRow = [];\n        this.multilevel = [];\n    };\n    __decorate([\n        Complex({ text: '', textStyle: Theme.axisTitleFont }, Title)\n    ], Axis.prototype, \"title\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"opposedPosition\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"labels\", void 0);\n    __decorate([\n        Complex(Theme.axisLabelFont, Font)\n    ], Axis.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"labelRotation\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"isInversed\", void 0);\n    __decorate([\n        Property('Category')\n    ], Axis.prototype, \"valueType\", void 0);\n    __decorate([\n        Property(1)\n    ], Axis.prototype, \"increment\", void 0);\n    __decorate([\n        Property('None')\n    ], Axis.prototype, \"showLabelOn\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"minimum\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"maximum\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"interval\", void 0);\n    __decorate([\n        Property('')\n    ], Axis.prototype, \"labelFormat\", void 0);\n    __decorate([\n        Property('Days')\n    ], Axis.prototype, \"intervalType\", void 0);\n    __decorate([\n        Property('Trim')\n    ], Axis.prototype, \"labelIntersectAction\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"enableTrim\", void 0);\n    __decorate([\n        Property(35)\n    ], Axis.prototype, \"maxLabelLength\", void 0);\n    __decorate([\n        Complex({ color: '#b5b5b5', width: 0, type: 'Rectangle' }, AxisLabelBorder)\n    ], Axis.prototype, \"border\", void 0);\n    __decorate([\n        Collection([], MultiLevelLabels)\n    ], Axis.prototype, \"multiLevelLabels\", void 0);\n    return Axis;\n}(ChildProperty));\nexport { Axis };\n","import { Rect, Size, measureText, TextOption, rotateTextSize, textTrim, CanvasTooltip, PathOption, textWrap } from '../utils/helper';\nimport { sum, titlePositionX, LineOption, Line, DrawSvgCanvas, TextBasic, titlePositionY, getTitle } from '../utils/helper';\nimport { extend, Browser, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar AxisHelper = /** @class */ (function () {\n    function AxisHelper(heatMap) {\n        this.heatMap = heatMap;\n        this.padding = 10;\n        this.drawSvgCanvas = new DrawSvgCanvas(heatMap);\n    }\n    /**\n     * To render the x and y axis.\n     *\n     * @private\n     */\n    AxisHelper.prototype.renderAxes = function () {\n        this.initialClipRect = this.heatMap.initialClipRect;\n        var heatMap = this.heatMap;\n        var axisElement;\n        var element;\n        if (!heatMap.enableCanvasRendering) {\n            axisElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'AxisCollection' });\n        }\n        var axes = this.heatMap.axisCollections;\n        for (var i = 0, len = axes.length; i < len; i++) {\n            var axis = axes[i];\n            if (axis.orientation === 'Horizontal') {\n                if (!heatMap.enableCanvasRendering) {\n                    element = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'XAxisGroup' });\n                }\n                this.drawXAxisLine(element, axis);\n                this.drawXAxisTitle(axis, element, axis.rect);\n                this.drawXAxisLabels(axis, element, axis.rect);\n            }\n            else {\n                element = heatMap.renderer.createGroup({ id: heatMap.element.id + 'YAxisGroup' });\n                this.drawYAxisLine(element, axis);\n                this.drawYAxisTitle(axis, element, axis.rect);\n                this.drawYAxisLabels(axis, element, axis.rect);\n            }\n            if (axis.multiLevelLabels.length > 0) {\n                this.drawMultiLevels(element, axis);\n            }\n            if (!heatMap.enableCanvasRendering) {\n                axisElement.appendChild(element);\n            }\n        }\n        if (!heatMap.enableCanvasRendering) {\n            this.heatMap.svgObject.appendChild(axisElement);\n        }\n    };\n    AxisHelper.prototype.drawXAxisLine = function (parent, axis) {\n        var y = this.initialClipRect.y + (!axis.opposedPosition ? this.initialClipRect.height : 0);\n        var line = new LineOption(this.heatMap.element.id + '_XAxisLine', new Line(this.initialClipRect.x, y, this.initialClipRect.x + this.initialClipRect.width, y), 'transparent', 0);\n        this.drawSvgCanvas.drawLine(line, parent);\n    };\n    AxisHelper.prototype.drawYAxisLine = function (parent, axis) {\n        var x = this.initialClipRect.x + ((!axis.opposedPosition) ? 0 : this.initialClipRect.width);\n        var line = new LineOption(this.heatMap.element.id + '_YAxisLine', new Line(x, this.initialClipRect.y, x, this.initialClipRect.height + this.initialClipRect.y), 'transparent', 0);\n        this.drawSvgCanvas.drawLine(line, parent);\n    };\n    AxisHelper.prototype.drawXAxisTitle = function (axis, parent, rect) {\n        var titlepadding = (axis.textStyle.size === '0px' ? 0 : 10);\n        var y = rect.y + (!axis.opposedPosition ? (axis.maxLabelSize.height + titlepadding +\n            sum(axis.xAxisMultiLabelHeight)) : -(axis.maxLabelSize.height + titlepadding + sum(axis.xAxisMultiLabelHeight)));\n        if (axis.title.text) {\n            var heatMap = this.heatMap;\n            var title = axis.title;\n            var elementSize = measureText(title.text, title.textStyle);\n            var padding = this.padding;\n            var anchor = title.textStyle.textAlignment === 'Near' ? 'start' :\n                title.textStyle.textAlignment === 'Far' ? 'end' : 'middle';\n            padding = axis.opposedPosition ? -(padding + elementSize.height / 4) : (padding + (3 * elementSize.height / 4));\n            var options = new TextOption(heatMap.element.id + '_XAxisTitle', new TextBasic(rect.x + titlePositionX(rect.width, 0, 0, title.textStyle), y + padding, anchor, title.text), title.textStyle, title.textStyle.color || heatMap.themeStyle.axisTitle);\n            this.drawSvgCanvas.createText(options, parent, title.text);\n        }\n    };\n    AxisHelper.prototype.drawYAxisTitle = function (axis, parent, rect) {\n        if (axis.title.text) {\n            var title = axis.title;\n            var heatMap = this.heatMap;\n            var labelRotation = (axis.opposedPosition) ? 90 : -90;\n            var anchor = title.textStyle.textAlignment === 'Near' ? 'start' :\n                title.textStyle.textAlignment === 'Far' ? 'end' : 'middle';\n            var padding = 10;\n            padding = axis.opposedPosition ? padding : -padding;\n            var titlepadding = (axis.textStyle.size === '0px' ? 0 : padding);\n            var x = rect.x + titlepadding + ((axis.opposedPosition) ? axis.maxLabelSize.width + sum(axis.yAxisMultiLabelHeight) :\n                -(axis.maxLabelSize.width + sum(axis.yAxisMultiLabelHeight)));\n            var y = rect.y + titlePositionY(rect, 0, 0, title.textStyle) + (axis.opposedPosition ? this.padding : -this.padding);\n            var options = new TextOption(heatMap.element.id + '_YAxisTitle', new TextBasic(x, y - this.padding, anchor, title.text, labelRotation, 'rotate(' + labelRotation + ',' + (x) + ',' + (y) + ')', 'auto'), title.textStyle, title.textStyle.color || heatMap.themeStyle.axisTitle);\n            if (!this.heatMap.enableCanvasRendering) {\n                this.drawSvgCanvas.createText(options, parent, title.text);\n            }\n            else {\n                this.drawSvgCanvas.canvasDrawText(options, title.text, x, y);\n            }\n        }\n    };\n    /**\n     * Get the visible labels for both x and y axis\n     *\n     * @private\n     */\n    AxisHelper.prototype.calculateVisibleLabels = function () {\n        var heatmap = this.heatMap;\n        var axis;\n        var axisCollection = heatmap.axisCollections;\n        var data = this.heatMap.dataSourceSettings;\n        var processLabels = !(data && data.isJsonData && data.adaptorType === 'Cell');\n        for (var i = 0, len = axisCollection.length; i < len; i++) {\n            axis = axisCollection[i];\n            if (axis.valueType === 'Numeric' && processLabels) {\n                axis.clearAxisLabel();\n                axis.calculateNumericAxisLabels(this.heatMap);\n            }\n            else if (axis.valueType === 'DateTime' && processLabels) {\n                axis.clearAxisLabel();\n                axis.calculateDateTimeAxisLabel(this.heatMap);\n            }\n            else if (axis.valueType === 'Category') {\n                axis.clearAxisLabel();\n                axis.calculateCategoryAxisLabels();\n            }\n            axis.tooltipLabels = axis.isInversed ? axis.tooltipLabels.reverse() : axis.tooltipLabels;\n        }\n    };\n    /**\n     * Measure the title and labels rendering position for both X and Y axis.\n     *\n     * @param rect\n     * @private\n     */\n    AxisHelper.prototype.measureAxis = function (rect) {\n        var heatmap = this.heatMap;\n        var axis;\n        var axisCollection = heatmap.axisCollections;\n        for (var i = axisCollection.length - 1; i >= 0; i--) {\n            axis = axisCollection[i];\n            var padding = axis.textStyle.size === '0px' ? 0 : this.padding;\n            axis.nearSizes = [];\n            axis.farSizes = [];\n            axis.computeSize(axis, heatmap, rect);\n            if (!axis.opposedPosition) {\n                if (axis.orientation === 'Horizontal') {\n                    rect.height -= (sum(axis.nearSizes) + padding);\n                }\n                else {\n                    rect.x += sum(axis.nearSizes) + padding;\n                    rect.width -= sum(axis.nearSizes) + padding;\n                }\n            }\n            else {\n                if (axis.orientation === 'Horizontal') {\n                    rect.y += sum(axis.farSizes) + padding;\n                    rect.height -= sum(axis.farSizes) + padding;\n                }\n                else {\n                    rect.width -= sum(axis.farSizes) + padding;\n                }\n            }\n        }\n    };\n    /**\n     * Calculate the X and Y axis line position\n     *\n     * @param rect\n     * @private\n     */\n    AxisHelper.prototype.calculateAxisSize = function (rect) {\n        var heatmap = this.heatMap;\n        var axisCollection = heatmap.axisCollections;\n        for (var i = 0, len = axisCollection.length; i < len; i++) {\n            var axis = axisCollection[i];\n            axis.rect = extend({}, rect, null, true);\n            if (axis.orientation === 'Horizontal' && axis.multiLevelLabels.length !== 0) {\n                if (axis.opposedPosition) {\n                    axis.rect.y += (axis.angle === 0 || axis.angle === 180 || axis.angle === 360 ? 0 : this.padding);\n                    this.heatMap.initialClipRect.y += (axis.angle === 0 || axis.angle === 180 || axis.angle === 360 ? 0 : this.padding);\n                }\n                rect.height -= (axis.angle === 0 || axis.angle === 180 || axis.angle === 360 ? 0 : this.padding);\n            }\n            if (axis.orientation === 'Horizontal' && !axis.opposedPosition) {\n                axis.rect.y = rect.y + rect.height;\n                axis.rect.height = 0;\n            }\n            if (axis.orientation === 'Vertical' && axis.opposedPosition) {\n                axis.rect.x = rect.x + rect.width;\n                axis.rect.width = 0;\n            }\n            axis.multiLevelPosition = [];\n            for (var i_1 = 0; i_1 < axis.multiLevelLabels.length; i_1++) {\n                var multiPosition = axis.multiPosition(axis, i_1);\n                axis.multiLevelPosition.push(multiPosition);\n            }\n        }\n    };\n    AxisHelper.prototype.drawXAxisLabels = function (axis, parent, rect) {\n        var heatMap = this.heatMap;\n        var labels = axis.axisLabels;\n        var borderWidth = this.heatMap.cellSettings.border.width > 5 ? (this.heatMap.cellSettings.border.width / 2) : 0;\n        var interval = (rect.width - borderWidth) / axis.axisLabelSize;\n        var compactInterval = 0;\n        var axisInterval = axis.interval ? axis.interval : 1;\n        var tempintervel = rect.width / (axis.axisLabelSize / axis.axisLabelInterval);\n        var temp = axis.axisLabelInterval;\n        if (tempintervel > 0) {\n            while (tempintervel < parseInt(axis.textStyle.size, 10)) {\n                temp = temp + 1;\n                tempintervel = rect.width / (axis.axisLabelSize / temp);\n            }\n        }\n        else {\n            temp = axis.tooltipLabels.length;\n        }\n        if (axis.axisLabelInterval < temp) {\n            compactInterval = temp;\n            labels = axis.tooltipLabels;\n            axisInterval = temp;\n        }\n        var y;\n        var padding = 10;\n        var lableStrtX = rect.x + (!axis.isInversed ? 0 : rect.width);\n        var labelPadding;\n        var angle = axis.angle;\n        padding = this.padding;\n        var labelElement;\n        var borderElement;\n        if (!heatMap.enableCanvasRendering) {\n            labelElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'XAxisLabels' });\n            borderElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'XAxisLabelBorder' });\n        }\n        if (axis.isInversed && axis.labelIntersectAction === 'MultipleRows') {\n            axis.multipleRow.reverse();\n        }\n        for (var i = 0, len = labels.length; i < len; i++) {\n            var lableRect = new Rect(lableStrtX, rect.y, interval, rect.height);\n            var label = (axis.textStyle.textOverflow !== 'Wrap' && axis.textStyle.textOverflow !== 'Trim' && axis.labelIntersectAction === 'Trim' && axis.isIntersect) ? axis.valueType !== 'DateTime' ||\n                axis.showLabelOn === 'None' ? textTrim(interval * axisInterval, labels[i], axis.textStyle) :\n                textTrim(axis.dateTimeAxisLabelInterval[i] * interval, labels[i], axis.textStyle) : labels[i];\n            label = (axis.enableTrim || axis.textStyle.textOverflow === 'Trim') ? textTrim((axis.textStyle.textOverflow === 'Trim' ? interval - (axis.border.width / 2) : axis.maxLabelLength), labels[i], axis.textStyle) : label;\n            var wrappedLabel = label;\n            if (axis.textStyle.textOverflow === 'Wrap') {\n                var wrappedlabels = textWrap(wrappedLabel, interval - (axis.border.width / 2), axis.textStyle);\n                var labelWidth = 0;\n                var wrappedlabelSize = new Size(0, 0);\n                for (var index = 0; index < wrappedlabels.length; index++) {\n                    wrappedlabelSize = measureText(wrappedlabels[index], axis.textStyle);\n                    if (wrappedlabelSize.width > labelWidth) {\n                        labelWidth = wrappedlabelSize.width;\n                        wrappedLabel = wrappedlabels[index];\n                    }\n                }\n            }\n            var elementSize = measureText(wrappedLabel, axis.textStyle);\n            var transform = void 0;\n            labelPadding = (axis.opposedPosition) ? -(padding) : (padding + ((angle % 360) === 0 ? (elementSize.height / 2) : 0));\n            elementSize.width = axis.isInversed ? (elementSize.width > interval ? interval : elementSize.width) : elementSize.width;\n            var x = lableRect.x + ((!axis.isInversed) ?\n                (lableRect.width / 2) - (elementSize.width / 2) : -((lableRect.width / 2) + (elementSize.width / 2)));\n            if (axis.textStyle.textAlignment === 'Near') {\n                x = lableRect.x - ((!axis.isInversed) ? 0 : lableRect.width);\n            }\n            else if (axis.textStyle.textAlignment === 'Far') {\n                x = lableRect.x + ((!axis.isInversed) ?\n                    (lableRect.width - elementSize.width) : -(elementSize.width));\n            }\n            if (axis.labelIntersectAction === 'Trim') {\n                x = (!axis.isInversed) ? (x >= lableRect.x ? x : lableRect.x) : (x > (lableStrtX - interval) ? x : (lableStrtX - interval));\n            }\n            else if (angle % 180 === 0) {\n                x = x < rect.x ? rect.x : x;\n                x = ((x + elementSize.width) > (rect.x + rect.width)) ? (rect.x + rect.width - elementSize.width) : x;\n            }\n            if (axis.textStyle.textOverflow === 'Wrap' && !axis.isInversed) {\n                x = x < lableRect.x ? lableRect.x : x;\n            }\n            if (axis.labelIntersectAction === 'MultipleRows' && axis.textStyle.textOverflow !== 'Wrap' && axis.textStyle.textOverflow !== 'Trim' && axis.labelRotation === 0) {\n                var a = axis.opposedPosition ? -(axis.multipleRow[i].index - 1) :\n                    (axis.multipleRow[i].index - 1);\n                if (axis.multipleRow[i].index > 1) {\n                    y = rect.y + labelPadding + (elementSize.height * a) + (axis.opposedPosition ?\n                        -(((elementSize.height * 0.5) / 2) * axis.multipleRow[i].index) :\n                        (((elementSize.height * 0.5) / 2) * axis.multipleRow[i].index));\n                }\n                else {\n                    y = rect.y + labelPadding + (axis.opposedPosition ? -((elementSize.height * 0.5) / 2) :\n                        ((elementSize.height * 0.5) / 2));\n                }\n            }\n            else {\n                y = rect.y + (axis.textStyle.textOverflow === 'Wrap' && axis.opposedPosition && angle % 360 === 0 ? -(axis.farSizes.length >= 1 ? axis.farSizes[1] : 0) + padding : labelPadding);\n            }\n            this.drawXAxisBorder(axis, borderElement, axis.rect, x, elementSize.width, i);\n            if (angle % 360 !== 0) {\n                angle = (angle > 360) ? angle % 360 : angle;\n                var rotateSize = rotateTextSize(axis.textStyle, wrappedLabel, angle);\n                x = lableRect.x + (axis.isInversed ? -(lableRect.width / 2) : (lableRect.width / 2));\n                y = y + (axis.opposedPosition ? ((axis.textStyle.textOverflow === 'Wrap' ? (rotateSize.height / 2) - (axis.farSizes.length >= 1 ? axis.farSizes[1] : 0) : -(rotateSize.height / 2)) + (axis.border.width / 2)) :\n                    (((angle % 360) === 180 || (angle % 360) === -180) ? 0 : (rotateSize.height / 2) - (axis.border.width)));\n                transform = 'rotate(' + angle + ',' + x + ',' + y + ')';\n            }\n            if (this.heatMap.cellSettings.border.width > 5 && axis.opposedPosition) {\n                y = y - (this.heatMap.cellSettings.border.width / 2);\n            }\n            if (this.heatMap.yAxis.opposedPosition && this.heatMap.cellSettings.border.width > 5) {\n                x = x + (this.heatMap.cellSettings.border.width / 2);\n            }\n            if (this.heatMap.xAxis.isInversed && this.heatMap.cellSettings.border.width > 5) {\n                x = x - (this.heatMap.cellSettings.border.width / 2);\n            }\n            if (elementSize.width >= interval) {\n                x = axis.border.width ? x + (axis.border.width / 2) : x;\n            }\n            x = axis.textStyle.textAlignment === 'Near' ? x + (axis.border.width / 2) : axis.textStyle.textAlignment === 'Far' ?\n                x - (axis.border.width / 2) : x;\n            var options = new TextOption(heatMap.element.id + '_XAxis_Label' + i, new TextBasic(x, y, (angle % 360 === 0) ? 'start' : 'middle', label, angle, transform), axis.textStyle, axis.textStyle.color || heatMap.themeStyle.axisLabel);\n            options.text = getTitle(options.text, axis.textStyle, lableRect.width - (axis.border.width / 2));\n            if (angle !== 0 && this.heatMap.enableCanvasRendering) {\n                this.drawSvgCanvas.canvasDrawText(options, label);\n            }\n            else {\n                if (axis.textStyle.textOverflow === 'Wrap') {\n                    this.drawSvgCanvas.createWrapText(options, axis.textStyle, labelElement);\n                }\n                else {\n                    this.drawSvgCanvas.createText(options, labelElement, label);\n                }\n            }\n            if (compactInterval === 0) {\n                var labelInterval = (axis.valueType === 'DateTime' && axis.showLabelOn !== 'None') ?\n                    axis.dateTimeAxisLabelInterval[i] : axis.axisLabelInterval;\n                lableStrtX = lableStrtX + (!axis.isInversed ? (labelInterval * interval) :\n                    -(labelInterval * interval));\n            }\n            else {\n                lableStrtX = lableStrtX + (!axis.isInversed ? (compactInterval * interval) : -(compactInterval * interval));\n            }\n            if (wrappedLabel.indexOf('...') !== -1) {\n                this.heatMap.tooltipCollection.push(new CanvasTooltip(labels[i], new Rect(x, y - elementSize.height, elementSize.width, elementSize.height)));\n            }\n            if (compactInterval !== 0) {\n                i = i + (compactInterval - 1);\n            }\n        }\n        if (!heatMap.enableCanvasRendering) {\n            parent.appendChild(labelElement);\n            parent.appendChild(borderElement);\n        }\n    };\n    AxisHelper.prototype.drawYAxisLabels = function (axis, parent, rect) {\n        var heatMap = this.heatMap;\n        var labels = axis.axisLabels;\n        var interval = rect.height / axis.axisLabelSize;\n        var compactInterval = 0;\n        var tempintervel = rect.height / (axis.axisLabelSize / axis.axisLabelInterval);\n        var temp = axis.axisLabelInterval;\n        var label;\n        if (tempintervel > 0) {\n            while (tempintervel < parseInt(axis.textStyle.size, 10)) {\n                temp = temp + 1;\n                tempintervel = rect.height / (axis.axisLabelSize / temp);\n            }\n        }\n        else {\n            temp = axis.tooltipLabels.length;\n        }\n        if (axis.axisLabelInterval < temp) {\n            compactInterval = temp;\n            labels = axis.tooltipLabels;\n        }\n        var padding = 10;\n        var lableStartY = rect.y + (axis.isInversed ? 0 : rect.height);\n        var anchor = axis.opposedPosition ? 'start' : 'end';\n        padding = axis.opposedPosition ? padding : -padding;\n        var labelElement;\n        var borderElement;\n        if (!heatMap.enableCanvasRendering) {\n            labelElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'YAxisLabels' });\n            borderElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'YAxisLabelBorder' });\n        }\n        for (var i = 0, len = labels.length; i < len; i++) {\n            var labelRect = new Rect(rect.x, lableStartY, rect.width, interval);\n            var position = axis.isInversed ? labelRect.height / 2 : -(labelRect.height / 2); //titlePositionY(lableRect, 0, 0, axis.textStyle);\n            var axisWidth = this.heatMap.cellSettings.border.width >= 20 ? (this.heatMap.cellSettings.border.width / 2) : 0;\n            var indexValue = this.heatMap.cellSettings.border.width > 5 ?\n                (((this.heatMap.cellSettings.border.width / 2) / len) * (axis.isInversed ? (i) : (len - i))) : 0;\n            label = (axis.enableTrim || axis.textStyle.textOverflow === 'Trim') ? textTrim(axis.maxLabelLength, labels[i], axis.textStyle) : labels[i];\n            var elementSize = measureText(label, axis.textStyle);\n            var labelLength = 1;\n            if (axis.textStyle.textOverflow === 'Wrap') {\n                var wrappedLabel = textWrap(label, axis.maxLabelLength, axis.textStyle);\n                for (var index = 0; index < wrappedLabel.length; index++) {\n                    if ((elementSize.height * wrappedLabel.length) > tempintervel && wrappedLabel.length > 0) {\n                        wrappedLabel.pop();\n                        if (wrappedLabel.length > 0) {\n                            wrappedLabel[wrappedLabel.length - 1] = wrappedLabel[wrappedLabel.length - 1] + '...';\n                            /* eslint-disable max-len */\n                            wrappedLabel[wrappedLabel.length - 1] = textTrim(axis.maxLabelLength, wrappedLabel[wrappedLabel.length - 1], axis.textStyle);\n                        }\n                    }\n                }\n                label = wrappedLabel.length !== 0 ? '' : label;\n                for (var labelIndex = 0; labelIndex < wrappedLabel.length; labelIndex++) {\n                    label = isNullOrUndefined(label) ? wrappedLabel[labelIndex] : label + ' ' + wrappedLabel[labelIndex];\n                }\n                labelLength = wrappedLabel.length;\n            }\n            var x = labelRect.x + padding + (axis.opposedPosition ? (axis.textStyle.textOverflow === 'Wrap' && axis.angle % 360 !== 0 ? labelLength * (elementSize.height / 2) : 0) + axisWidth : -axisWidth);\n            if (axis.textStyle.textAlignment === 'Far' && axis.angle === 0) {\n                /* eslint-disable max-len */\n                position = axis.isInversed ? labelRect.height - (labelLength > 1 ? (elementSize.height * labelLength) - (elementSize.height / 2) : (elementSize.height / 2)) :\n                    -(labelLength > 1 ? (elementSize.height * labelLength) - (elementSize.height / 2) : (elementSize.height / 2));\n            }\n            else if (axis.textStyle.textAlignment === 'Near' && axis.angle === 0) {\n                /* eslint-disable max-len */\n                position = (axis.isInversed ? elementSize.height / 2 : ((elementSize.height / 2) - labelRect.height)) + (axis.border.width / 2);\n            }\n            var y = (labelRect.y - indexValue) + position - ((labelLength > 1 && axis.textStyle.textAlignment === 'Center') || (axis.angle !== 0 && axis.opposedPosition) ? (((elementSize.height * labelLength) / 2) - (elementSize.height / 2)) : 0);\n            var options = new TextOption(heatMap.element.id + '_YAxis_Label' + i, new TextBasic(x, y, anchor, label, 0, 'rotate(' + axis.angle + ',' + (x) + ',' + (y) + ')', 'middle'), axis.textStyle, axis.textStyle.color || heatMap.themeStyle.axisLabel);\n            if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                options.dy = '1ex';\n            }\n            options.text = getTitle(options.text, axis.textStyle, axis.maxLabelLength);\n            if (axis.textStyle.textOverflow === 'Wrap') {\n                this.drawSvgCanvas.createWrapText(options, axis.textStyle, labelElement);\n            }\n            else {\n                this.drawSvgCanvas.createText(options, labelElement, label);\n            }\n            if (compactInterval === 0) {\n                var labelInterval = (axis.valueType === 'DateTime' && axis.showLabelOn !== 'None') ?\n                    axis.dateTimeAxisLabelInterval[i] : axis.axisLabelInterval;\n                lableStartY = lableStartY + (axis.isInversed ? (labelInterval * interval) :\n                    -(labelInterval * interval));\n            }\n            else {\n                lableStartY = lableStartY + (axis.isInversed ? (compactInterval * interval) : -(compactInterval * interval));\n                i = i + (compactInterval - 1);\n            }\n            this.drawYAxisBorder(axis, borderElement, axis.rect, y, elementSize.height, i);\n            if (label.indexOf('...') !== -1) {\n                var xValue = axis.opposedPosition ? x : (x - elementSize.width);\n                this.heatMap.tooltipCollection.push(new CanvasTooltip(labels[i], new Rect(xValue, y - elementSize.height, elementSize.width, elementSize.height)));\n            }\n        }\n        if (!heatMap.enableCanvasRendering) {\n            parent.appendChild(labelElement);\n            parent.appendChild(borderElement);\n        }\n    };\n    AxisHelper.prototype.drawXAxisBorder = function (axis, parent, rect, lableX, width, index) {\n        var interval = rect.width / axis.axisLabelSize;\n        var path = '';\n        var padding = 10;\n        var axisInterval = axis.interval ? axis.interval : 1;\n        var startX = axis.isInversed ? rect.x + rect.width - (interval * index * axisInterval) :\n            rect.x + (interval * index * axisInterval);\n        var startY = rect.y;\n        var endX;\n        var endY;\n        endY = startY + (axis.opposedPosition ? -(axis.maxLabelSize.height + padding) : axis.maxLabelSize.height + padding);\n        // eslint-disable-next-line prefer-const\n        endX = axis.isInversed ? startX - interval : startX + interval;\n        var endY1 = axis.isInversed ? (lableX + width + padding) : (lableX - padding);\n        var endY2 = axis.isInversed ? (lableX - padding) : (lableX + width + padding);\n        switch (axis.border.type) {\n            case 'Rectangle':\n                path = ('M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + startY);\n                break;\n            case 'WithoutTopBorder':\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ';\n                break;\n            case 'WithoutBottomBorder':\n                path = 'M' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'WithoutTopandBottomBorder':\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'M' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'Brace':\n                endY = startY + ((endY - startY) / 2) + (axis.opposedPosition ? 0 : 5);\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endY1 + ' ' + endY + ' ' + 'M' + ' ' + endY2 +\n                    ' ' + endY + ' ' + 'L' +\n                    ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ';\n                break;\n        }\n        if (axis.border.width > 0 && axis.border.type !== 'WithoutBorder') {\n            this.createAxisBorderElement(axis, path, parent, index);\n        }\n    };\n    AxisHelper.prototype.drawYAxisBorder = function (axis, parent, rect, lableY, height, index) {\n        var interval = rect.height / axis.axisLabelSize;\n        var path = '';\n        var padding = 20;\n        var axisInterval = axis.interval ? axis.interval : 1;\n        var startX = rect.x;\n        var startY = axis.isInversed ? rect.y + (interval * index * axisInterval) :\n            rect.y + rect.height - (interval * index * axisInterval);\n        var endX;\n        var endY;\n        endX = startX + (!axis.opposedPosition ? -(axis.maxLabelSize.width + padding) : axis.maxLabelSize.width + padding);\n        // eslint-disable-next-line prefer-const\n        endY = axis.isInversed ? startY + interval : startY - interval;\n        var endY1 = axis.isInversed ? lableY - height / 2 : lableY + height / 2;\n        var endY2 = axis.isInversed ? lableY + height / 2 : lableY - height / 2;\n        switch (axis.border.type) {\n            case 'Rectangle':\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + startY;\n                break;\n            case 'WithoutTopBorder':\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ';\n                break;\n            case 'WithoutBottomBorder':\n                path = 'M' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ' +\n                    'L' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'WithoutTopandBottomBorder':\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'M' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ';\n                break;\n            case 'Brace':\n                endX = startX - (startX - endX) / 2;\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY1 + ' ' + 'M' + ' ' +\n                    endX + ' ' + endY2 + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ' +\n                    'L' + ' ' + startX + ' ' + endY;\n                break;\n        }\n        if (axis.border.width > 0 && axis.border.type !== 'WithoutBorder') {\n            this.createAxisBorderElement(axis, path, parent, index);\n        }\n    };\n    /**\n     * To create border element for axis.\n     *\n     * @returns {void}\n     * @private\n     */\n    AxisHelper.prototype.createAxisBorderElement = function (axis, labelBorder, parent, index) {\n        var canvasTranslate;\n        var id = axis.orientation === 'Horizontal' ? '_XAxis_Label_Border' : '_YAxis_Label_Border';\n        var pathOptions = new PathOption(this.heatMap.element.id + id + index, 'transparent', axis.border.width, axis.border.color, 1, 'none', labelBorder);\n        if (!this.heatMap.enableCanvasRendering) {\n            var borderElement = this.heatMap.renderer.drawPath(pathOptions);\n            parent.appendChild(borderElement);\n        }\n        else {\n            this.heatMap.canvasRenderer.drawPath(pathOptions, canvasTranslate);\n        }\n    };\n    AxisHelper.prototype.drawMultiLevels = function (parent, axis) {\n        var element;\n        if (!this.heatMap.enableCanvasRendering) {\n            element = this.heatMap.renderer.createGroup({ id: this.heatMap.element.id + '_' + axis.orientation + '_MultiLevelLabel' });\n        }\n        if (axis.orientation === 'Horizontal') {\n            this.renderXAxisMultiLevelLabels(axis, element);\n        }\n        else {\n            this.renderYAxisMultiLevelLabels(axis, element);\n        }\n        if (!this.heatMap.enableCanvasRendering) {\n            parent.appendChild(element);\n        }\n    };\n    /**\n     * render x axis multi level labels\n     *\n     * @private\n     * @returns {void}\n     */\n    AxisHelper.prototype.renderXAxisMultiLevelLabels = function (axis, parent) {\n        var _this = this;\n        var x = 0;\n        var y;\n        var padding = 10;\n        var startX;\n        var startY;\n        var endX = 0;\n        var tooltip;\n        var start;\n        var end;\n        var labelSize;\n        var anchor;\n        var isInversed = axis.isInversed;\n        var labelElement;\n        var opposedPosition = axis.opposedPosition;\n        var pathRect = '';\n        var gap;\n        var textLength;\n        var position = (isInversed ? axis.rect.width : 0) + axis.rect.x;\n        axis.multiLevelLabels.map(function (multiLevel, level) {\n            labelElement = _this.heatMap.renderer.createGroup({ id: _this.heatMap.element.id + '_XAxisMultiLevelLabel' + level });\n            multiLevel.categories.map(function (categoryLabel, i) {\n                if (_this.heatMap.theme === 'Bootstrap5' || _this.heatMap.theme === 'Bootstrap5Dark') {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    multiLevel.setProperties({ textStyle: { fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"' } }, true);\n                }\n                if (_this.heatMap.theme === 'Tailwind' || _this.heatMap.theme === 'TailwindDark') {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    multiLevel.setProperties({ textStyle: { fontFamily: 'Inter' } }, true);\n                }\n                if (_this.heatMap.theme === 'Material3' || _this.heatMap.theme === 'Material3Dark') {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    multiLevel.setProperties({ textStyle: { fontFamily: 'Roboto' } }, true);\n                }\n                if (_this.heatMap.theme === 'Fluent' || _this.heatMap.theme === 'FluentDark') {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    multiLevel.setProperties({ textStyle: { fontFamily: '\"Segoe UI\", -apple-system, BlinkMacSystemFont, \"Roboto\", \"Helvetica Neue\", sans-serif' } }, true);\n                }\n                tooltip = false;\n                start = typeof categoryLabel.start === 'number' ? categoryLabel.start : Number(new Date(categoryLabel.start));\n                end = typeof categoryLabel.end === 'number' ? categoryLabel.end : Number(new Date(categoryLabel.end));\n                startX = position + _this.calculateLeftPosition(axis, start, categoryLabel.start, axis.rect);\n                startY = axis.multiLevelPosition[level].y;\n                endX = position + _this.calculateWidth(axis, categoryLabel.end, end, axis.rect);\n                labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                gap = ((categoryLabel.maximumTextWidth === null) ? Math.abs(endX - startX) : categoryLabel.maximumTextWidth) - padding;\n                y = startY + (opposedPosition ? -((axis.xAxisMultiLabelHeight[level] - labelSize.height)) : labelSize.height);\n                x = !isInversed ? startX + padding : startX - gap;\n                if (multiLevel.alignment === 'Center') {\n                    x = ((endX - startX) / 2) + startX;\n                    x -= (labelSize.width > gap ? gap : labelSize.width) / 2;\n                }\n                else if (multiLevel.alignment === 'Far') {\n                    x = !isInversed ? endX - padding : startX - padding;\n                    x -= (labelSize.width > gap ? gap : labelSize.width);\n                }\n                else {\n                    x = !isInversed ? startX + padding : endX + padding;\n                }\n                if (multiLevel.overflow === 'None' && labelSize.width > Math.abs(endX - startX)) {\n                    x = !isInversed ? startX + padding : startX - labelSize.width - padding;\n                    anchor = 'start';\n                }\n                var textBasic = new TextBasic(x, y, anchor, categoryLabel.text, 0, 'translate(0,0)');\n                var options = new TextOption(_this.heatMap.element.id + '_XAxis_MultiLevel' + level + '_Text' + i, textBasic, multiLevel.textStyle, multiLevel.textStyle.color || _this.heatMap.themeStyle.axisLabel);\n                if (multiLevel.overflow === 'Wrap') {\n                    options.text = textWrap(categoryLabel.text, gap, multiLevel.textStyle);\n                    textLength = options.text.length;\n                }\n                else if (multiLevel.overflow === 'Trim') {\n                    options.text = textTrim(gap, categoryLabel.text, multiLevel.textStyle);\n                    textLength = 1;\n                }\n                if (multiLevel.overflow === 'Wrap' && options.text.length > 1) {\n                    _this.drawSvgCanvas.createWrapText(options, multiLevel.textStyle, labelElement);\n                    for (var i_2 = 0; i_2 < options.text.length; i_2++) {\n                        if (options.text[i_2].indexOf('...') !== -1) {\n                            tooltip = true;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    _this.drawSvgCanvas.createText(options, labelElement, options.text);\n                }\n                if (!_this.heatMap.enableCanvasRendering) {\n                    parent.appendChild(labelElement);\n                }\n                if (options.text.indexOf('...') !== -1 || options.text[0].indexOf('...') !== -1 || tooltip) {\n                    _this.heatMap.tooltipCollection.push(new CanvasTooltip(categoryLabel.text, new Rect(x, y - labelSize.height, gap, labelSize.height * textLength)));\n                }\n                if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n                    pathRect = _this.renderXAxisLabelBorder(level, axis, startX, startY, endX, pathRect, level, labelSize, gap, x);\n                }\n            });\n            if (pathRect !== '') {\n                _this.createBorderElement(level, axis, pathRect, parent);\n                pathRect = '';\n            }\n        });\n        if (!this.heatMap.enableCanvasRendering) {\n            parent.appendChild(labelElement);\n        }\n    };\n    /**\n     * render x axis multi level labels border\n     *\n     * @private\n     * @returns {void}\n     */\n    AxisHelper.prototype.renderXAxisLabelBorder = function (labelIndex, axis, startX, startY, endX, path, level, labelSize, gap, x) {\n        var path1;\n        var path2;\n        var endY = startY + (axis.opposedPosition ? -(axis.xAxisMultiLabelHeight[labelIndex]) :\n            axis.xAxisMultiLabelHeight[labelIndex]);\n        var padding = 3;\n        switch (axis.multiLevelLabels[level].border.type) {\n            case 'Rectangle':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ';\n                break;\n            case 'WithoutTopBorder':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ';\n                break;\n            case 'WithoutBottomBorder':\n                path += 'M' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'WithoutTopandBottomBorder':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'M' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'Brace':\n                path1 = axis.isInversed ? (labelSize.width > gap ? gap : labelSize.width) + x + padding : x - padding;\n                path2 = axis.isInversed ? x - padding : (labelSize.width > gap ? gap : labelSize.width) + x + padding;\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + (startY + (endY - startY) / 2) + ' ' +\n                    'L' + ' ' + path1 + ' ' + (startY + (endY - startY) / 2) + ' ' + 'M' + ' ' + path2 + ' ' + (startY +\n                    (endY - startY) / 2) + ' ' + 'L' + ' ' + endX + ' ' + (startY + (endY - startY) / 2) +\n                    ' ' + 'L' + ' ' + endX + ' ' + startY + ' ';\n                break;\n        }\n        return path;\n    };\n    /**\n     * render y axis multi level labels\n     *\n     * @private\n     * @returns {void}\n     */\n    AxisHelper.prototype.renderYAxisMultiLevelLabels = function (axis, parent) {\n        var _this = this;\n        var x = 0;\n        var y;\n        var padding = 10;\n        var startX;\n        var startY;\n        var endY;\n        var start;\n        var end;\n        var labelSize;\n        var isInversed = axis.isInversed;\n        var labelElement;\n        var pathRect = '';\n        var gap;\n        var text;\n        var position = (!isInversed ? axis.rect.height : 0) + axis.rect.y;\n        axis.multiLevelLabels.map(function (multiLevel, level) {\n            startY = axis.multiLevelPosition[level].y;\n            labelElement = _this.heatMap.renderer.createGroup({ id: _this.heatMap.element.id + '_YAxisMultiLevelLabel' + level });\n            multiLevel.categories.map(function (categoryLabel, i) {\n                if (_this.heatMap.theme === 'Tailwind' || _this.heatMap.theme === 'TailwindDark') {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    multiLevel.setProperties({ textStyle: { fontFamily: 'Inter' } }, true);\n                }\n                if (_this.heatMap.theme === 'Material3' || _this.heatMap.theme === 'Material3Dark') {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    multiLevel.setProperties({ textStyle: { fontFamily: 'Roboto' } }, true);\n                }\n                if (_this.heatMap.theme === 'Bootstrap5' || _this.heatMap.theme === 'Bootstrap5Dark') {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    multiLevel.setProperties({ textStyle: { fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"' } }, true);\n                }\n                start = typeof categoryLabel.start === 'number' ? categoryLabel.start : Number(new Date(categoryLabel.start));\n                end = typeof categoryLabel.end === 'number' ? categoryLabel.end : Number(new Date(categoryLabel.end));\n                startY = position + _this.calculateLeftPosition(axis, start, categoryLabel.start, axis.rect);\n                startX = axis.multiLevelPosition[level].x;\n                endY = position + _this.calculateWidth(axis, categoryLabel.start, end, axis.rect);\n                labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                gap = ((categoryLabel.maximumTextWidth === null) ? Math.abs(startX) : categoryLabel.maximumTextWidth) - padding;\n                var maxWidth = Math.abs(startX - (startX - axis.multiLevelSize[level].width - 2 * padding)) / 2 -\n                    (labelSize.width / 2);\n                x = (axis.opposedPosition ? startX : startX - axis.multiLevelSize[level].width - 2 * padding) + maxWidth;\n                y = startY + padding;\n                if (multiLevel.overflow !== 'None') {\n                    if (multiLevel.overflow === 'Wrap') {\n                        text = textWrap(categoryLabel.text, gap, multiLevel.textStyle);\n                    }\n                    else {\n                        text = textTrim(gap, categoryLabel.text, multiLevel.textStyle);\n                    }\n                }\n                if (multiLevel.alignment === 'Center') {\n                    y += ((endY - startY) / 2 - (text.length * labelSize.height) / 2);\n                }\n                else if (multiLevel.alignment === 'Far') {\n                    y = isInversed ? endY - labelSize.height / 2 : y - labelSize.height;\n                }\n                else {\n                    y = isInversed ? y + labelSize.height / 2 : endY + labelSize.height;\n                }\n                if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n                    pathRect = _this.renderYAxisLabelBorder(level, axis, startX, startY, endY, pathRect, level, labelSize, gap, y);\n                }\n                var textBasic = new TextBasic(x, y, 'start', categoryLabel.text, 0, 'translate(0,0)');\n                var options = new TextOption(_this.heatMap.element.id + '_YAxis_MultiLevel' + level + '_Text' + i, textBasic, multiLevel.textStyle, multiLevel.textStyle.color || _this.heatMap.themeStyle.axisLabel);\n                options.text = text;\n                _this.drawSvgCanvas.createText(options, labelElement, options.text);\n                if (options.text.indexOf('...') !== -1) {\n                    _this.heatMap.tooltipCollection.push(new CanvasTooltip(categoryLabel.text, new Rect(x, y - labelSize.height, gap, labelSize.height)));\n                }\n                if (!_this.heatMap.enableCanvasRendering) {\n                    parent.appendChild(labelElement);\n                }\n            });\n            if (pathRect !== '') {\n                _this.createBorderElement(level, axis, pathRect, parent);\n                pathRect = '';\n            }\n        });\n        if (!this.heatMap.enableCanvasRendering) {\n            parent.appendChild(labelElement);\n        }\n    };\n    /**\n     * render x axis multi level labels border\n     *\n     * @private\n     * @returns {void}\n     */\n    AxisHelper.prototype.renderYAxisLabelBorder = function (labelIndex, axis, startX, startY, endY, path, level, labelSize, gap, y) {\n        var padding = 20;\n        var path1;\n        var path2;\n        var endX = startX - (axis.opposedPosition ? -(axis.multiLevelSize[labelIndex].width + padding) :\n            (axis.multiLevelSize[labelIndex].width + padding));\n        switch (axis.multiLevelLabels[level].border.type) {\n            case 'Rectangle':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ';\n                break;\n            case 'WithoutTopBorder':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ';\n                break;\n            case 'WithoutBottomBorder':\n                path += 'M' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ' +\n                    'L' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'WithoutTopandBottomBorder':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'M' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'Brace':\n                padding = 10;\n                path1 = axis.isInversed ? (y - padding - 5) : (y + (labelSize.height) - padding);\n                path2 = axis.isInversed ? (y + (labelSize.height) - padding) : (y - padding - 5);\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + (startX + (endX - startX) / 2) + ' ' + startY + ' ' +\n                    'L' + ' ' + (startX + (endX - startX) / 2) + ' ' + path1 + ' ' + 'M' + ' ' + (startX + (endX - startX) / 2) +\n                    ' ' + path2 + ' ' + 'L' + ' ' + (startX + (endX - startX) / 2) + ' ' +\n                    endY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ';\n                break;\n        }\n        return path;\n    };\n    /**\n     * create borer element\n     *\n     * @returns {void}\n     * @private\n     */\n    AxisHelper.prototype.createBorderElement = function (borderIndex, axis, path, parent) {\n        var canvasTranslate;\n        var id = axis.orientation === 'Horizontal' ? 'XAxis' : 'YAxis';\n        var pathOptions = new PathOption(this.heatMap.element.id + '_' + id + '_MultiLevel_Rect_' + borderIndex, 'Transparent', axis.multiLevelLabels[borderIndex].border.width, axis.multiLevelLabels[borderIndex].border.color, 1, '', path);\n        var borderElement = this.heatMap.renderer.drawPath(pathOptions);\n        if (!this.heatMap.enableCanvasRendering) {\n            parent.appendChild(borderElement);\n        }\n        else {\n            this.heatMap.canvasRenderer.drawPath(pathOptions, canvasTranslate);\n        }\n    };\n    /**\n     * calculate left position of border element\n     *\n     * @private\n     */\n    AxisHelper.prototype.calculateLeftPosition = function (axis, start, label, rect) {\n        var value;\n        var interval;\n        if (typeof label === 'number') {\n            if (axis.valueType === 'Numeric' && (axis.minimum || axis.maximum)) {\n                var min = axis.minimum ? axis.minimum : 0;\n                start -= min;\n            }\n            var size = axis.orientation === 'Horizontal' ? rect.width : rect.height;\n            interval = size / (axis.axisLabelSize * axis.increment);\n            value = (axis.isInversed ? -1 : 1) * start * interval;\n            value = axis.orientation === 'Horizontal' ? value : -value;\n        }\n        else {\n            interval = this.calculateNumberOfDays(start, axis, true, rect);\n            value = axis.isInversed ? -interval : interval;\n            value = axis.orientation === 'Horizontal' ? value : -value;\n        }\n        return value;\n    };\n    /**\n     * calculate width of border element\n     *\n     * @private\n     */\n    AxisHelper.prototype.calculateWidth = function (axis, label, end, rect) {\n        var interval;\n        var value;\n        if (typeof label === 'number') {\n            if (axis.valueType === 'Numeric' && (axis.minimum || axis.maximum)) {\n                var min = axis.minimum ? axis.minimum : 0;\n                end -= min;\n            }\n            var size = axis.orientation === 'Horizontal' ? rect.width : rect.height;\n            interval = size / (axis.axisLabelSize * axis.increment);\n            value = (axis.isInversed ? -1 : 1) * (end + 1) * interval;\n            value = axis.orientation === 'Horizontal' ? value : -value;\n        }\n        else {\n            interval = this.calculateNumberOfDays(end, axis, false, rect);\n            value = interval;\n            value = axis.isInversed ? -value : value;\n            value = axis.orientation === 'Horizontal' ? value : -value;\n        }\n        return value;\n    };\n    AxisHelper.prototype.calculateNumberOfDays = function (date, axis, start, rect) {\n        var oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds\n        var oneMinute = 60 * 1000;\n        var firstDate;\n        var secondDate;\n        var labels = axis.labelValue;\n        var position;\n        var interval = (axis.orientation === 'Horizontal' ? rect.width : rect.height) / axis.axisLabelSize;\n        var givenDate = new Date(Number(date));\n        var days = 0;\n        for (var index = 0; index < axis.axisLabelSize; index++) {\n            firstDate = new Date(Number(labels[index]));\n            secondDate = axis.isInversed ? new Date(Number(labels[index - 1])) : new Date(Number(labels[index + 1]));\n            if (index === (axis.isInversed ? 0 : axis.axisLabelSize - 1)) {\n                secondDate = new Date(Number(labels[index]));\n                if (axis.intervalType === 'Hours') {\n                    secondDate = new Date(Number(secondDate.setHours(secondDate.getHours() + 1)));\n                }\n                else if ((axis.intervalType === 'Minutes')) {\n                    secondDate = new Date(Number(secondDate.setMinutes(secondDate.getMinutes() + 1)));\n                }\n                else if ((axis.intervalType === 'Days')) {\n                    secondDate = new Date(Number(secondDate.setDate(secondDate.getDate() + 1)));\n                }\n                else {\n                    var numberOfDays = axis.intervalType === 'Months' ?\n                        new Date(secondDate.getFullYear(), secondDate.getMonth() + 1, 0).getDate() :\n                        secondDate.getFullYear() % 4 === 0 ? 366 : 365;\n                    secondDate = new Date(Number(secondDate.setDate(secondDate.getDate() + numberOfDays)));\n                }\n            }\n            if (Number(firstDate) <= date && Number(secondDate) >= date) {\n                if (axis.intervalType === 'Minutes' || axis.intervalType === 'Hours') {\n                    var totalMinutes = Math.round(Math.abs((firstDate.getTime() - secondDate.getTime()) / (oneMinute)));\n                    var minutesInHours = Math.abs((firstDate.getTime() - givenDate.getTime()) / (oneMinute));\n                    days = (interval / totalMinutes) * minutesInHours;\n                    index = axis.isInversed ? axis.axisLabelSize - 1 - index : index;\n                    position = index * interval + days;\n                    break;\n                }\n                else {\n                    var numberOfDays = Math.round(Math.abs((firstDate.getTime() - secondDate.getTime()) / (oneDay)));\n                    // eslint-disable-next-line\n                    start ? givenDate.getDate() : givenDate.setDate(givenDate.getDate() + 1);\n                    if (numberOfDays !== 0) {\n                        days = (interval / numberOfDays) * (Math.abs((firstDate.getTime() - givenDate.getTime()) / (oneDay)));\n                    }\n                    index = axis.isInversed ? axis.axisLabelSize - 1 - index : index;\n                    position = index * interval + days;\n                    break;\n                }\n            }\n        }\n        return position;\n    };\n    return AxisHelper;\n}());\nexport { AxisHelper };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, extend, merge, Complex, Browser, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Rect, TextBasic, Path, PathAttributes, RectOption, CircleOption, TextOption, CurrentRect, DrawSvgCanvas } from '../utils/helper';\nimport { convertHexToColor, colorNameToHex, formatValue } from '../utils/helper';\nimport { CellColor } from '../utils/colorMapping';\nimport { Border, Font, BubbleTooltipData, BubbleSize } from '../model/base';\nimport { Theme } from '../model/theme';\n/**\n * Sets and gets the options to configure the cells of the heatmap.\n */\nvar CellSettings = /** @class */ (function (_super) {\n    __extends(CellSettings, _super);\n    function CellSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], CellSettings.prototype, \"showLabel\", void 0);\n    __decorate([\n        Property('')\n    ], CellSettings.prototype, \"format\", void 0);\n    __decorate([\n        Property(true)\n    ], CellSettings.prototype, \"enableCellHighlighting\", void 0);\n    __decorate([\n        Complex({}, BubbleSize)\n    ], CellSettings.prototype, \"bubbleSize\", void 0);\n    __decorate([\n        Complex({}, Border)\n    ], CellSettings.prototype, \"border\", void 0);\n    __decorate([\n        Complex(Theme.rectLabelFont, Font)\n    ], CellSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property('Rect')\n    ], CellSettings.prototype, \"tileType\", void 0);\n    __decorate([\n        Property('Color')\n    ], CellSettings.prototype, \"bubbleType\", void 0);\n    __decorate([\n        Property(false)\n    ], CellSettings.prototype, \"isInversedBubbleSize\", void 0);\n    return CellSettings;\n}(ChildProperty));\nexport { CellSettings };\nvar Series = /** @class */ (function () {\n    function Series(heatMap) {\n        this.heatMap = heatMap;\n        this.drawSvgCanvas = new DrawSvgCanvas(this.heatMap);\n        this.cellColor = new CellColor(this.heatMap);\n    }\n    /**\n     * To render rect series.\n     *\n     * @returns {void}\n     * @private\n     */\n    // tslint:disable-next-line:max-func-body-length\n    Series.prototype.renderRectSeries = function () {\n        this.createSeriesGroup();\n        var heatMap = this.heatMap;\n        var isValueInRange = false;\n        heatMap.xLength = heatMap.axisCollections[0].axisLabelSize;\n        heatMap.yLength = heatMap.axisCollections[1].axisLabelSize; // Series Part\n        var tempX = Math.round(heatMap.initialClipRect.x * 100) / 100;\n        var tempY = Math.round(heatMap.initialClipRect.y * 100) / 100;\n        var dataXIndex = 0;\n        var dataYIndex = 0;\n        var cellSetting = heatMap.cellSettings;\n        var tempWidth = Math.round(((heatMap.initialClipRect.width -\n            (cellSetting.border.width / 2)) / heatMap.xLength) * 100) / 100;\n        var tempHeight = Math.round(((heatMap.initialClipRect.height -\n            (cellSetting.border.width / 2)) / heatMap.yLength) * 100) / 100;\n        var tempVal = 0;\n        var tempRectPosition = [];\n        var tempBorder = cellSetting.border;\n        var borderColor;\n        var displayText;\n        this.rectPositionCollection = [];\n        this.color = '';\n        this.bubbleColorValue = [];\n        if (heatMap.yAxis.opposedPosition) {\n            tempX = Math.round((heatMap.initialClipRect.x + (parseFloat(tempBorder.width.toString()) / 2)) * 100) / 100;\n        }\n        var circleRadius = this.getBubbleRadius(tempWidth, tempHeight);\n        for (var x = 0; x < (heatMap.xLength * heatMap.yLength); x++) {\n            if (heatMap.paletteSettings.colorGradientMode === 'Column' && this.heatMap.paletteSettings.type === 'Gradient') {\n                this.heatMap.dataSourceMinValue = this.heatMap.dataMin[dataYIndex];\n                this.heatMap.dataSourceMaxValue = this.heatMap.dataMax[dataYIndex];\n            }\n            else if (heatMap.paletteSettings.colorGradientMode === 'Row' && this.heatMap.paletteSettings.type === 'Gradient') {\n                this.heatMap.dataSourceMinValue = this.heatMap.dataMin[dataXIndex];\n                this.heatMap.dataSourceMaxValue = this.heatMap.dataMax[dataXIndex];\n            }\n            this.setTextAndColor(dataXIndex, dataYIndex);\n            var rectPosition = new CurrentRect(0, 0, 0, 0, 0, '', 0, 0, 0, 0, true, '', '', true);\n            borderColor = tempBorder.color;\n            if (this.heatMap.bubbleSizeWithColor) {\n                this.updateRectDetails(rectPosition, tempX, tempY, tempWidth, tempHeight, extend('', this.bubbleColorValue, null, true), x, dataYIndex, dataXIndex);\n            }\n            else {\n                this.updateRectDetails(rectPosition, tempX, tempY, tempWidth, tempHeight, this.text, x, dataYIndex, dataXIndex);\n            }\n            if (cellSetting.showLabel) {\n                displayText = this.getFormatedText(this.text, cellSetting.format);\n            }\n            else {\n                displayText = '';\n            }\n            rectPosition.displayText = displayText;\n            if (!isNullOrUndefined(this.heatMap.cellRender)) {\n                displayText = this.cellRendering(rectPosition, displayText);\n            }\n            if ((heatMap.renderingMode === 'Canvas' && parseFloat(tempBorder.width.toString()) === 0) || (!borderColor &&\n                cellSetting.tileType === 'Bubble' && cellSetting.bubbleType === 'Sector')) {\n                borderColor = this.color;\n            }\n            if (cellSetting.tileType === 'Rect') { // Rectangle/Tile Series\n                this.renderTileCell(rectPosition, tempBorder, x, this.color, borderColor);\n                this.updateLabelVisibleStatus(tempWidth, tempHeight, displayText);\n            }\n            else {\n                if (cellSetting.bubbleType === 'Color') { // Bubble by same size and different color Series\n                    this.renderBubbleCell(rectPosition, tempBorder, x, this.color, borderColor, circleRadius);\n                    this.updateLabelVisibleStatus((circleRadius * 2) - 12, (circleRadius * 2) - 6, displayText); // 6, 12 - circle padding\n                }\n                else if (!isNullOrUndefined(this.text) && (cellSetting.bubbleType === 'Size' || cellSetting.bubbleType === 'SizeAndColor')\n                    && this.text.toString() !== '') { // Bubble by same color and different size Series\n                    if (this.heatMap.paletteSettings.colorGradientMode !== 'Table' && this.heatMap.paletteSettings.type === 'Gradient') {\n                        this.heatMap.minColorValue = !isFinite(this.heatMap.minColorValue) ?\n                            this.heatMap.dataSourceMinValue : this.heatMap.minColorValue;\n                        this.heatMap.maxColorValue = !isFinite(this.heatMap.maxColorValue) ?\n                            this.heatMap.dataSourceMaxValue : this.heatMap.maxColorValue;\n                    }\n                    var tempCircleRadius = this.getRadiusBypercentage(parseFloat(this.text.toString()), heatMap.dataSourceMinValue, heatMap.dataSourceMaxValue, circleRadius);\n                    this.renderBubbleCell(rectPosition, tempBorder, x, this.color, borderColor, tempCircleRadius);\n                    this.updateLabelVisibleStatus((tempCircleRadius * 2) - 12, (tempCircleRadius * 2) - 6, displayText);\n                }\n                else if (cellSetting.bubbleType === 'Sector' && !isNullOrUndefined(this.text) && this.text.toString() !== '') {\n                    this.renderSectorCell(rectPosition, tempBorder, x.toString(), this.color, borderColor, circleRadius, this.text);\n                    this.checkLabelXDisplay = false;\n                    this.checkLabelYDisplay = false;\n                }\n            }\n            tempRectPosition.push(rectPosition);\n            if (heatMap.rangeSelection && heatMap.paletteSettings.type === 'Fixed') {\n                isValueInRange = this.isCellValueInRange(dataXIndex, dataYIndex);\n                rectPosition.visible = isValueInRange;\n            }\n            if (cellSetting.showLabel && this.checkLabelYDisplay && this.checkLabelXDisplay) {\n                var themeCellTextStyle = cellSetting.textStyle;\n                var options = new TextOption(heatMap.element.id + '_HeatMapRectLabels_' + x, new TextBasic(Math.round((tempX + tempWidth / 2) * 100) / 100, Math.round((tempY + tempHeight / 2) * 100) / 100, 'middle', displayText, null, null, 'middle'), themeCellTextStyle, themeCellTextStyle.color || this.getSaturatedColor(this.color));\n                rectPosition.textId = options.id;\n                if (heatMap.rangeSelection && heatMap.paletteSettings.type === 'Fixed') {\n                    options.fill = isValueInRange ? options.fill : this.heatMap.themeStyle.toggledColor;\n                }\n                if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                    options.dy = this.heatMap.cellSettings.tileType === 'Bubble' ? '0.5ex' : '1ex';\n                }\n                this.drawSvgCanvas.createText(options, this.containerTextObject, displayText);\n            }\n            if (tempVal === heatMap.xLength - 1) {\n                tempY = Math.round((tempY + tempHeight) * 100) / 100;\n                tempVal = 0;\n                dataYIndex = 0;\n                if (heatMap.yAxis.opposedPosition) {\n                    tempX = Math.round((heatMap.initialClipRect.x + (parseFloat(tempBorder.width.toString()) / 2)) * 100) / 100;\n                }\n                else {\n                    tempX = Math.round(heatMap.initialClipRect.x * 100) / 100;\n                }\n                this.rectPositionCollection.push(tempRectPosition);\n                tempRectPosition = [];\n                dataXIndex++;\n            }\n            else {\n                tempX = Math.round((tempX + tempWidth) * 100) / 100;\n                tempVal++;\n                dataYIndex++;\n            }\n        }\n        if (!heatMap.enableCanvasRendering) {\n            heatMap.svgObject.appendChild(this.containerRectObject);\n            if (cellSetting.showLabel && !(cellSetting.tileType === 'Bubble' && cellSetting.bubbleType === 'Sector')) {\n                heatMap.svgObject.appendChild(this.containerTextObject);\n            }\n        }\n    };\n    /**\n     * To toggle the cell text color based on legend selection.\n     */\n    Series.prototype.isCellValueInRange = function (dataXIndex, dataYIndex) {\n        var isValueInRange = false;\n        for (var i = 0; i < this.heatMap.toggleValue.length; i++) {\n            var maxValue = void 0;\n            var minValue = (i === 0) && !this.heatMap.isColorRange ? this.heatMap.dataSourceMinValue :\n                this.heatMap.isColorRange ?\n                    this.heatMap.toggleValue[i].startValue : this.heatMap.toggleValue[i].value;\n            if (this.heatMap.cellSettings.tileType === 'Bubble' && this.heatMap.cellSettings.bubbleType === 'SizeAndColor') {\n                maxValue = (i === this.heatMap.toggleValue.length - 1) ? this.heatMap.maxColorValue :\n                    this.heatMap.toggleValue[i + 1].value - 0.01;\n            }\n            else {\n                maxValue = (i === this.heatMap.toggleValue.length - 1 && !this.heatMap.isColorRange) ?\n                    this.heatMap.dataSourceMaxValue : this.heatMap.isColorRange ?\n                    this.heatMap.toggleValue[i].endValue : this.heatMap.toggleValue[i + 1].value - 0.01;\n            }\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var clonedDataSource = this.heatMap.clonedDataSource;\n            var bubbleText = !isNullOrUndefined(clonedDataSource[dataXIndex][dataYIndex][1]) &&\n                clonedDataSource[dataXIndex][dataYIndex][1].toString() !== '' ? clonedDataSource[dataXIndex][dataYIndex][1] : '';\n            var text = parseFloat(this.heatMap.cellSettings.tileType === 'Bubble' && this.heatMap.cellSettings.bubbleType === 'SizeAndColor' ?\n                bubbleText.toString() : this.text.toString());\n            if (isNaN(text)) {\n                isValueInRange = true;\n            }\n            else if (!isNaN(text) && text >= minValue && text <= maxValue) {\n                if (!this.heatMap.toggleValue[i].visible) {\n                    isValueInRange = false;\n                    break;\n                }\n                else {\n                    isValueInRange = true;\n                    break;\n                }\n            }\n            else if (this.heatMap.isColorRange &&\n                maxValue >= this.heatMap.toggleValue[i].endValue && i === this.heatMap.toggleValue.length - 1) {\n                isValueInRange = true;\n                break;\n            }\n        }\n        return isValueInRange;\n    };\n    /**\n     * To customize the cell.\n     *\n     * @returns {void}\n     * @private\n     */\n    Series.prototype.cellRendering = function (rectPosition, text) {\n        var xAxis = this.heatMap.axisCollections[0];\n        var yAxis = this.heatMap.axisCollections[1];\n        var xLabels = xAxis.tooltipLabels;\n        var yLabels = yAxis.tooltipLabels.slice().reverse();\n        var yLabelValue = yAxis.labelValue.slice().reverse();\n        var argData = {\n            heatmap: this.heatMap,\n            cancel: false,\n            name: 'cellRender',\n            value: rectPosition.value,\n            xLabel: xLabels[rectPosition.xIndex].toString(),\n            yLabel: yLabels[rectPosition.yIndex].toString(),\n            displayText: text,\n            xValue: xAxis.labelValue[rectPosition.xIndex],\n            yValue: yLabelValue[rectPosition.yIndex],\n            cellColor: this.color\n        };\n        this.heatMap.trigger('cellRender', argData);\n        this.color = argData.cellColor;\n        return argData.displayText;\n    };\n    /**\n     * To set color and text details.\n     *\n     * @private\n     */\n    Series.prototype.setTextAndColor = function (dataXIndex, dataYIndex) {\n        this.bubbleColorValue = [];\n        var adaptData = this.heatMap.dataSourceSettings;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var clonedDataSource = this.heatMap.clonedDataSource;\n        if (this.heatMap.bubbleSizeWithColor) {\n            this.text = !isNullOrUndefined(clonedDataSource[dataXIndex][dataYIndex][0]) &&\n                clonedDataSource[dataXIndex][dataYIndex][0].toString() !== '' ? clonedDataSource[dataXIndex][dataYIndex][0] : '';\n            this.color = !isNullOrUndefined(clonedDataSource[dataXIndex][dataYIndex][1]) &&\n                clonedDataSource[dataXIndex][dataYIndex][1].toString() !== '' ?\n                this.cellColor.getColorByValue(clonedDataSource[dataXIndex][dataYIndex][1])\n                : this.heatMap.isColorValueExist ? this.heatMap.emptyPointColor : this.cellColor.getColorByValue(this.text);\n            var tempBubbleCollection = new BubbleTooltipData(adaptData.isJsonData && adaptData.adaptorType === 'Cell' ? adaptData.bubbleDataMapping.size : null, this.text, 'Size');\n            this.bubbleColorValue.push(tempBubbleCollection);\n            this.bubbleColorValue.push({\n                mappingName: adaptData.isJsonData && adaptData.adaptorType === 'Cell' ?\n                    adaptData.bubbleDataMapping.color : null,\n                bubbleData: !isNullOrUndefined(clonedDataSource[dataXIndex][dataYIndex][1]) &&\n                    clonedDataSource[dataXIndex][dataYIndex][1].toString() !== '' ? clonedDataSource[dataXIndex][dataYIndex][1] : '',\n                valueType: 'Color'\n            });\n        }\n        else {\n            this.text = clonedDataSource[dataXIndex][dataYIndex];\n            this.color = this.cellColor.getColorByValue(this.text);\n        }\n    };\n    /**\n     * To update rect details.\n     *\n     * @private\n     */\n    Series.prototype.createSeriesGroup = function () {\n        if (!this.heatMap.enableCanvasRendering) {\n            this.containerRectObject = this.heatMap.renderer.createGroup({\n                id: this.heatMap.element.id + '_Container_RectGroup'\n            });\n            if (this.heatMap.cellSettings.showLabel &&\n                !(this.heatMap.cellSettings.tileType === 'Bubble' && this.heatMap.cellSettings.bubbleType === 'Sector')) {\n                this.containerTextObject = this.heatMap.renderer.createGroup({ id: this.heatMap.element.id + '_Container_TextGroup', transform: 'translate( 0, 0)' });\n            }\n        }\n    };\n    /**\n     * To update rect details.\n     *\n     * @private\n     */\n    Series.prototype.updateRectDetails = function (rectPosition, tempX, tempY, tempWidth, tempHeight, text, x, dataXIndex, dataYIndex) {\n        rectPosition.x = tempX;\n        rectPosition.y = tempY;\n        rectPosition.width = tempWidth;\n        rectPosition.height = tempHeight;\n        rectPosition.value = text;\n        rectPosition.id = this.heatMap.element.id + '_HeatMapRect_' + x;\n        rectPosition.xIndex = dataXIndex;\n        rectPosition.yIndex = dataYIndex;\n    };\n    /**\n     * To Render Tile Cell.\n     *\n     * @private\n     */\n    Series.prototype.renderTileCell = function (rectPosition, tempBorder, x, color, borderColor) {\n        var rect = new RectOption(this.heatMap.element.id + '_HeatMapRect_' + x, color, tempBorder, 1, new Rect(rectPosition.x, rectPosition.y, rectPosition.width, rectPosition.height), borderColor || this.heatMap.themeStyle.cellBorder, tempBorder.radius, tempBorder.radius);\n        this.drawSvgCanvas.drawRectangle(rect, this.containerRectObject, true);\n    };\n    /**\n     * To get bubble radius.\n     *\n     * @private\n     */\n    Series.prototype.getBubbleRadius = function (width, height) {\n        var radius = (width / 2) - 2;\n        if (height / 2 < width / 2) {\n            radius = (height / 2) - 2;\n        }\n        return radius < 0 ? 0 : radius;\n    };\n    /**\n     * To Render Bubble Cell.\n     *\n     * @private\n     */\n    Series.prototype.renderSectorCell = function (bubblePosition, tempBorder, x, color, borderColor, circleRadius, text) {\n        var curve;\n        var startAngle;\n        var endAngle;\n        var cX;\n        var cY;\n        var X1;\n        var Y1;\n        var tempcX;\n        var tempcY;\n        var pathBorderWidth;\n        var centerX = Math.round((bubblePosition.x + (bubblePosition.width / 2)) * 100) / 100;\n        var centerY = Math.round((bubblePosition.y + (bubblePosition.height / 2)) * 100) / 100;\n        var tempColor = color;\n        var sectorContibution = this.getRadiusBypercentage(text, this.heatMap.dataSourceMinValue, this.heatMap.dataSourceMaxValue, 360); // Circle total angle.\n        for (var y = 0; y < 2; y++) {\n            pathBorderWidth = parseFloat(tempBorder.width.toString());\n            if (y === 0) {\n                curve = sectorContibution >= 180 ? 1 : 0;\n                startAngle = -90;\n                if (sectorContibution === 0) {\n                    endAngle = 270; // (360 - 90) for zero position adjustment.\n                }\n                else {\n                    endAngle = (sectorContibution - 90);\n                }\n                cX = Math.round((centerX + circleRadius * Math.cos((sectorContibution - 90) * (Math.PI / 180))) * 100) / 100;\n                cY = Math.round((centerY + circleRadius * Math.sin((sectorContibution - 90) * (Math.PI / 180))) * 100) / 100;\n                X1 = Math.round(centerX * 100) / 100;\n                Y1 = Math.round((centerY - circleRadius) * 100) / 100;\n                if (sectorContibution === 0) {\n                    tempColor = this.heatMap.emptyPointColor;\n                }\n            }\n            else {\n                curve = sectorContibution >= 180 ? 0 : 1;\n                startAngle = endAngle;\n                endAngle = 270; // (360 - 90) for zero position adjustment.\n                tempColor = this.heatMap.emptyPointColor;\n                x = x + '_Unfilled';\n                tempcX = cX;\n                tempcY = cY;\n                cX = X1;\n                cY = Y1;\n                X1 = tempcX;\n                Y1 = tempcY;\n                if (sectorContibution === 0) {\n                    pathBorderWidth = 1;\n                    borderColor = color;\n                }\n            }\n            var path = new Path('', false, centerX, centerY, X1, Y1, cX, cY, startAngle, endAngle, circleRadius, true);\n            var sector = new PathAttributes(this.heatMap.element.id + '_HeatMapRect_' + x, path, tempColor, tempBorder, pathBorderWidth, 1, borderColor);\n            this.calculateShapes(sector, path, sectorContibution, curve);\n            this.drawSvgCanvas.drawPath(sector, path, this.containerRectObject);\n            if (sectorContibution === 360) {\n                break;\n            }\n        }\n    };\n    /**\n     * To Render sector Cell.\n     *\n     * @private\n     */\n    Series.prototype.calculateShapes = function (options, path, sectorContibution, curve) {\n        var pathString;\n        switch (sectorContibution) {\n            case 360:\n            case 0:\n                if (sectorContibution === 0 && path.start === path.end) {\n                    pathString = 'M' + ' ' + options.x + ' ' + options.y + ' ' + 'L' + ' ' + path.x + ' ' + (path.y - path.radius);\n                }\n                else {\n                    pathString = !this.heatMap.enableCanvasRendering ? 'M' + ' ' + options.x + ' ' + options.y + ' ' : '';\n                    pathString = pathString + 'm' + ' ' + (-path.radius) + ' ' + '0' + ' ' +\n                        'a' + ' ' + path.radius + ' ' + path.radius + ' ' + '0' + ' ' + '1' + ' ' + '0' +\n                        ' ' + (path.radius * 2) + ' ' + '0' + ' ' + 'a' + ' ' + path.radius +\n                        ' ' + path.radius + ' ' + '0' + ' ' + '1' + ' ' + '0' +\n                        ' ' + (-(path.radius * 2)) + ' ' + '0' + ' ';\n                }\n                merge(options, { 'd': pathString });\n                break;\n            default:\n                pathString = 'M' + ' ' + options.x + ' ' + options.y + ' ' + 'L' + ' ' + path.x1 + ' ' + path.y1 + ' ' +\n                    'A' + ' ' + path.radius + ' ' + path.radius + ' ' + '0' + ' ' + curve + ' ' + '1' + ' ' +\n                    path.cx + ' ' + path.cy + ' ' + 'Z';\n                merge(options, { 'd': pathString });\n                break;\n        }\n    };\n    /**\n     * To Render Bubble Cell.\n     *\n     * @private\n     */\n    Series.prototype.renderBubbleCell = function (bubblePosition, tempBorder, x, color, borderColor, circleRadius) {\n        var circle = new CircleOption(this.heatMap.element.id + '_HeatMapRect_' + x, color, tempBorder, 1, borderColor || this.heatMap.themeStyle.cellBorder, Math.round((bubblePosition.x + (bubblePosition.width / 2)) * 100) / 100, Math.round((bubblePosition.y + (bubblePosition.height / 2)) * 100) / 100, circleRadius);\n        this.drawSvgCanvas.drawCircle(circle, this.containerRectObject);\n    };\n    /**\n     * To find whether the X,Y Label need to display or not.\n     *\n     * @private\n     */\n    Series.prototype.updateLabelVisibleStatus = function (tempWidth, tempHeight, displayText) {\n        if (this.heatMap.cellSettings.showLabel) {\n            this.checkLabelYDisplay = tempHeight > parseInt(this.heatMap.cellSettings.textStyle.size, 10) ? true : false;\n            this.checkLabelXDisplay = tempWidth > (displayText.length *\n                (parseInt(this.heatMap.cellSettings.textStyle.size, 10) / 2)) ? true : false;\n        }\n    };\n    /**\n     * To find percentage value.\n     *\n     * @private\n     */\n    Series.prototype.getRadiusBypercentage = function (text, min, max, radius) {\n        var minimum = parseInt(this.heatMap.cellSettings.bubbleSize.minimum, 10);\n        var maximum = parseInt(this.heatMap.cellSettings.bubbleSize.maximum, 10);\n        if (minimum < 0 || minimum > 100 || isNaN(minimum)) {\n            minimum = 0;\n        }\n        if (maximum < 0 || maximum > 100 || isNaN(maximum)) {\n            maximum = 100;\n        }\n        var valueInPrecentage = ((text - min) /\n            (max - min)) * 100;\n        valueInPrecentage = isNaN(valueInPrecentage) ? 100 : valueInPrecentage;\n        if ((this.heatMap.bubbleSizeWithColor ||\n            (this.heatMap.cellSettings.tileType === 'Bubble' && this.heatMap.cellSettings.bubbleType === 'Size'))) {\n            if (this.heatMap.cellSettings.isInversedBubbleSize) {\n                valueInPrecentage = 100 - valueInPrecentage;\n            }\n            valueInPrecentage = ((valueInPrecentage * (maximum - minimum)) / 100) + minimum;\n        }\n        radius = radius * (valueInPrecentage / 100);\n        return (Math.round(radius * 100) / 100) < 0 ? 0 : (Math.round(radius * 100) / 100);\n    };\n    /**\n     * To find saturated color for datalabel.\n     *\n     * @returns {string}\n     * @private\n     */\n    Series.prototype.getSaturatedColor = function (color) {\n        var saturatedColor = color;\n        saturatedColor = (saturatedColor === 'transparent') ? window.getComputedStyle(document.body, null).backgroundColor : saturatedColor;\n        var rgbValue = convertHexToColor(colorNameToHex(saturatedColor));\n        var contrast = Math.round((rgbValue.R * 299 + rgbValue.G * 587 + rgbValue.B * 114) / 1000);\n        return contrast >= 128 ? 'black' : 'white';\n    };\n    /**\n     * To highlight the mouse hovered rect cell.\n     *\n     * @returns {void}\n     * @private\n     */\n    Series.prototype.highlightSvgRect = function (tempID) {\n        if (tempID.indexOf('Celltooltip') === -1) {\n            if (tempID.indexOf('_HeatMapRect') !== -1) {\n                if (tempID.indexOf('_HeatMapRectLabels_') !== -1) {\n                    var tempIndex = tempID.indexOf('_HeatMapRectLabels_') + 19;\n                    tempID = this.heatMap.element.id + '_HeatMapRect_' + tempID.slice(tempIndex);\n                }\n                var element = document.getElementById(tempID);\n                if (this.heatMap.tempRectHoverClass !== tempID) {\n                    if (this.heatMap.cellSettings.enableCellHighlighting) {\n                        var oldElement = void 0;\n                        if (this.heatMap.tempRectHoverClass) {\n                            oldElement = document.getElementById(this.heatMap.tempRectHoverClass);\n                        }\n                        if (oldElement && !this.heatMap.rectSelected) {\n                            oldElement.setAttribute('opacity', '1');\n                        }\n                        if (element && !this.heatMap.rectSelected) {\n                            element.setAttribute('opacity', '0.65');\n                        }\n                    }\n                    this.heatMap.tempRectHoverClass = tempID;\n                }\n            }\n            else {\n                if (this.heatMap.cellSettings.enableCellHighlighting) {\n                    var oldElement = void 0;\n                    if (this.heatMap.tempRectHoverClass) {\n                        oldElement = document.getElementById(this.heatMap.tempRectHoverClass);\n                    }\n                    if (oldElement && !this.heatMap.rectSelected) {\n                        oldElement.setAttribute('opacity', '1');\n                        this.heatMap.tempRectHoverClass = '';\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To get the value depends to format.\n     *\n     * @returns {string}\n     * @private\n     */\n    Series.prototype.getFormatedText = function (val, getFormat) {\n        var format = getFormat;\n        var isCustom = format.match('{value}') !== null;\n        this.format = this.heatMap.intl.getNumberFormat({\n            format: isCustom ? '' : format\n        });\n        var value = '';\n        if (val.toString() !== '') {\n            value = formatValue(isCustom, format, val, this.format);\n        }\n        return value;\n    };\n    /**\n     * To get mouse hovered cell details.\n     *\n     * @returns {CurrentRect}\n     * @private\n     */\n    Series.prototype.getCurrentRect = function (x, y) {\n        var currentRect;\n        var firstRectDetails = [];\n        firstRectDetails.push(this.heatMap.heatMapSeries.rectPositionCollection[0][0]);\n        var rectX = Math.ceil((x - firstRectDetails[0].x) / firstRectDetails[0].width) <\n            this.heatMap.axisCollections[0].axisLabelSize ?\n            Math.ceil((x - firstRectDetails[0].x) / firstRectDetails[0].width) :\n            this.heatMap.axisCollections[0].axisLabelSize;\n        var rectY = Math.floor(((y - firstRectDetails[0].y) / firstRectDetails[0].height)) <\n            this.heatMap.axisCollections[1].axisLabelSize ?\n            Math.floor(((y - firstRectDetails[0].y) / firstRectDetails[0].height)) :\n            this.heatMap.axisCollections[1].axisLabelSize - 1;\n        rectX = rectX === 0 ? 1 : rectX;\n        // eslint-disable-next-line prefer-const\n        currentRect = this.heatMap.heatMapSeries.rectPositionCollection[rectY][rectX - 1];\n        this.hoverXAxisLabel = this.heatMap.axisCollections[0].tooltipLabels[rectX - 1];\n        this.hoverXAxisValue = this.heatMap.axisCollections[0].labelValue[rectX - 1];\n        this.hoverYAxisLabel = this.heatMap.axisCollections[1].tooltipLabels[(this.heatMap.axisCollections[1].tooltipLabels.length - 1) - rectY];\n        this.hoverYAxisValue = this.heatMap.axisCollections[1].labelValue[(this.heatMap.axisCollections[1].labelValue.length - 1) - rectY];\n        return currentRect;\n    };\n    return Series;\n}());\nexport { Series };\n","/**\n * HeatMap tool tip file\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { createElement, Property, Complex, ChildProperty, isNullOrUndefined, select } from '@syncfusion/ej2-base';\nimport { Tooltip as tool } from '@syncfusion/ej2-svg-base';\nimport { TooltipBorder, Font } from '../model/base';\nimport { Theme } from '../model/theme';\n/**\n * Sets and gets the options to customize the tooltip in heatmap.\n */\nvar TooltipSettings = /** @class */ (function (_super) {\n    __extends(TooltipSettings, _super);\n    function TooltipSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TooltipSettings.prototype, \"template\", void 0);\n    __decorate([\n        Property('')\n    ], TooltipSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Complex({}, TooltipBorder)\n    ], TooltipSettings.prototype, \"border\", void 0);\n    __decorate([\n        Complex(Theme.tooltipFont, Font)\n    ], TooltipSettings.prototype, \"textStyle\", void 0);\n    return TooltipSettings;\n}(ChildProperty));\nexport { TooltipSettings };\n/**\n *\n * The `Tooltip` module is used to render the tooltip for heatmap series.\n */\nvar Tooltip = /** @class */ (function () {\n    function Tooltip(heatMap) {\n        /* private */\n        this.isFirst = true;\n        /* private */\n        this.isFadeout = false;\n        this.heatMap = heatMap;\n    }\n    /**\n     * Get module name\n     */\n    Tooltip.prototype.getModuleName = function () {\n        return 'Tooltip';\n    };\n    /**\n     * To show/hide Tooltip.\n     *\n     * @private\n     */\n    Tooltip.prototype.showHideTooltip = function (isShow, isFadeout) {\n        var ele = document.getElementById(this.heatMap.element.id + 'Celltooltipcontainer');\n        if (!isShow) {\n            if (ele && ele.style.visibility !== 'hidden') {\n                if (this.tooltipObject && isFadeout && this.heatMap.isRectBoundary) {\n                    this.tooltipObject.fadeOut();\n                }\n                else {\n                    if (this.tooltipObject && this.tooltipObject.element) {\n                        var tooltipElement = this.tooltipObject.element.firstChild;\n                        tooltipElement.setAttribute('opacity', '0');\n                    }\n                }\n                ele.style.visibility = 'hidden';\n            }\n            this.isFadeout = true;\n        }\n        else {\n            ele.style.visibility = 'visible';\n        }\n    };\n    /**\n     * To destroy the Tooltip.\n     *\n     * @returns {void}\n     * @private\n     */\n    Tooltip.prototype.destroy = function () {\n        /**\n         * Destroy method performed here\n         */\n    };\n    /**\n     * To add Tooltip to the rect cell.\n     *\n     * @returns {void}\n     * @private\n     */\n    Tooltip.prototype.createTooltip = function (currentRect, x, y, tempTooltipText) {\n        var offset = null;\n        var element = select('#' + this.heatMap.element.id + 'Celltooltipcontainer');\n        if (this.heatMap.cellSettings.showLabel && this.heatMap.heatMapSeries.checkLabelXDisplay &&\n            this.heatMap.heatMapSeries.checkLabelYDisplay) {\n            offset = parseInt(this.heatMap.cellSettings.textStyle.size, 10) / 2;\n        }\n        if (this.heatMap.theme === 'Tailwind') {\n            this.heatMap.setProperties({ tooltipSettings: { textStyle: { size: '12px', fontFamily: 'Inter', fontWeight: '500' } } }, true);\n        }\n        if (this.heatMap.theme === 'TailwindDark') {\n            this.heatMap.setProperties({ tooltipSettings: { fill: '#F9FAFB', textStyle: { size: '12px', fontFamily: 'Inter', fontWeight: '500', color: '#1F2937' } } }, true);\n        }\n        if (this.heatMap.theme === 'Bootstrap5') {\n            this.heatMap.setProperties({ tooltipSettings: { textStyle: { size: '14px', fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"', fontWeight: '500' } } }, true);\n        }\n        if (this.heatMap.theme === 'Bootstrap5Dark') {\n            this.heatMap.setProperties({ tooltipSettings: { fill: '#E9ECEF', textStyle: { size: '14px', fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"', fontWeight: '500', color: '#212529' } } }, true);\n        }\n        if (this.heatMap.theme === 'Fluent') {\n            this.heatMap.setProperties({ tooltipSettings: { textStyle: { size: '12px', fontFamily: '\"Segoe UI\", -apple-system, BlinkMacSystemFont, \"Roboto\", \"Helvetica Neue\", sans-serif', fontWeight: '500' } } }, true);\n        }\n        if (this.heatMap.theme === 'FluentDark') {\n            this.heatMap.setProperties({ tooltipSettings: { fill: '#252423', textStyle: { size: '12px', fontFamily: '\"Segoe UI\", -apple-system, BlinkMacSystemFont, \"Roboto\", \"Helvetica Neue\", sans-serif', fontWeight: '500', color: '#F3F2F1' } } }, true);\n        }\n        if (this.heatMap.theme === 'Material3') {\n            this.heatMap.setProperties({ tooltipSettings: { fill: '#313033', textStyle: { size: '14px', fontFamily: 'Roboto', fontWeight: '400', color: '#F4EFF4' } } }, true);\n        }\n        if (this.heatMap.theme === 'Material3Dark') {\n            this.heatMap.setProperties({ tooltipSettings: { fill: '#E6E1E5', textStyle: { size: '14px', fontFamily: 'Roboto', fontWeight: '400', color: '#313033' } } }, true);\n        }\n        this.tooltipObject = new tool({\n            opacity: (this.heatMap.theme === 'Tailwind' || this.heatMap.theme === 'TailwindDark' || this.heatMap.theme === 'Bootstrap5' || this.heatMap.theme === 'Bootstrap5Dark' || this.heatMap.theme === 'Fluent' || this.heatMap.theme === 'FluentDark') ? 1 : 0.75,\n            enableAnimation: false,\n            offset: offset,\n            location: { x: x, y: y },\n            availableSize: this.heatMap.availableSize,\n            data: {\n                xValue: this.heatMap.heatMapSeries.hoverXAxisValue,\n                yValue: this.heatMap.heatMapSeries.hoverYAxisValue,\n                value: currentRect.value,\n                xLabel: this.heatMap.heatMapSeries.hoverXAxisLabel ?\n                    this.heatMap.heatMapSeries.hoverXAxisLabel.toString() : null,\n                yLabel: this.heatMap.heatMapSeries.hoverYAxisLabel ?\n                    this.heatMap.heatMapSeries.hoverYAxisLabel.toString() : null\n            },\n            theme: this.heatMap.theme,\n            content: tempTooltipText,\n            fill: this.heatMap.tooltipSettings.fill,\n            template: this.heatMap.tooltipSettings.template === '' ? null : this.heatMap.tooltipSettings.template,\n            border: {\n                width: this.heatMap.tooltipSettings.border.width,\n                color: this.heatMap.tooltipSettings.border.color\n            },\n            textStyle: {\n                size: this.heatMap.tooltipSettings.textStyle.size,\n                fontWeight: this.heatMap.tooltipSettings.textStyle.fontWeight.toLowerCase(),\n                color: this.heatMap.tooltipSettings.textStyle.color,\n                fontStyle: this.heatMap.tooltipSettings.textStyle.fontStyle.toLowerCase(),\n                fontFamily: this.heatMap.tooltipSettings.textStyle.fontFamily\n            },\n            areaBounds: {\n                height: this.heatMap.initialClipRect.height + this.heatMap.initialClipRect.y,\n                width: this.heatMap.initialClipRect.width, x: this.heatMap.initialClipRect.x\n            }\n        }, element);\n    };\n    /**\n     * To create div container for tooltip.\n     *\n     * @returns {void}\n     * @private\n     */\n    Tooltip.prototype.createTooltipDiv = function (heatMap) {\n        var position = 'absolute';\n        var top = heatMap.enableCanvasRendering && heatMap.allowSelection ? heatMap.availableSize.height : 0;\n        var element2 = createElement('div', {\n            id: this.heatMap.element.id + 'Celltooltipcontainer'\n        });\n        element2.style.cssText = 'position:' + position + '; z-index: 3;top:-' + top + 'px';\n        var tooltipElement = createElement('div', {\n            id: this.heatMap.element.id + 'Celltooltipparent'\n        });\n        tooltipElement.style.position = 'relative';\n        tooltipElement.appendChild(element2);\n        this.heatMap.element.appendChild(tooltipElement);\n    };\n    /**\n     * To get default tooltip content.\n     *\n     * @private\n     */\n    Tooltip.prototype.getTooltipContent = function (currentRect, hetmapSeries) {\n        var value;\n        var content;\n        var heatMap = this.heatMap;\n        var adaptData = this.heatMap.dataSourceSettings;\n        if (heatMap.bubbleSizeWithColor) {\n            var xAxis = heatMap.xAxis.title && heatMap.xAxis.title.text !== '' ? heatMap.xAxis.title.text : 'X-Axis';\n            var yAxis = heatMap.yAxis.title && heatMap.yAxis.title.text !== '' ? heatMap.yAxis.title.text : 'Y-Axis';\n            var value1 = adaptData.isJsonData && adaptData.adaptorType === 'Cell' ?\n                adaptData.bubbleDataMapping.size : 'Value 1';\n            var value2 = adaptData.isJsonData && adaptData.adaptorType === 'Cell' ?\n                adaptData.bubbleDataMapping.color : 'Value 2';\n            value = hetmapSeries.getFormatedText(currentRect.value[0].bubbleData, this.heatMap.cellSettings.format);\n            content = [xAxis + ' : ' + hetmapSeries.hoverXAxisLabel + '<br/>'\n                    + yAxis + ' : ' + hetmapSeries.hoverYAxisLabel + '<br/>'\n                    + value1 + ' : ' + value + '<br/>'\n                    + value2 + ' : '\n                    + hetmapSeries.getFormatedText(currentRect.value[1].bubbleData, this.heatMap.cellSettings.format)];\n        }\n        else {\n            value = currentRect.value;\n            content = [hetmapSeries.hoverXAxisLabel + ' | ' + hetmapSeries.hoverYAxisLabel + ' : ' +\n                    hetmapSeries.getFormatedText(value, this.heatMap.cellSettings.format)];\n        }\n        return content;\n    };\n    /**\n     * To render tooltip.\n     *\n     * @private\n     */\n    Tooltip.prototype.renderTooltip = function (currentRect) {\n        var _this = this;\n        var hetmapSeries = this.heatMap.heatMapSeries;\n        var tempTooltipText = [''];\n        var showTooltip = this.heatMap.bubbleSizeWithColor ?\n            !isNullOrUndefined(currentRect.value) && !isNullOrUndefined(currentRect.value[0].bubbleData)\n                && currentRect.value[0].bubbleData.toString() !== '' ? true : false\n            : isNullOrUndefined(currentRect.value) || (!isNullOrUndefined(currentRect.value) &&\n                currentRect.value.toString() === '') ? false : true;\n        if (!showTooltip) {\n            this.showHideTooltip(false, false);\n            if (!currentRect.visible) {\n                this.showHideTooltip(false, false);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.heatMap.tooltipRender)) {\n                // this.tooltipObject.header = '';\n                // this.tooltipObject.content = this.getTemplateText(\n                //     currentRect, this.heatMap.tooltipTemplate, hetmapSeries.hoverXAxisLabel,\n                //     hetmapSeries.hoverYAxisLabel);\n                var content = this.getTooltipContent(currentRect, hetmapSeries);\n                var argData = {\n                    heatmap: this.heatMap,\n                    cancel: false,\n                    name: 'tooltipRender',\n                    value: currentRect.value,\n                    xValue: this.heatMap.heatMapSeries.hoverXAxisValue,\n                    yValue: this.heatMap.heatMapSeries.hoverYAxisValue,\n                    xLabel: this.heatMap.heatMapSeries.hoverXAxisLabel ?\n                        this.heatMap.heatMapSeries.hoverXAxisLabel.toString() : null,\n                    yLabel: this.heatMap.heatMapSeries.hoverYAxisLabel ?\n                        this.heatMap.heatMapSeries.hoverYAxisLabel.toString() : null,\n                    content: content\n                };\n                this.heatMap.trigger('tooltipRender', argData, function (observedArgs) {\n                    if (!observedArgs.cancel) {\n                        tempTooltipText = observedArgs.content;\n                        _this.tooltipCallback(currentRect, tempTooltipText);\n                    }\n                    else {\n                        if (_this.tooltipObject) {\n                            _this.showHideTooltip(false);\n                        }\n                    }\n                });\n            }\n            else {\n                //  this.tooltipObject.header = hetmapSeries.hoverYAxisLabel.toString();\n                tempTooltipText = this.getTooltipContent(currentRect, hetmapSeries);\n                this.tooltipCallback(currentRect, tempTooltipText);\n            }\n        }\n    };\n    /**\n     * To render tooltip.\n     */\n    Tooltip.prototype.tooltipCallback = function (currentRect, tempTooltipText) {\n        if (!this.tooltipObject) {\n            this.createTooltip(currentRect, currentRect.x + (currentRect.width / 2), currentRect.y + (currentRect.height / 2), tempTooltipText);\n        }\n        else {\n            this.tooltipObject.content = tempTooltipText;\n            this.tooltipObject.data = {\n                xValue: this.heatMap.heatMapSeries.hoverXAxisValue,\n                yValue: this.heatMap.heatMapSeries.hoverYAxisValue,\n                xLabel: this.heatMap.heatMapSeries.hoverXAxisLabel ?\n                    this.heatMap.heatMapSeries.hoverXAxisLabel.toString() : null,\n                yLabel: this.heatMap.heatMapSeries.hoverYAxisLabel ?\n                    this.heatMap.heatMapSeries.hoverYAxisLabel.toString() : null,\n                value: currentRect.value\n            };\n        }\n        this.showHideTooltip(true);\n        this.tooltipObject.enableAnimation = (this.isFirst || this.isFadeout) ? false : true;\n        this.isFirst = (this.isFirst) ? false : this.isFirst;\n        this.isFadeout = (this.isFadeout) ? false : this.isFadeout;\n        this.tooltipObject.location.x = currentRect.x + (currentRect.width / 2);\n        this.tooltipObject.location.y = currentRect.y + (currentRect.height / 2);\n        if (!currentRect.visible) {\n            this.showHideTooltip(false, false);\n        }\n    };\n    return Tooltip;\n}());\nexport { Tooltip };\n","import { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar TwoDimensional = /** @class */ (function () {\n    function TwoDimensional(heatMap) {\n        this.heatMap = heatMap;\n    }\n    /**\n     * To reconstruct proper two dimensional dataSource depends on min and max values.\n     *\n     * @private\n     */\n    TwoDimensional.prototype.processDataSource = function (dataSource) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var tempCloneData = extend([], dataSource, null, true);\n        this.heatMap.clonedDataSource = [];\n        this.completeDataSource = [];\n        var axis = this.heatMap.axisCollections;\n        var dataLength = axis[0].maxLength + 1;\n        var labelLength = axis[0].axisLabelSize + (axis[0].min > 0 ? axis[0].min : 0);\n        var xLength = dataLength > labelLength ? dataLength : labelLength;\n        var minVal;\n        var maxVal;\n        dataLength = axis[1].maxLength + 1;\n        labelLength = axis[1].axisLabelSize + (axis[1].min > 0 ? axis[1].min : 0);\n        var yLength = dataLength > labelLength ? dataLength : labelLength;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var tempVariable;\n        var cloneDataIndex = 0;\n        var minMaxDatasource = [];\n        this.tempSizeArray = [];\n        this.tempColorArray = [];\n        this.heatMap.minColorValue = null;\n        this.heatMap.maxColorValue = null;\n        this.heatMap.dataMax = [];\n        this.heatMap.dataMin = [];\n        if (this.heatMap.paletteSettings.colorGradientMode === 'Column' && xLength < yLength) {\n            xLength = yLength;\n        }\n        for (var z = axis[1].valueType === 'Category' ? axis[1].min : 0; z < (this.heatMap.paletteSettings.colorGradientMode === 'Column' ? xLength : yLength); z++) {\n            var tempIndex = axis[0].valueType === 'Category' ? axis[0].min : 0;\n            this.completeDataSource.push([]);\n            while (tempIndex < xLength) {\n                if (tempIndex >= axis[0].min && tempIndex <= axis[0].max) {\n                    this.processDataArray(tempCloneData, tempIndex, z, cloneDataIndex);\n                }\n                tempIndex++;\n            }\n            if (this.heatMap.paletteSettings.colorGradientMode === 'Column' && this.heatMap.paletteSettings.type === 'Gradient') {\n                tempVariable = extend([], tempCloneData[cloneDataIndex], null, true);\n                for (var i = 0; i < tempVariable.length; i++) {\n                    if (typeof (tempVariable[i]) === 'object' && (tempVariable[i]) !== null || undefined || '') {\n                        tempVariable[i] = tempVariable[i][0];\n                    }\n                }\n            }\n            else {\n                tempVariable = extend([], this.completeDataSource[cloneDataIndex], null, true);\n            }\n            var minMaxVal = this.getMinMaxValue(minVal, maxVal, tempVariable);\n            if ((this.heatMap.paletteSettings.colorGradientMode === 'Column' ||\n                this.heatMap.paletteSettings.colorGradientMode === 'Row') && this.heatMap.paletteSettings.type === 'Gradient') {\n                this.heatMap.dataMax[z] = minMaxVal[1];\n                this.heatMap.dataMin[z] = minMaxVal[0];\n            }\n            minVal = minMaxVal[0];\n            maxVal = minMaxVal[1];\n            if (this.heatMap.xAxis.isInversed) {\n                this.completeDataSource[cloneDataIndex] = this.completeDataSource[cloneDataIndex].reverse();\n            }\n            if (z >= this.heatMap.axisCollections[1].min && z <= this.heatMap.axisCollections[1].max) {\n                minMaxDatasource.push(this.completeDataSource[cloneDataIndex]);\n            }\n            cloneDataIndex++;\n        }\n        if (this.heatMap.paletteSettings.colorGradientMode === 'Row' && !this.heatMap.yAxis.isInversed &&\n            this.heatMap.paletteSettings.type === 'Gradient') {\n            this.heatMap.dataMax = this.heatMap.dataMax.reverse();\n            this.heatMap.dataMin = this.heatMap.dataMin.reverse();\n        }\n        if (this.heatMap.paletteSettings.colorGradientMode === 'Column' && this.heatMap.xAxis.isInversed &&\n            this.heatMap.paletteSettings.type === 'Gradient') {\n            this.heatMap.dataMax = this.heatMap.dataMax.reverse();\n            this.heatMap.dataMin = this.heatMap.dataMin.reverse();\n        }\n        if (!this.heatMap.yAxis.isInversed) {\n            this.completeDataSource.reverse();\n            minMaxDatasource.reverse();\n        }\n        this.heatMap.clonedDataSource = minMaxDatasource;\n        this.heatMap.dataSourceMinValue = isNullOrUndefined(minVal) ? 0 : parseFloat(minVal.toString());\n        this.heatMap.dataSourceMaxValue = isNullOrUndefined(maxVal) ? 0 : parseFloat(maxVal.toString());\n        this.heatMap.isColorValueExist = isNullOrUndefined(this.heatMap.minColorValue) ? false : true;\n        this.heatMap.minColorValue = isNullOrUndefined(this.heatMap.minColorValue) ?\n            this.heatMap.dataSourceMinValue : parseFloat(this.heatMap.minColorValue.toString());\n        this.heatMap.maxColorValue = isNullOrUndefined(this.heatMap.maxColorValue) ?\n            this.heatMap.dataSourceMaxValue : parseFloat(this.heatMap.maxColorValue.toString());\n    };\n    /**\n     * To process and create a proper data array.\n     *\n     *  @private\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    TwoDimensional.prototype.processDataArray = function (tempCloneData, tempIndex, z, cloneDataIndex) {\n        if (this.heatMap.bubbleSizeWithColor) {\n            if (tempCloneData[tempIndex] && !isNullOrUndefined(tempCloneData[tempIndex][z])\n                && typeof (tempCloneData[tempIndex][z]) === 'object') {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var internalArray = tempCloneData[tempIndex][z];\n                for (var tempx = 0; tempx < internalArray.length; tempx++) {\n                    if (isNullOrUndefined(internalArray[tempx]) || isNaN(internalArray[tempx])) {\n                        internalArray[tempx] = '';\n                    }\n                    if (tempx === 0) {\n                        this.tempSizeArray.push(internalArray[tempx]);\n                    }\n                    else if (tempx === 1) {\n                        this.tempColorArray.push(internalArray[tempx]);\n                        break;\n                    }\n                }\n                this.completeDataSource[cloneDataIndex].push(internalArray);\n            }\n            else {\n                if (!isNullOrUndefined(tempCloneData[tempIndex]) && (tempCloneData[tempIndex][z] ||\n                    (tempCloneData[tempIndex][z] === 0 &&\n                        tempCloneData[tempIndex][z].toString() !== ''))) {\n                    this.completeDataSource[cloneDataIndex].push([tempCloneData[tempIndex][z]]);\n                    this.tempSizeArray.push(tempCloneData[tempIndex][z]);\n                }\n                else {\n                    this.completeDataSource[cloneDataIndex].push('');\n                }\n            }\n        }\n        else {\n            if (tempCloneData[tempIndex] && (tempCloneData[tempIndex][z] ||\n                (tempCloneData[tempIndex][z] === 0 &&\n                    tempCloneData[tempIndex][z].toString() !== ''))) {\n                if (typeof (tempCloneData[tempIndex][z]) === 'object') {\n                    if (tempCloneData[tempIndex][z].length > 0 &&\n                        !isNullOrUndefined(tempCloneData[tempIndex][z][0])) {\n                        this.completeDataSource[cloneDataIndex].push(tempCloneData[tempIndex][z][0]);\n                    }\n                    else {\n                        this.completeDataSource[cloneDataIndex].push('');\n                    }\n                }\n                else {\n                    this.completeDataSource[cloneDataIndex].push(tempCloneData[tempIndex][z]);\n                }\n            }\n            else {\n                this.completeDataSource[cloneDataIndex].push('');\n            }\n        }\n    };\n    /**\n     * To get minimum and maximum value\n     *\n     *  @private\n     */\n    TwoDimensional.prototype.getMinMaxValue = function (minVal, maxVal, tempVariable) {\n        var minMaxValue = [];\n        if (this.heatMap.bubbleSizeWithColor) {\n            if (this.heatMap.paletteSettings.colorGradientMode === 'Column' && this.heatMap.paletteSettings.type === 'Gradient') {\n                this.tempSizeArray = tempVariable;\n            }\n            minMaxValue.push(this.getMinValue(minVal, this.tempSizeArray));\n            minMaxValue.push(this.getMaxValue(maxVal, this.tempSizeArray));\n            this.heatMap.minColorValue = this.getMinValue(this.heatMap.minColorValue, this.tempColorArray);\n            this.heatMap.maxColorValue = this.getMaxValue(this.heatMap.maxColorValue, this.tempColorArray);\n        }\n        else {\n            minMaxValue.push(this.getMinValue(minVal, tempVariable));\n            minMaxValue.push(this.getMaxValue(maxVal, tempVariable));\n        }\n        return minMaxValue;\n    };\n    /**\n     * To get minimum value\n     *\n     *  @private\n     */\n    TwoDimensional.prototype.getMinValue = function (minVal, tempVariable) {\n        if (isNullOrUndefined(minVal)) {\n            minVal = this.performSort(tempVariable);\n        }\n        else if (this.performSort(tempVariable) < minVal) {\n            minVal = this.performSort(tempVariable);\n        }\n        else if ((this.heatMap.paletteSettings.colorGradientMode === 'Row' ||\n            this.heatMap.paletteSettings.colorGradientMode === 'Column') && this.heatMap.paletteSettings.type === 'Gradient') {\n            minVal = this.performSort(tempVariable);\n        }\n        return !isNullOrUndefined(minVal) ? parseFloat(minVal.toString()) : minVal;\n    };\n    /**\n     * To get maximum value\n     *\n     *  @private\n     */\n    TwoDimensional.prototype.getMaxValue = function (maxVal, tempVariable) {\n        if (isNullOrUndefined(maxVal) && tempVariable.length > 0) {\n            maxVal = Math.max.apply(Math, tempVariable);\n        }\n        else if (Math.max.apply(Math, tempVariable) > maxVal) {\n            maxVal = Math.max.apply(Math, tempVariable);\n        }\n        else if ((this.heatMap.paletteSettings.colorGradientMode === 'Row' ||\n            this.heatMap.paletteSettings.colorGradientMode === 'Column') && this.heatMap.paletteSettings.type === 'Gradient') {\n            maxVal = Math.max.apply(Math, tempVariable);\n        }\n        return !isNullOrUndefined(maxVal) ? parseFloat(maxVal.toString()) : maxVal;\n    };\n    /**\n     * To perform sort operation.\n     *\n     *  @private\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    TwoDimensional.prototype.performSort = function (tempVariable) {\n        return tempVariable.sort(function (a, b) { return a - b; }).filter(this.checkmin)[0];\n    };\n    /**\n     * To get minimum value\n     *\n     *  @private\n     */\n    TwoDimensional.prototype.checkmin = function (val) {\n        return !isNullOrUndefined(val) && val.toString() !== '';\n    };\n    return TwoDimensional;\n}());\nexport { TwoDimensional };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex, Browser, createElement, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DrawSvgCanvas, TextOption, TextBasic, PathOption, Line, LineOption, GradientPointer, textTrim } from '../utils/helper';\nimport { Size, measureText, getTitle, getElement, CanvasTooltip, formatValue, LegendRange, ToggleVisibility, sum } from '../utils/helper';\nimport { Font, Title } from '../model/base';\nimport { Rect, RectOption, Gradient, GradientColor, showTooltip, stringToNumber, CurrentLegendRect, removeElement } from '../utils/helper';\nimport { Theme } from '../model/theme';\nimport { Tooltip as tool } from '@syncfusion/ej2-svg-base';\n/**\n * Gets and sets the options to customize the legend in the heatmap.\n */\nvar LegendSettings = /** @class */ (function (_super) {\n    __extends(LegendSettings, _super);\n    function LegendSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], LegendSettings.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], LegendSettings.prototype, \"width\", void 0);\n    __decorate([\n        Complex({ text: '', textStyle: Theme.titleFont }, Title)\n    ], LegendSettings.prototype, \"title\", void 0);\n    __decorate([\n        Property('Right')\n    ], LegendSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property('Center')\n    ], LegendSettings.prototype, \"alignment\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"showLabel\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"showGradientPointer\", void 0);\n    __decorate([\n        Property(false)\n    ], LegendSettings.prototype, \"enableSmartLegend\", void 0);\n    __decorate([\n        Property('All')\n    ], LegendSettings.prototype, \"labelDisplayType\", void 0);\n    __decorate([\n        Complex(Theme.legendLabelFont, Font)\n    ], LegendSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property('')\n    ], LegendSettings.prototype, \"labelFormat\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"toggleVisibility\", void 0);\n    return LegendSettings;\n}(ChildProperty));\nexport { LegendSettings };\n/**\n *\n * The `Legend` module is used to render legend for the heatmap.\n */\nvar Legend = /** @class */ (function () {\n    function Legend(heatMap) {\n        this.maxLegendLabelSize = new Size(0, 0);\n        this.gradientScaleSize = 10;\n        this.segmentCollections = [];\n        this.segmentCollectionsLabels = [];\n        this.textWrapCollections = [];\n        this.labelCollections = [];\n        this.labelCollection = [];\n        this.legendSize = 10;\n        this.previousOptions = new GradientPointer(0, 0, 0, 0, 0, 0);\n        this.listPerPage = 0;\n        this.numberOfPages = 1;\n        this.listWidth = 0;\n        this.fillRect = new Rect(0, 0, 0, 0);\n        this.legendRect = new Rect(0, 0, 0, 0);\n        this.currentPage = 1;\n        this.lastList = [];\n        this.navigationCollections = [];\n        this.pagingRect = new Rect(0, 0, 0, 0);\n        this.listInterval = 10; // padding between two lists\n        this.legendLabelTooltip = [];\n        this.legendTitleTooltip = [];\n        this.labelXCollections = [];\n        this.labelYCollections = [];\n        this.legendXCollections = [];\n        this.legendYCollections = [];\n        /** @private */\n        this.legendRectPositionCollection = [];\n        /** @private */\n        this.legendRange = [];\n        /** @private */\n        this.legendTextRange = [];\n        /** @private */\n        this.visibilityCollections = [];\n        this.heatMap = heatMap;\n        this.drawSvgCanvas = new DrawSvgCanvas(heatMap);\n    }\n    /**\n     * Get module name\n     */\n    Legend.prototype.getModuleName = function () {\n        return 'Legend';\n    };\n    /**\n     * To destroy the Legend.\n     *\n     * @returns {void}\n     * @private\n     */\n    Legend.prototype.destroy = function () {\n        /**\n         * destory code\n         */\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.renderLegendItems = function () {\n        var heatMap = this.heatMap;\n        heatMap.toggleValue = [];\n        var tempBorder = { color: 'transparent', width: 0 };\n        this.legend = heatMap.renderer.createGroup({ id: heatMap.element.id + '_Heatmap_Legend' });\n        var rectItems = new RectOption(heatMap.element.id + '_LegendBound', 'none', tempBorder, 1, this.legendGroup);\n        this.drawSvgCanvas.drawRectangle(rectItems, this.legend);\n        var legendBound = this.legendRectScale;\n        var ctx = heatMap.canvasRenderer.ctx;\n        var rectItemsSvg = new Rect(legendBound.x, legendBound.y, legendBound.width, legendBound.height);\n        var fill;\n        if (heatMap.paletteSettings.type === 'Fixed') {\n            var colorCollection = (!heatMap.legendSettings.enableSmartLegend) ?\n                heatMap.colorCollection : heatMap.legendColorCollection;\n            this.legendRange = (heatMap.resizing || (!heatMap.legendOnLoad && heatMap.rendering)) ? [] : this.legendRange;\n            this.legendTextRange = (heatMap.resizing || (!heatMap.legendOnLoad && heatMap.rendering)) ? [] : this.legendTextRange;\n            if (heatMap.enableCanvasRendering) {\n                ctx.save();\n                ctx.clip();\n            }\n            for (var i = 0; i < colorCollection.length; i++) {\n                var visibility = !isNullOrUndefined(this.visibilityCollections[i]) ?\n                    this.visibilityCollections[i] : true;\n                heatMap.toggleValue.push(new ToggleVisibility(visibility, colorCollection[i].value, colorCollection[i].startValue, colorCollection[i].endValue));\n            }\n        }\n        if (heatMap.paletteSettings.type === 'Gradient' || (heatMap.paletteSettings.type === 'Fixed' &&\n            heatMap.legendSettings.enableSmartLegend === true)) {\n            if (heatMap.paletteSettings.type === 'Gradient') {\n                if (heatMap.enableCanvasRendering) {\n                    var grd = void 0;\n                    var ctx_1 = heatMap.canvasRenderer.ctx;\n                    if (heatMap.horizontalGradient) {\n                        grd = ctx_1.createLinearGradient(legendBound.x, 0, legendBound.x + legendBound.width, 0);\n                    }\n                    else {\n                        grd = ctx_1.createLinearGradient(0, legendBound.y, 0, legendBound.y + legendBound.height);\n                    }\n                    if (heatMap.legendSettings.title.text) {\n                        ctx_1.clip();\n                    }\n                    for (var i = 0; i < heatMap.legendColorCollection.length; i++) {\n                        var value = (((this.heatMap.isColorRange ? heatMap.legendColorCollection[i].startValue :\n                            heatMap.legendColorCollection[i].value) - this.legendMinValue) /\n                            (this.legendMaxValue - this.legendMinValue));\n                        value = isNaN(value) ? 0 : value;\n                        if (this.heatMap.isColorRange && this.heatMap.paletteSettings.type === 'Gradient') {\n                            this.calculateCanvasColorRange(i, grd);\n                        }\n                        else {\n                            grd.addColorStop(value, heatMap.legendColorCollection[i].color);\n                        }\n                    }\n                    ctx_1.fillStyle = grd;\n                    fill = grd.toString();\n                }\n                else {\n                    var gradientOptions = void 0;\n                    var gradientColor = void 0;\n                    var cgradientColors = [];\n                    for (var i = 0; i < heatMap.legendColorCollection.length; i++) {\n                        if (this.heatMap.isColorRange && this.heatMap.paletteSettings.type === 'Gradient') {\n                            this.calculateColorRange(i, cgradientColors);\n                        }\n                        else {\n                            var gradientPercentage = ((heatMap.legendColorCollection[i].value - this.legendMinValue) /\n                                (this.legendMaxValue - this.legendMinValue)) * 100;\n                            gradientPercentage = isNaN(gradientPercentage) ? 0 : gradientPercentage;\n                            gradientColor = new GradientColor(heatMap.legendColorCollection[i].color, gradientPercentage + '%');\n                            cgradientColors.push(gradientColor);\n                        }\n                        if (this.legendMaxValue === this.legendMinValue) {\n                            break;\n                        }\n                    }\n                    if (heatMap.horizontalGradient) {\n                        gradientOptions = new Gradient(heatMap.element.id + '_lineargradient', '0%', '100%', '0%', '0%');\n                    }\n                    else {\n                        gradientOptions = new Gradient(heatMap.element.id + '_lineargradient', '0%', '0%', '0%', '100%');\n                    }\n                    var linearGradient = heatMap.renderer.drawGradient('linearGradient', gradientOptions, cgradientColors);\n                    this.legend.appendChild(linearGradient);\n                    fill = 'url(#' + heatMap.element.id + '_lineargradient)';\n                }\n                var rectItem = new RectOption(heatMap.element.id + '_Gradient_Legend', fill, tempBorder, 1, rectItemsSvg);\n                this.drawSvgCanvas.drawRectangle(rectItem, this.legend);\n                this.renderElements(rectItemsSvg);\n            }\n            else {\n                this.renderSmartLegend();\n                this.renderTitle(rectItemsSvg);\n            }\n            if (!heatMap.enableCanvasRendering) {\n                heatMap.svgObject.appendChild(this.legend);\n            }\n            if (heatMap.enableCanvasRendering) {\n                ctx.restore();\n            }\n            this.renderLegendLabel(rectItemsSvg);\n        }\n        else {\n            this.legendScale = heatMap.renderer.createGroup({ id: heatMap.element.id + 'Heatmap_GradientScale' });\n            var listRect = new RectOption(heatMap.element.id + '_Gradient_Scale', 'none', tempBorder, 1, this.legendRectScale);\n            this.drawSvgCanvas.drawRectangle(listRect, this.legendScale);\n            this.renderTitle(rectItemsSvg);\n            if (!heatMap.enableCanvasRendering) {\n                this.legend.appendChild(this.legendScale);\n            }\n            this.translategroup = heatMap.renderer.createGroup({ id: heatMap.element.id + '_translate' });\n            this.calculateListPerPage(rectItemsSvg);\n            if (this.numberOfPages > 1) {\n                this.paginggroup = heatMap.renderer.createGroup({ id: heatMap.element.id + '_navigation' });\n            }\n            this.renderListLegendMode(rectItemsSvg, true);\n            if (heatMap.enableCanvasRendering) {\n                ctx.restore();\n            }\n        }\n    };\n    Legend.prototype.renderElements = function (rectItemsSvg) {\n        this.renderTitle(rectItemsSvg);\n        this.renderColorAxisGrid(rectItemsSvg);\n    };\n    Legend.prototype.calculateCanvasColorRange = function (i, grd) {\n        var heatMap = this.heatMap;\n        var value = ((((heatMap.legendColorCollection[i].startValue < heatMap.dataSourceMinValue &&\n            heatMap.legendColorCollection[i].endValue > heatMap.dataSourceMinValue) ?\n            heatMap.dataSourceMinValue : heatMap.legendColorCollection[i].startValue) - this.legendMinValue) /\n            (this.legendMaxValue - this.legendMinValue));\n        value = isNaN(value) ? 0 : value;\n        var value1 = ((heatMap.legendColorCollection[i].endValue >= this.heatMap.dataSourceMaxValue ?\n            this.heatMap.dataSourceMaxValue : heatMap.legendColorCollection[i].endValue) - this.legendMinValue) /\n            (this.legendMaxValue - this.legendMinValue);\n        if (this.heatMap.legendColorCollection[0].startValue !== this.heatMap.dataSourceMinValue && i === 0 &&\n            this.heatMap.legendColorCollection[0].startValue > this.heatMap.dataSourceMinValue) {\n            value = (this.heatMap.legendColorCollection[0].startValue - this.legendMinValue) /\n                (this.legendMaxValue - this.legendMinValue);\n            grd.addColorStop(value / 2, this.heatMap.paletteSettings.fillColor.minColor);\n            grd.addColorStop(value, this.heatMap.paletteSettings.fillColor.maxColor);\n        }\n        grd.addColorStop(value, heatMap.legendColorCollection[i].minColor);\n        grd.addColorStop(value1, heatMap.legendColorCollection[i].maxColor);\n        if (this.heatMap.legendColorCollection[i].endValue !== ((i === this.heatMap.legendColorCollection.length - 1) ?\n            this.heatMap.dataSourceMaxValue : this.heatMap.legendColorCollection[i + 1].startValue) &&\n            this.heatMap.legendColorCollection[i].endValue < this.heatMap.dataSourceMaxValue) {\n            value = (heatMap.legendColorCollection[i].endValue - this.legendMinValue) /\n                (this.legendMaxValue - this.legendMinValue);\n            grd.addColorStop(value, this.heatMap.paletteSettings.fillColor.minColor);\n            value = ((i === this.heatMap.legendColorCollection.length - 1 ? this.heatMap.dataSourceMaxValue :\n                heatMap.legendColorCollection[i + 1].startValue) - this.legendMinValue) /\n                (this.legendMaxValue - this.legendMinValue);\n            grd.addColorStop(value, this.heatMap.paletteSettings.fillColor.maxColor);\n        }\n    };\n    Legend.prototype.calculateColorRange = function (i, cgradientColors) {\n        if (cgradientColors === void 0) { cgradientColors = []; }\n        var heatMap = this.heatMap;\n        heatMap.toggleValue = [];\n        var gradientPercentage;\n        var gradientColor;\n        var gradientColor2;\n        var gradientColor3;\n        if (this.heatMap.legendColorCollection[0].startValue > this.heatMap.dataSourceMinValue && i === 0) {\n            gradientPercentage = (this.heatMap.dataSourceMinValue - this.legendMinValue) /\n                (this.legendMaxValue - this.legendMinValue) * 100;\n            gradientPercentage = isNaN(gradientPercentage) ? 0 : gradientPercentage;\n            gradientColor = new GradientColor(heatMap.paletteSettings.fillColor.minColor, gradientPercentage + '%');\n            cgradientColors.push(gradientColor);\n            gradientPercentage = (heatMap.legendColorCollection[0].startValue - this.legendMinValue) /\n                (this.legendMaxValue - this.legendMinValue) * 100;\n            gradientColor = new GradientColor(heatMap.paletteSettings.fillColor.maxColor, gradientPercentage + '%');\n            cgradientColors.push(gradientColor);\n        }\n        gradientPercentage = ((heatMap.legendColorCollection[i].startValue - this.legendMinValue) /\n            (this.legendMaxValue - this.legendMinValue)) * 100;\n        gradientPercentage = isNaN(gradientPercentage) ? 0 : gradientPercentage;\n        gradientColor = new GradientColor(heatMap.legendColorCollection[i].minColor, gradientPercentage + '%');\n        cgradientColors.push(gradientColor);\n        gradientPercentage = (heatMap.legendColorCollection[i].endValue - this.legendMinValue) /\n            (this.legendMaxValue - this.legendMinValue) * 100;\n        var gradientColor1 = new GradientColor(heatMap.legendColorCollection[i].maxColor, gradientPercentage + '%');\n        cgradientColors.push(gradientColor1);\n        if (this.heatMap.legendColorCollection[i].endValue !== ((i === this.heatMap.legendColorCollection.length - 1) ?\n            this.heatMap.dataSourceMaxValue : this.heatMap.legendColorCollection[i + 1].startValue)) {\n            gradientPercentage = (heatMap.legendColorCollection[i].endValue - this.legendMinValue) /\n                (this.legendMaxValue - this.legendMinValue) * 100;\n            gradientColor2 = new GradientColor(this.heatMap.paletteSettings.fillColor.minColor, (gradientPercentage) + '%');\n            cgradientColors.push(gradientColor2);\n            gradientPercentage = ((i === (this.heatMap.legendColorCollection.length - 1) ?\n                this.heatMap.dataSourceMaxValue : heatMap.legendColorCollection[i + 1].startValue) - this.legendMinValue) /\n                (this.legendMaxValue - this.legendMinValue) * 100;\n            gradientColor3 = new GradientColor(this.heatMap.paletteSettings.fillColor.maxColor, (gradientPercentage) + '%');\n            cgradientColors.push(gradientColor3);\n        }\n    };\n    Legend.prototype.renderTitle = function (rect) {\n        var heatMap = this.heatMap;\n        if (heatMap.legendSettings.title.text) {\n            var title = heatMap.legendSettings.title;\n            var titleSize = measureText(title.text, title.textStyle);\n            var padding = !heatMap.legendSettings.showLabel ? heatMap.horizontalGradient ? 10 : 6 : this.labelPadding;\n            var y = void 0;\n            var anchor = 'start';\n            var maxWidth = void 0;\n            var dominantBaseline = void 0;\n            var text = title.text;\n            var options = void 0;\n            var yValue = void 0;\n            if (heatMap.legendSettings.title.textStyle.textOverflow === 'Trim') {\n                maxWidth = this.width - 10;\n                text = textTrim(maxWidth, text, title.textStyle);\n            }\n            if (!heatMap.horizontalGradient) {\n                padding = -(padding + titleSize.height / 4);\n                if (text.length !== 0 && heatMap.enableCanvasRendering) {\n                    this.legendTitleTooltip.push(new CanvasTooltip(title.text, new Rect(rect.x, rect.y - titleSize.height, maxWidth, titleSize.height)));\n                }\n                options = new TextOption(heatMap.element.id + '_legendTitle', new TextBasic(rect.x, rect.y + padding, anchor, text, 0, 'translate(0,0)', dominantBaseline), title.textStyle, title.textStyle.color || heatMap.themeStyle.heatMapTitle);\n            }\n            else {\n                y = rect.y + (heatMap.legendSettings.position === 'Top' ? 0 :\n                    -(10 + titleSize.height + padding));\n                padding = heatMap.legendSettings.position === 'Top' ? -(padding + titleSize.height / 4) :\n                    (padding + (3 * titleSize.height / 4));\n                yValue = heatMap.legendSettings.position === 'Bottom' ? y : y - titleSize.height;\n                if (text.length !== 0 && heatMap.enableCanvasRendering) {\n                    this.legendTitleTooltip.push(new CanvasTooltip(title.text, new Rect(rect.x, yValue, maxWidth, titleSize.height)));\n                }\n                titleSize.width = rect.width < titleSize.width ? rect.width : titleSize.width;\n                options = new TextOption(heatMap.element.id + '_legendTitle', new TextBasic(rect.x + (rect.width / 2) - (titleSize.width / 2), y + padding, anchor, text, 0, 'translate(0,0)', dominantBaseline), title.textStyle, title.textStyle.color || heatMap.themeStyle.heatMapTitle);\n            }\n            this.drawSvgCanvas.createText(options, this.legend, text);\n        }\n    };\n    Legend.prototype.renderSmartLegend = function () {\n        var heatMap = this.heatMap;\n        var colorCollection = heatMap.colorCollection;\n        var smartLegendRect;\n        var tempBorder = {\n            color: 'transparent',\n            width: 0\n        };\n        var legendBound = this.legendRectScale;\n        var legendX;\n        var legendY;\n        var legendWidth;\n        var legendHeight;\n        var width = legendBound.width / colorCollection.length;\n        var height = legendBound.height / colorCollection.length;\n        this.legendRectPositionCollection = [];\n        this.legendRange = [];\n        for (var i = 0; i < heatMap.legendColorCollection.length; i++) {\n            var rectPosition = new CurrentLegendRect(0, 0, 0, 0, '', '');\n            if (heatMap.horizontalGradient) {\n                legendX = legendBound.x + (i * width);\n                legendY = legendBound.y;\n                legendWidth = width;\n                legendHeight = legendBound.height;\n                this.segmentCollections.push((heatMap.legendSettings.labelDisplayType === 'Edge' &&\n                    i === heatMap.legendColorCollection.length - 1 && !heatMap.legendColorCollection[i].isHidden) ?\n                    legendX + width : legendX);\n            }\n            else {\n                legendX = legendBound.x;\n                legendY = legendBound.y + (i * height);\n                legendWidth = legendBound.width;\n                legendHeight = height;\n                this.segmentCollections.push((heatMap.legendSettings.labelDisplayType === 'Edge' &&\n                    i === heatMap.legendColorCollection.length - 1 && !heatMap.legendColorCollection[i].isHidden) ?\n                    legendY + height : legendY);\n            }\n            smartLegendRect = new Rect(legendX, legendY, legendWidth, legendHeight);\n            var legendRange = new LegendRange(0, 0, 0, 0, 0, true, 0);\n            legendRange.x = legendX;\n            legendRange.y = legendY;\n            legendRange.width = legendWidth;\n            legendRange.height = legendHeight;\n            legendRange.value = this.heatMap.isColorRange ?\n                heatMap.legendColorCollection[i].endValue : heatMap.legendColorCollection[i].value;\n            legendRange.currentPage = this.currentPage;\n            if (colorCollection.length !== heatMap.legendColorCollection.length && i === heatMap.legendColorCollection.length - 1) {\n                if (heatMap.horizontalGradient) {\n                    legendRange.width = 0;\n                }\n                else {\n                    legendRange.height = 0;\n                }\n                this.visibilityCollections[i] = this.visibilityCollections[i - 1];\n            }\n            legendRange.visible = !isNullOrUndefined(this.visibilityCollections[i]) ?\n                this.visibilityCollections[i] : true;\n            this.legendRange.push(legendRange);\n            if (!heatMap.legendColorCollection[i].isHidden) {\n                var color = heatMap.legendOnLoad ? this.heatMap.isColorRange ? colorCollection[i].minColor :\n                    colorCollection[i].color : this.legendRange[i].visible ?\n                    this.heatMap.isColorRange ? colorCollection[i].minColor :\n                        colorCollection[i].color : this.heatMap.themeStyle.toggledColor || '#D3D3D3';\n                var rectItem = new RectOption(heatMap.element.id + '_Smart_Legend' + i, color, tempBorder, 1, smartLegendRect);\n                this.drawSvgCanvas.drawRectangle(rectItem, this.legend);\n                rectPosition.x = legendX;\n                rectPosition.y = legendY;\n                rectPosition.width = legendWidth;\n                rectPosition.height = legendHeight;\n                rectPosition.label = this.labelCollections[i];\n                rectPosition.id = heatMap.element.id + '_Smart_Legend' + i;\n                this.legendRectPositionCollection.push(rectPosition);\n                var text = getTitle(this.labelCollections[i], heatMap.legendSettings.textStyle, this.textWrapCollections[i]);\n                if (text.length !== 0 && heatMap.enableCanvasRendering) {\n                    var elementSize = measureText(this.labelCollections[i], heatMap.legendSettings.textStyle);\n                    this.legendLabelTooltip.push(new CanvasTooltip(this.labelCollections[i], new Rect(rectPosition.x, rectPosition.y, elementSize.width, elementSize.height)));\n                }\n            }\n        }\n    };\n    Legend.prototype.colorRangeLegendPosition = function (i, labelX) {\n        if (this.segmentCollections.length !== this.segmentCollectionsLabels.length) {\n            for (var k = 0; k < this.segmentCollections.length; k++) {\n                if (this.segmentCollectionsLabels[i] === this.segmentCollections[k]) {\n                    labelX = this.segmentCollectionsLabels[i] + (((k === this.segmentCollections.length - 1 ?\n                        (this.heatMap.horizontalGradient ? this.width : this.height) :\n                        this.segmentCollections[k + 1]) - this.segmentCollections[k]) / 2);\n                    break;\n                }\n            }\n        }\n        else {\n            labelX = this.segmentCollectionsLabels[i] + (((i === this.segmentCollectionsLabels.length - 1 ?\n                (this.heatMap.horizontalGradient ? this.width : this.height) :\n                this.segmentCollectionsLabels[i + 1]) - this.segmentCollectionsLabels[i]) / 2);\n        }\n        this.labelPosition = labelX;\n    };\n    Legend.prototype.renderLegendLabel = function (rect) {\n        var heatMap = this.heatMap;\n        this.legendTextRange = [];\n        if (heatMap.legendSettings.showLabel && (heatMap.paletteSettings.type === 'Gradient' ||\n            (heatMap.paletteSettings.type === 'Fixed' && heatMap.legendSettings.labelDisplayType !== 'None'))) {\n            var anchor = 'start';\n            var dominantBaseline = void 0;\n            var legendLabel = void 0;\n            var textWrapWidth = 0;\n            var text = void 0;\n            this.legendLabelTooltip = [];\n            var elementSize = void 0;\n            var isColorRange = heatMap.isColorRange;\n            var colorCollection = heatMap.legendColorCollection;\n            if (heatMap.enableCanvasRendering) {\n                var ctx = heatMap.canvasRenderer.ctx;\n                ctx.rect(this.legendGroup.x, this.legendGroup.y, this.legendGroup.width, this.legendGroup.height);\n                ctx.save();\n                ctx.clip();\n                ctx.restore();\n            }\n            else {\n                legendLabel = heatMap.renderer.createGroup({ id: heatMap.element.id + '_Heatmap_LegendLabel' });\n            }\n            var labelX = void 0;\n            var labelY = void 0;\n            for (var i = 0; i < colorCollection.length; i++) {\n                var value = ((colorCollection[i].value - (Math.round(this.legendMinValue * 100) / 100)) /\n                    ((Math.round(this.legendMaxValue * 100) / 100) - (Math.round(this.legendMinValue * 100) / 100))) * 100;\n                if (heatMap.horizontalGradient) {\n                    if (this.heatMap.isColorRange && heatMap.paletteSettings.type === 'Gradient') {\n                        this.colorRangeLegendPosition(i, labelX);\n                        labelX = this.labelPosition;\n                    }\n                    else if (this.heatMap.legendSettings.enableSmartLegend && this.heatMap.isColorRange &&\n                        heatMap.paletteSettings.type === 'Fixed') {\n                        labelX = this.segmentCollections[i] + ((rect.width / colorCollection.length) / 2);\n                    }\n                    else {\n                        labelX = this.segmentCollections[i];\n                    }\n                    labelY = rect.y + rect.height + this.labelPadding;\n                    anchor = (((Math.round(value * 100) / 100) === 0 && !isColorRange) || (heatMap.paletteSettings.type === 'Fixed' &&\n                        i === 0)) ? 'start' : (((Math.round(value * 100) / 100) === 100 && heatMap.paletteSettings.type === 'Gradient' &&\n                        !isColorRange) || (Math.round(heatMap.dataSourceMaxValue * 100) / 100) === colorCollection[i].value &&\n                        heatMap.legendSettings.enableSmartLegend) || (heatMap.legendSettings.enableSmartLegend &&\n                        heatMap.paletteSettings.type === 'Fixed' && heatMap.legendSettings.labelDisplayType === 'Edge') ? 'end' : 'middle';\n                    dominantBaseline = 'hanging';\n                }\n                else {\n                    labelX = rect.x + rect.width + this.labelPadding;\n                    if (this.heatMap.isColorRange && heatMap.paletteSettings.type === 'Gradient') {\n                        this.colorRangeLegendPosition(i, labelY);\n                        labelY = this.labelPosition;\n                    }\n                    else if (this.heatMap.legendSettings.enableSmartLegend && this.heatMap.isColorRange &&\n                        heatMap.paletteSettings.type === 'Fixed') {\n                        labelY = this.segmentCollections[i] + ((rect.height / colorCollection.length) / 2);\n                    }\n                    else {\n                        labelY = this.segmentCollections[i];\n                    }\n                    dominantBaseline = (((Math.round(value * 100) / 100) === 0 && !isColorRange) || (i === 0 &&\n                        heatMap.paletteSettings.type === 'Fixed')) ? 'hanging' : (((Math.round(value * 100) / 100) === 100 &&\n                        !isColorRange && heatMap.paletteSettings.type === 'Gradient') ||\n                        (Math.round(heatMap.dataSourceMaxValue * 100) / 100) === colorCollection[i].value &&\n                            heatMap.legendSettings.enableSmartLegend) || (heatMap.legendSettings.enableSmartLegend &&\n                        heatMap.legendSettings.labelDisplayType === 'Edge' &&\n                        heatMap.paletteSettings.type === 'Fixed') ? 'auto' : 'middle';\n                }\n                textWrapWidth = heatMap.horizontalGradient ? (heatMap.legendSettings.textStyle.textOverflow === 'None' ?\n                    this.segmentCollections[i] : this.textWrapCollections[i]) :\n                    this.width - (this.legendRectScale.width + this.labelPadding + this.legendRectPadding);\n                text = getTitle(this.labelCollections[i], heatMap.legendSettings.textStyle, textWrapWidth);\n                elementSize = measureText(text[0], heatMap.legendSettings.textStyle);\n                if (heatMap.paletteSettings.type === 'Fixed') {\n                    var rectY = dominantBaseline === 'hanging' ? labelY : dominantBaseline === 'middle' ?\n                        labelY - elementSize.height / 2 : labelY - elementSize.height;\n                    var rectX = anchor === 'end' ? labelX - elementSize.width : anchor === 'middle' ?\n                        labelX - elementSize.width / 2 : labelX;\n                    var textPosition = new LegendRange(rectX, rectY, elementSize.width, elementSize.height, colorCollection[i].value, true, this.currentPage);\n                    textPosition.visible = !isNullOrUndefined(this.visibilityCollections[i]) ?\n                        this.visibilityCollections[i] : true;\n                    this.legendTextRange.push(textPosition);\n                }\n                if (this.labelCollections[i] !== '') {\n                    if (text.length !== 0 && text[0].indexOf('...') !== -1 && heatMap.enableCanvasRendering) {\n                        this.legendLabelTooltip.push(new CanvasTooltip(this.labelCollections[i], new Rect(labelX, labelY, elementSize.width, elementSize.height)));\n                    }\n                    var textBasic = new TextBasic(labelX, labelY, anchor, text, 0, 'translate(0,0)', dominantBaseline);\n                    var options = new TextOption(heatMap.element.id + '_Legend_Label' + i, textBasic, heatMap.legendSettings.textStyle, heatMap.legendSettings.textStyle.color || heatMap.themeStyle.legendLabel);\n                    options.fill = heatMap.legendOnLoad ? options.fill :\n                        (heatMap.paletteSettings.type === 'Fixed' && !this.legendRange[i].visible) ? '#D3D3D3' : options.fill;\n                    if (text.length > 1) {\n                        this.drawSvgCanvas.createWrapText(options, heatMap.legendSettings.textStyle, legendLabel);\n                    }\n                    else {\n                        this.drawSvgCanvas.createText(options, legendLabel, text[0]);\n                    }\n                    if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                        if (dominantBaseline === 'middle') {\n                            legendLabel.lastChild.setAttribute('dy', '0.6ex');\n                        }\n                        else if (dominantBaseline === 'hanging') {\n                            legendLabel.lastChild.setAttribute('dy', '1.5ex');\n                        }\n                    }\n                }\n                if (this.legendMaxValue === this.legendMinValue && heatMap.paletteSettings.type === 'Gradient') {\n                    break;\n                }\n            }\n            if (!heatMap.enableCanvasRendering) {\n                this.legendGroup.height = this.legendGroup.height > 0 ? this.legendGroup.height : 0;\n                this.legendGroup.width = this.legendGroup.width > 0 ? this.legendGroup.width : 0;\n                this.legend.appendChild(legendLabel);\n                var clippath = heatMap.renderer.createClipPath({ id: heatMap.element.id + '_clipPath' });\n                var clipRect = heatMap.renderer.drawRectangle(this.legendGroup);\n                clippath.appendChild(clipRect);\n                heatMap.svgObject.appendChild(clippath);\n                this.legend.style.cssText = 'clip-path:url(#' + clippath.id + ')';\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.renderGradientPointer = function (e, pageX, pageY) {\n        var heatMap = this.heatMap;\n        var currentRect = heatMap.heatMapSeries.getCurrentRect(pageX, pageY);\n        var cellValue = heatMap.bubbleSizeWithColor ? currentRect.value[0].bubbleData.toString() !== '' ?\n            !this.heatMap.isColorValueExist ? currentRect.value[0].bubbleData.toString() :\n                currentRect.value[1].bubbleData.toString() : '' : currentRect.value.toString();\n        var rect = this.legendRectScale;\n        var legendPart;\n        var direction;\n        var options;\n        var legendPath;\n        var pathX1;\n        var pathY1;\n        var pathX2;\n        var pathY2;\n        var pathX3;\n        var pathY3;\n        if (cellValue.toString() !== '') {\n            if (!heatMap.horizontalGradient) {\n                legendPart = rect.height / 100;\n                legendPath = legendPart * ((Number(cellValue) - this.legendMinValue) /\n                    (this.legendMaxValue - this.legendMinValue)) * 100;\n                legendPath = isNaN(legendPath) ? 0 : legendPath;\n                pathX1 = rect.x - 1;\n                pathY1 = rect.y + legendPath;\n                pathX2 = pathX3 = rect.x - 8;\n                pathY2 = rect.y - 5 + legendPath;\n                pathY3 = rect.y + 5 + legendPath;\n            }\n            else {\n                legendPart = rect.width / 100;\n                legendPath = legendPart * ((Number(cellValue) - this.legendMinValue) /\n                    (this.legendMaxValue - this.legendMinValue)) * 100;\n                legendPath = isNaN(legendPath) ? 0 : legendPath;\n                pathX1 = rect.x + legendPath;\n                pathY1 = rect.y + rect.height;\n                pathX2 = rect.x - 5 + legendPath;\n                pathY2 = pathY3 = rect.y + rect.height + 8;\n                pathX3 = rect.x + 5 + legendPath;\n            }\n            direction = 'M' + ' ' + pathX1 + ' ' + pathY1 + ' ' +\n                'L' + ' ' + pathX2 + ' ' + pathY2 + ' ' + 'L' + ' ' + pathX3 + ' ' + pathY3 + ' ' + 'Z';\n            options = new PathOption(heatMap.element.id + '_Gradient_Pointer', 'gray', 0.01, '#A0A0A0', 1, '0,0', direction);\n            if (!heatMap.enableCanvasRendering) {\n                this.gradientPointer = heatMap.renderer.drawPath(options);\n                this.gradientPointer.style.visibility = 'visible';\n                this.legend.appendChild(this.gradientPointer);\n            }\n            else {\n                this.removeGradientPointer();\n                var canvasTranslate = void 0;\n                heatMap.canvasRenderer.drawPath(options, canvasTranslate);\n                this.previousOptions.pathX1 = pathX1;\n                this.previousOptions.pathY1 = pathY1;\n                this.previousOptions.pathX2 = pathX2;\n                this.previousOptions.pathY2 = pathY2;\n                this.previousOptions.pathX3 = pathX3;\n                this.previousOptions.pathY3 = pathY3;\n            }\n        }\n        else {\n            this.removeGradientPointer();\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.removeGradientPointer = function () {\n        var heatMap = this.heatMap;\n        if (this.gradientPointer && !heatMap.enableCanvasRendering) {\n            this.gradientPointer.style.visibility = 'hidden';\n        }\n        else if (heatMap.enableCanvasRendering) {\n            if (Object.keys(this.previousOptions).length !== 0) {\n                if (heatMap.horizontalGradient) {\n                    this.fillRect.x = this.previousOptions.pathX2 - 1;\n                    this.fillRect.y = this.previousOptions.pathY1;\n                    this.fillRect.width = this.previousOptions.pathX3 - this.previousOptions.pathX2 + 2;\n                    this.fillRect.height = this.previousOptions.pathY2 + 1 - this.previousOptions.pathY1;\n                }\n                else {\n                    this.fillRect.x = this.previousOptions.pathX2 - 1;\n                    this.fillRect.y = this.previousOptions.pathY2 - 1;\n                    this.fillRect.width = this.previousOptions.pathX1 - this.previousOptions.pathX2 + 1;\n                    this.fillRect.height = this.previousOptions.pathY3 - this.previousOptions.pathY2 + 2;\n                }\n            }\n            heatMap.canvasRenderer.ctx.fillStyle = heatMap.themeStyle.background;\n            heatMap.canvasRenderer.ctx.clearRect(this.fillRect.x, this.fillRect.y, this.fillRect.width, this.fillRect.height);\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.calculateLegendBounds = function (rect) {\n        var heatMap = this.heatMap;\n        var legendSettings = heatMap.legendSettings;\n        this.labelCollection = [];\n        this.labelCollections = [];\n        var colorCollection = heatMap.legendColorCollection;\n        if (legendSettings.position !== 'Bottom' && legendSettings.position !== 'Top' &&\n            legendSettings.position !== 'Right' && legendSettings.position !== 'Left') {\n            legendSettings.position = 'Right';\n        }\n        var title = heatMap.legendSettings.title;\n        var titleSize = measureText(title.text, title.textStyle);\n        heatMap.horizontalGradient = legendSettings.position === 'Bottom' || legendSettings.position === 'Top';\n        this.legendRectPadding = heatMap.horizontalGradient ? heatMap.legendSettings.title.text ?\n            titleSize.height + 16 : 16 : 10; // padding between rect and legend\n        this.labelPadding = legendSettings.showLabel ? this.heatMap.horizontalGradient ? 10 : 6 : 0; // padding between list and label\n        this.legendHeight = legendSettings.height;\n        this.legendWidth = legendSettings.width;\n        var format = heatMap.legendSettings.labelFormat;\n        var isCustom = format.match('{value}') !== null;\n        this.format = heatMap.intl.getNumberFormat({ format: isCustom ? '' : format });\n        if (heatMap.paletteSettings.type === 'Fixed') {\n            for (var i = 0; i < colorCollection.length; i++) {\n                var label = colorCollection[i].label ? colorCollection[i].label : this.heatMap.isColorRange ?\n                    colorCollection[i].startValue.toString() + '-' + colorCollection[i].endValue.toString() : formatValue(isCustom, format, colorCollection[i].value, this.format).toString();\n                var legendEventArg = { cancel: false, text: label, name: 'legendRender' };\n                this.labelCollection.push(label);\n                this.heatMap.trigger('legendRender', legendEventArg);\n                if (heatMap.legendRender) {\n                    if (heatMap.legendSettings.enableSmartLegend && heatMap.legendSettings.labelDisplayType === 'Edge'\n                        && i > 0 && i < colorCollection.length - 1) {\n                        this.labelCollections.push('');\n                    }\n                    else {\n                        if (!legendEventArg.cancel) {\n                            this.labelCollections.push(legendEventArg.text);\n                        }\n                        else {\n                            this.labelCollections.push('');\n                        }\n                    }\n                }\n                else {\n                    if (heatMap.legendSettings.enableSmartLegend && heatMap.legendSettings.labelDisplayType === 'Edge'\n                        && i > 0 && i < colorCollection.length - 1) {\n                        this.labelCollections.push('');\n                    }\n                    else {\n                        this.labelCollections.push(label);\n                    }\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < colorCollection.length; i++) {\n                var label = colorCollection[i].isHidden ? '' : colorCollection[i].label ? colorCollection[i].label :\n                    this.heatMap.isColorRange ? colorCollection[i].startValue.toString() + '-' + colorCollection[i].endValue.toString() :\n                        formatValue(isCustom, format, colorCollection[i].value, this.format).toString();\n                var legendEventArg = { cancel: false, text: label, name: 'legendRender' };\n                if (!colorCollection[i].isHidden) {\n                    this.heatMap.trigger('legendRender', legendEventArg);\n                }\n                if (heatMap.legendRender) {\n                    if (!legendEventArg.cancel) {\n                        if (i > 0 && i < colorCollection.length - 1 && heatMap.legendSettings.labelDisplayType === 'Edge') {\n                            this.labelCollections.push('');\n                        }\n                        else {\n                            if (!legendEventArg.cancel) {\n                                this.labelCollections.push(legendEventArg.text);\n                            }\n                            else {\n                                this.labelCollections.push('');\n                            }\n                        }\n                    }\n                    else {\n                        this.labelCollections.push('');\n                    }\n                }\n                else {\n                    if (i > 0 && i < colorCollection.length - 1 && heatMap.legendSettings.labelDisplayType === 'Edge') {\n                        this.labelCollections.push('');\n                    }\n                    else {\n                        this.labelCollections.push(label);\n                    }\n                }\n            }\n        }\n        if (heatMap.paletteSettings.type === 'Gradient' || (heatMap.paletteSettings.type === 'Fixed' &&\n            heatMap.legendSettings.enableSmartLegend)) {\n            this.maxLegendLabelSize = this.getMaxLabelSize();\n            if (heatMap.horizontalGradient && legendSettings.height === '') {\n                this.legendHeight = ((2 * this.legendRectPadding) + this.legendSize + this.maxLegendLabelSize.height).toString();\n            }\n            else if (!heatMap.horizontalGradient && legendSettings.width === '' && (legendSettings.textStyle.textOverflow === 'None' ||\n                (heatMap.paletteSettings.type === 'Fixed' && heatMap.legendSettings.enableSmartLegend &&\n                    heatMap.legendSettings.labelDisplayType === 'None'))) {\n                this.legendWidth = ((2 * this.legendRectPadding) + this.legendSize + this.maxLegendLabelSize.width).toString();\n            }\n            this.calculateTitleBounds();\n        }\n        else {\n            this.calculateListLegendBounds(rect);\n        }\n        this.legendHeight = this.legendHeight ? this.legendHeight : heatMap.horizontalGradient ? '50' : '100%';\n        this.legendWidth = this.legendWidth ? this.legendWidth : heatMap.horizontalGradient ?\n            '100%' : heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend ? '70' : '50';\n        this.height = stringToNumber(this.legendHeight, rect.height);\n        this.width = stringToNumber(this.legendWidth, rect.width);\n        if (heatMap.horizontalGradient) {\n            this.height = heatMap.paletteSettings.type === 'Gradient' || heatMap.legendSettings.enableSmartLegend ?\n                this.height < 50 ? 50 : this.height : this.height;\n            if (legendSettings.position === 'Top') {\n                rect.y += this.height;\n            }\n            rect.height -= this.height;\n        }\n        else {\n            this.width = heatMap.paletteSettings.type === 'Gradient' || heatMap.legendSettings.enableSmartLegend ?\n                this.width < 50 ? 50 : this.width : this.width;\n            if (legendSettings.position === 'Left') {\n                rect.x += this.width;\n            }\n            rect.width -= this.width;\n        }\n    };\n    Legend.prototype.calculateTitleBounds = function () {\n        var heatMap = this.heatMap;\n        var title = heatMap.legendSettings.title;\n        var titleSize = measureText(title.text, title.textStyle);\n        if (heatMap.legendSettings.title.text) {\n            if ((heatMap.legendSettings.position === 'Top' || heatMap.legendSettings.position === 'Bottom') &&\n                heatMap.legendSettings.height === '') {\n                this.legendHeight = (((2 * this.legendRectPadding) - titleSize.height) +\n                    this.legendSize + this.maxLegendLabelSize.height).toString();\n            }\n            if (heatMap.legendSettings.width === '' && (heatMap.legendSettings.textStyle.textOverflow === 'None' ||\n                (heatMap.paletteSettings.type === 'Fixed' && heatMap.legendSettings.enableSmartLegend &&\n                    heatMap.legendSettings.labelDisplayType === 'None'))) {\n                if (heatMap.legendSettings.position === 'Right') {\n                    this.legendWidth = ((2 * this.legendRectPadding + titleSize.width) +\n                        this.legendSize + this.maxLegendLabelSize.width).toString();\n                }\n                else if (heatMap.legendSettings.position === 'Left') {\n                    titleSize.width = titleSize.width > this.maxLegendLabelSize.width ? titleSize.width : this.maxLegendLabelSize.width;\n                    this.legendWidth = ((2 * this.legendRectPadding + titleSize.width) + this.legendSize).toString();\n                }\n            }\n        }\n    };\n    Legend.prototype.calculateListLegendBounds = function (rect) {\n        var heatMap = this.heatMap;\n        this.listWidth = 0;\n        this.listHeight = 0;\n        this.currentPage = 1;\n        var padding = 10; // padding of paging elements\n        var title = heatMap.legendSettings.title;\n        var titleSize = measureText(title.text, title.textStyle);\n        var height = (titleSize.height + 50).toString();\n        if (heatMap.horizontalGradient) {\n            for (var i = 0; i < heatMap.colorCollection.length; i++) {\n                var size = 0;\n                if (heatMap.legendSettings.showLabel) {\n                    var text = this.labelCollections[i];\n                    size = measureText(text, heatMap.legendSettings.textStyle).width;\n                }\n                var perListWidth = this.legendSize + this.labelPadding + size + this.listInterval;\n                this.listWidth += perListWidth;\n            }\n            this.listWidth += this.listInterval + padding;\n            if (this.legendWidth === '') {\n                this.legendWidth = this.listWidth > rect.width ? rect.width.toString() : this.listWidth.toString();\n            }\n            if (this.legendHeight === '') {\n                this.numberOfRows = Math.ceil(this.listWidth / stringToNumber(this.legendWidth, rect.width));\n                this.numberOfRows = this.numberOfRows > 3 ? 3 : this.numberOfRows;\n                this.legendHeight = (this.listWidth > rect.width || this.listWidth > stringToNumber(this.legendWidth, rect.width)) &&\n                    this.numberOfRows > 3 ? (((this.legendSize + this.listInterval) * this.numberOfRows) + this.legendRectPadding +\n                    parseInt(heatMap.legendSettings.textStyle.size, 10) + padding).toString() :\n                    (((this.legendSize + this.listInterval) * this.numberOfRows) + this.legendRectPadding).toString();\n            }\n        }\n        else {\n            this.listHeight = ((this.legendSize + this.listInterval) * heatMap.colorCollection.length)\n                + this.listInterval + (heatMap.legendSettings.title.text ? titleSize.height : 0);\n            if (this.legendHeight === '') {\n                this.legendHeight = this.listHeight > rect.height ? rect.height.toString() : this.listHeight.toString();\n            }\n            if (this.legendWidth === '' && heatMap.legendSettings.textStyle.textOverflow !== 'Trim') {\n                this.maxLegendLabelSize = this.getMaxLabelSize();\n                this.maxLegendLabelSize.width = titleSize.width > this.maxLegendLabelSize.width ?\n                    titleSize.width : this.maxLegendLabelSize.width;\n                this.legendWidth = ((2 * this.legendRectPadding) + this.legendSize + this.labelPadding +\n                    this.maxLegendLabelSize.width).toString();\n            }\n        }\n        if (stringToNumber(this.legendHeight, rect.height) < 50) {\n            this.legendHeight = height;\n        }\n        if (stringToNumber(this.legendWidth, rect.width) < 70) {\n            this.legendWidth = '70';\n        }\n    };\n    Legend.prototype.getMaxLabelSize = function () {\n        var heatMap = this.heatMap;\n        this.maxLegendLabelSize = new Size(0, 0);\n        if (!heatMap.legendSettings.showLabel || (heatMap.horizontalGradient && heatMap.paletteSettings.type === 'Fixed' &&\n            !heatMap.legendSettings.enableSmartLegend) || (heatMap.paletteSettings.type === 'Fixed' &&\n            heatMap.legendSettings.labelDisplayType === 'None')) {\n            return this.maxLegendLabelSize;\n        }\n        else {\n            var labelSize = this.maxLegendLabelSize;\n            for (var i = 0; i < heatMap.legendColorCollection.length; i++) {\n                var size = measureText(this.labelCollections[i], heatMap.legendSettings.textStyle);\n                labelSize.width = (labelSize.width > size.width) ? labelSize.width : size.width;\n                labelSize.height = (labelSize.height > size.height) ? labelSize.height : size.height;\n            }\n            return labelSize;\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.calculateLegendSize = function (rect, legendTop) {\n        var heatMap = this.heatMap;\n        var legendSettings = heatMap.legendSettings;\n        var left;\n        var top;\n        var padding = 10; // inner padding for axis title and axil labels\n        var alignment = legendSettings.alignment;\n        var width;\n        var height = stringToNumber(this.legendHeight, rect.height);\n        if (!heatMap.legendSettings.title.text) {\n            width = stringToNumber(this.legendWidth, rect.width);\n        }\n        else {\n            width = this.width;\n        }\n        var axis = heatMap.axisCollections;\n        var axisTitlePadding = 0;\n        if (heatMap.horizontalGradient) {\n            width = width > rect.width ? rect.width : width;\n            height = heatMap.paletteSettings.type === 'Gradient' || heatMap.legendSettings.enableSmartLegend ?\n                height > 50 ? height : 50 : this.height;\n            left = alignment === 'Near' ? rect.x : alignment === 'Far' ? rect.x + rect.width - width :\n                rect.x + (rect.width / 2) - (width / 2);\n            if (heatMap.xAxis.title.text !== '') {\n                axisTitlePadding = measureText(heatMap.xAxis.title.text, heatMap.xAxis.textStyle).height + padding;\n            }\n            var axisHeight = axis[0].opposedPosition ? 0 : sum(axis[0].xAxisMultiLabelHeight) + axis[0].maxLabelSize.height +\n                axisTitlePadding + padding;\n            top = legendSettings.position === 'Top' ? heatMap.titleSettings.text ? legendTop :\n                heatMap.margin.top : rect.y + rect.height + axisHeight;\n        }\n        else {\n            height = height > rect.height ? rect.height : height;\n            width = heatMap.paletteSettings.type === 'Gradient' || heatMap.legendSettings.enableSmartLegend ?\n                width > 50 ? width : 50 : width;\n            top = alignment === 'Near' ? rect.y : alignment === 'Far' ? rect.y + rect.height - height :\n                rect.y + (rect.height / 2) - (height / 2);\n            if (heatMap.yAxis.title.text !== '') {\n                axisTitlePadding = measureText(heatMap.yAxis.title.text, heatMap.yAxis.textStyle).height + padding;\n            }\n            var axisWidth = axis[1].opposedPosition ? sum(axis[1].yAxisMultiLabelHeight) +\n                axis[1].maxLabelSize.width + axisTitlePadding + 2 * padding : 0;\n            left = legendSettings.position === 'Right' ? rect.x + rect.width + axisWidth : heatMap.margin.left;\n        }\n        this.legendGroup = new Rect(left, top, width, height);\n        this.calculateGradientScale(this.legendGroup);\n    };\n    // calculating number of lists per page\n    Legend.prototype.measureListLegendBound = function (rect) {\n        var heatMap = this.heatMap;\n        var title = heatMap.legendSettings.title;\n        var padding = 15; // padding of paging element\n        this.numberOfPages = 1;\n        var titleSize = measureText(title.text, title.textStyle);\n        if (heatMap.horizontalGradient) {\n            if (this.listWidth > this.width) {\n                this.numberOfRows = Math.ceil(this.listWidth / this.width);\n                this.listHeight = ((this.legendSize + this.listInterval) * this.numberOfRows);\n                this.listPerPage = this.numberOfRows <= 3 ? this.numberOfRows : Math.ceil((this.height - padding -\n                    parseInt(heatMap.legendSettings.textStyle.size, 10) -\n                    this.legendRectPadding) / (this.legendSize + this.listInterval));\n                this.numberOfPages = Math.ceil(this.numberOfRows / this.listPerPage);\n            }\n            else {\n                this.listPerPage = 1;\n            }\n        }\n        else {\n            if (this.listHeight > rect.height || this.listHeight > this.height) {\n                var maxHeight = stringToNumber(this.legendHeight, rect.height);\n                maxHeight = maxHeight > rect.height ? rect.height : maxHeight;\n                maxHeight = heatMap.legendSettings.title.text ? maxHeight - titleSize.height : maxHeight;\n                this.listPerPage = Math.floor(maxHeight / (this.legendSize + this.listInterval) - 1);\n                this.numberOfPages = Math.max(1, Math.ceil(heatMap.colorCollection.length / this.listPerPage));\n            }\n            else {\n                this.listPerPage = heatMap.colorCollection.length;\n                this.legendHeight = this.listHeight.toString();\n            }\n        }\n    };\n    Legend.prototype.renderPagingElements = function () {\n        var heatMap = this.heatMap;\n        if (this.numberOfPages > 1) {\n            this.navigationCollections = [];\n            this.legend.appendChild(this.paginggroup);\n            var iconSize = 10;\n            var rightArrowX = this.legendGroup.x + this.legendGroup.width - iconSize;\n            var rightArrowY = this.legendGroup.y + this.legendGroup.height - iconSize;\n            var text = this.currentPage + '/' + this.numberOfPages;\n            var textSize = measureText(text, heatMap.legendSettings.textStyle);\n            var textX = rightArrowX - textSize.width - 15;\n            var textBasic = new TextBasic(textX, rightArrowY, 'start', text, 0, 'translate(0,0)', 'middle');\n            var options = new TextOption(heatMap.element.id + '_paging', textBasic, heatMap.legendSettings.textStyle, heatMap.legendSettings.textStyle.color || heatMap.themeStyle.legendLabel);\n            this.drawSvgCanvas.createText(options, this.paginggroup, text);\n            if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                this.paginggroup.lastChild.setAttribute('dy', '0.6ex');\n            }\n            this.pagingRect = new Rect(textX, rightArrowY - textSize.height / 2, textSize.width, textSize.height);\n            var pagingTextRect = new RectOption(heatMap.element.id + '_pagingText', 'none', { color: 'transparent', width: 0 }, 1, this.pagingRect);\n            this.drawSvgCanvas.drawRectangle(pagingTextRect, this.paginggroup);\n            var rightArrowRect = new RectOption(heatMap.element.id + '_rightArrow', 'none', { color: 'transparent', width: 0 }, 1, new Rect(rightArrowX - iconSize, rightArrowY - iconSize / 2, iconSize, iconSize));\n            this.drawSvgCanvas.drawRectangle(rightArrowRect, this.paginggroup);\n            var rightArrow = 'M' + ' ' + (rightArrowX) + ' ' + rightArrowY + ' ' +\n                'L' + ' ' + (rightArrowX - iconSize) + ' ' + (rightArrowY - iconSize / 2) + ' ' + 'L' + ' ' +\n                (rightArrowX - iconSize) + ' ' + (rightArrowY + (iconSize / 2)) + 'Z';\n            var leftX = textX - 15;\n            var leftArrow = 'M' + ' ' + leftX + ' ' + rightArrowY + ' ' +\n                'L' + ' ' + (leftX + iconSize) + ' ' + (rightArrowY - iconSize / 2) + ' ' + 'L' + ' ' +\n                (leftX + iconSize) + ' ' + (rightArrowY + (iconSize / 2)) + 'Z';\n            var leftArrowRect = new RectOption(heatMap.element.id + '_leftArrow', 'none', { color: 'transparent', width: 0 }, 1, new Rect(leftX, rightArrowY - iconSize / 2, iconSize, iconSize));\n            this.drawSvgCanvas.drawRectangle(leftArrowRect, this.paginggroup);\n            var leftOption = new PathOption(heatMap.element.id + '_Legend_leftarrow', 'gray', 0.01, '#A0A0A0', 1, '0,0', leftArrow);\n            var rightOption = new PathOption(heatMap.element.id + '_Legend_rightarrow', 'gray', 0.01, '#A0A0A0', 1, '0,0', rightArrow);\n            this.navigationCollections.push(rightArrowRect);\n            this.navigationCollections.push(leftArrowRect);\n            if (!heatMap.enableCanvasRendering) {\n                var arrow = heatMap.renderer.drawPath(leftOption);\n                var rightarrow = heatMap.renderer.drawPath(rightOption);\n                this.paginggroup.appendChild(arrow);\n                this.paginggroup.appendChild(rightarrow);\n            }\n            else {\n                var canvasTranslate = void 0;\n                heatMap.canvasRenderer.drawPath(leftOption, canvasTranslate);\n                heatMap.canvasRenderer.drawPath(rightOption, canvasTranslate);\n            }\n        }\n    };\n    Legend.prototype.calculateGradientScale = function (scale) {\n        var heatMap = this.heatMap;\n        var padding = 10; // padding between legend bounds and gradient scale\n        var left;\n        var top;\n        var height;\n        var width;\n        var title = heatMap.legendSettings.title;\n        var titleSize = measureText(title.text, title.textStyle);\n        var titleHeight = heatMap.legendSettings.title.text ? titleSize.height : 0;\n        if (heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend) {\n            this.measureListLegendBound(heatMap.initialClipRect);\n        }\n        if (heatMap.horizontalGradient) {\n            left = scale.x + padding;\n            top = scale.y + this.legendRectPadding;\n            width = heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend ?\n                scale.width - (2 * this.listInterval) : scale.width - 2 * padding;\n            height = heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend ?\n                (this.legendSize + this.listInterval) * this.listPerPage - this.listInterval : this.gradientScaleSize;\n        }\n        else {\n            left = scale.x + this.legendRectPadding;\n            top = scale.y + padding + titleHeight;\n            width = (heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend) ?\n                scale.width - padding : this.gradientScaleSize;\n            height = heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend ?\n                (this.legendSize + this.listInterval) * this.listPerPage - this.listInterval :\n                scale.height - 2 * padding - titleHeight;\n        }\n        this.legendRectScale = new Rect(left, top, width, height);\n        if (heatMap.paletteSettings.type === 'Gradient' || heatMap.paletteSettings.type === 'Fixed' &&\n            heatMap.legendSettings.enableSmartLegend) {\n            this.calculateColorAxisGrid(this.legendRectScale);\n        }\n    };\n    Legend.prototype.calculateColorAxisGrid = function (legendRect) {\n        var heatMap = this.heatMap;\n        var rect = this.legendRectScale;\n        var legendPart;\n        var text;\n        var maxTextWrapLength = 0;\n        this.segmentCollectionsLabels = [];\n        this.segmentCollections = [];\n        this.textWrapCollections = [];\n        var pathX1;\n        var pathY1;\n        var colorCollection = heatMap.paletteSettings.type === 'Gradient' ?\n            heatMap.legendColorCollection : heatMap.colorCollection;\n        var minValue = heatMap.bubbleSizeWithColor ? heatMap.minColorValue : heatMap.dataSourceMinValue;\n        var maxValue = heatMap.bubbleSizeWithColor ? heatMap.maxColorValue : heatMap.dataSourceMaxValue;\n        this.legendMinValue = this.heatMap.isColorRange ? (colorCollection[0].startValue > heatMap.dataSourceMinValue) ?\n            heatMap.dataSourceMinValue : colorCollection[0].startValue : ((colorCollection[0].value > minValue) ? minValue :\n            colorCollection[0].value);\n        this.legendMaxValue = this.heatMap.isColorRange ? (colorCollection[colorCollection.length - 1].endValue <\n            heatMap.dataSourceMaxValue) ? heatMap.dataSourceMaxValue : colorCollection[colorCollection.length - 1].endValue :\n            (colorCollection[colorCollection.length - 1].value < maxValue ? maxValue : colorCollection[colorCollection.length - 1].value);\n        if (heatMap.paletteSettings.type === 'Gradient') {\n            for (var index = 0; index < colorCollection.length; index++) {\n                var value = void 0;\n                legendPart = (this.heatMap.isColorRange && heatMap.horizontalGradient ? rect.width : rect.height) / 100;\n                if (this.heatMap.isColorRange) {\n                    if (colorCollection[0].startValue !== this.heatMap.dataSourceMinValue && index === 0 &&\n                        colorCollection[0].startValue > this.heatMap.dataSourceMinValue) {\n                        value = (this.heatMap.dataSourceMinValue - this.legendMinValue) /\n                            (this.legendMaxValue - this.legendMinValue) * 100;\n                        pathY1 = (heatMap.horizontalGradient ? legendRect.x : legendRect.y) + (legendPart * value);\n                        this.segmentCollections.push(pathY1);\n                    }\n                    value = ((((colorCollection[index].startValue < heatMap.dataSourceMinValue &&\n                        colorCollection[index].endValue >\n                            heatMap.dataSourceMaxValue) ? heatMap.dataSourceMinValue : colorCollection[index].startValue) -\n                        this.legendMinValue) / (this.legendMaxValue - this.legendMinValue)) * 100;\n                    value = isNaN(value) ? 0 : value;\n                    pathY1 = (heatMap.horizontalGradient ? legendRect.x : legendRect.y) + (legendPart * value);\n                    this.segmentCollections.push(pathY1);\n                    this.segmentCollectionsLabels.push(pathY1);\n                    if (colorCollection[index].endValue !== ((index === colorCollection.length - 1) ?\n                        this.heatMap.dataSourceMaxValue : colorCollection[index + 1].startValue) &&\n                        this.heatMap.legendColorCollection[index].endValue < this.heatMap.dataSourceMaxValue) {\n                        if (index === colorCollection.length - 1) {\n                            value = (colorCollection[index].endValue - this.legendMinValue) /\n                                (this.legendMaxValue - this.legendMinValue) * 100;\n                            pathY1 = (heatMap.horizontalGradient ? legendRect.x : legendRect.y) + (legendPart * value);\n                            this.segmentCollections.push(pathY1);\n                        }\n                        value = ((index === colorCollection.length - 1 ? this.heatMap.dataSourceMaxValue :\n                            colorCollection[index].endValue) - this.legendMinValue) /\n                            (this.legendMaxValue - this.legendMinValue) * 100;\n                        pathY1 = (heatMap.horizontalGradient ? legendRect.x : legendRect.y) + (legendPart * value);\n                        this.segmentCollections.push(pathY1);\n                    }\n                }\n                else {\n                    value = ((colorCollection[index].value - this.legendMinValue) /\n                        (this.legendMaxValue - this.legendMinValue)) * 100;\n                    value = isNaN(value) ? 0 : value;\n                    if (!heatMap.horizontalGradient) {\n                        legendPart = rect.height / 100;\n                        pathY1 = legendRect.y + (legendPart * value);\n                        this.segmentCollections.push(pathY1);\n                    }\n                    else {\n                        legendPart = rect.width / 100;\n                        pathX1 = legendRect.x + (legendPart * value);\n                        this.segmentCollections.push(pathX1);\n                    }\n                }\n            }\n        }\n        var textWrapWidth;\n        if (heatMap.horizontalGradient) {\n            var segmentWidth = this.heatMap.isColorRange ? this.segmentCollectionsLabels : this.segmentCollections;\n            for (var i = 0; i < colorCollection.length; i++) {\n                if (heatMap.paletteSettings.type === 'Gradient') {\n                    var previousSegmentWidth = (segmentWidth[i] - segmentWidth[i - 1]) / 2;\n                    var nextSegmentWidth = (segmentWidth[i + 1] - segmentWidth[i]) / 2;\n                    if (i === colorCollection.length - 1) {\n                        textWrapWidth = this.heatMap.isColorRange ? (legendRect.width - segmentWidth[i - 1]) / 2 : previousSegmentWidth;\n                    }\n                    else if (i === 0) {\n                        textWrapWidth = nextSegmentWidth;\n                    }\n                    else {\n                        textWrapWidth = (previousSegmentWidth < nextSegmentWidth && !this.heatMap.isColorRange) ?\n                            previousSegmentWidth : nextSegmentWidth;\n                    }\n                }\n                else {\n                    var width = this.legendRectScale.width / heatMap.colorCollection.length;\n                    textWrapWidth = heatMap.legendSettings.labelDisplayType === 'Edge' ? width : width / 2;\n                }\n                this.textWrapCollections.push(textWrapWidth);\n                text = getTitle(this.labelCollections[i], heatMap.legendSettings.textStyle, textWrapWidth);\n                maxTextWrapLength = text.length > maxTextWrapLength ? text.length : maxTextWrapLength;\n            }\n            if (heatMap.legendSettings.position === 'Bottom') {\n                heatMap.initialClipRect.height -= (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n                this.legendGroup.y -= (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n                this.legendRectScale.y = this.legendGroup.y + this.legendRectPadding;\n                this.legendGroup.height = parseInt(this.legendHeight, 10) + (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n            }\n            else {\n                heatMap.initialClipRect.y += (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n                heatMap.initialClipRect.height -= (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n                this.legendRectScale.y = this.legendGroup.y + this.legendRectPadding;\n                this.legendGroup.height = parseInt(this.legendHeight, 10) + (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n            }\n        }\n    };\n    Legend.prototype.renderColorAxisGrid = function (legendRect) {\n        var heatMap = this.heatMap;\n        var legendElement;\n        var pathX1;\n        var pathY1;\n        var pathX2;\n        var pathY2;\n        if (!heatMap.enableCanvasRendering) {\n            legendElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + '_ColorAxis_Grid' });\n        }\n        for (var i = 0; i < (heatMap.isColorRange ? this.segmentCollections.length : heatMap.legendColorCollection.length); i++) {\n            if (!heatMap.horizontalGradient) {\n                pathX1 = legendRect.x;\n                pathY1 = pathY2 = this.segmentCollections[i];\n                pathX2 = legendRect.x + legendRect.width;\n            }\n            else {\n                pathX1 = pathX2 = this.segmentCollections[i];\n                pathY1 = legendRect.y;\n                pathY2 = legendRect.y + legendRect.height;\n            }\n            var direction = new Line(pathX1, pathY1, pathX2, pathY2);\n            var line = new LineOption(this.heatMap.element.id + '_ColorAxis_Grid' + i, direction, '#EEEEEE', 1);\n            this.drawSvgCanvas.drawLine(line, legendElement);\n            if (!heatMap.enableCanvasRendering) {\n                this.legend.appendChild(legendElement);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.renderLegendTitleTooltip = function (e, pageX, pageY) {\n        if (e.target.id.indexOf('_legendTitle') !== -1 && e.target.textContent.indexOf('...') > -1) {\n            showTooltip(this.heatMap.legendSettings.title.text, pageX, pageY, this.heatMap.element.offsetWidth, this.heatMap.element.id + '_legendTitle_Tooltip', getElement(this.heatMap.element.id + '_Secondary_Element'), null, this.heatMap);\n            document.getElementById(this.heatMap.element.id + '_legendTitle_Tooltip').style.visibility = 'visible';\n        }\n        else {\n            removeElement(this.heatMap.element.id + '_legendTitle_Tooltip');\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.renderLegendLabelTooltip = function (e, pageX, pageY) {\n        if (e.target.id.indexOf('_Legend_Label') !== -1 && e.target.textContent.indexOf('...') > -1) {\n            var targetId = e.target.id.split(this.heatMap.element.id + '_Legend_Label');\n            if (targetId.length === 2) {\n                var index = void 0;\n                if (targetId[1].length === 1 || this.heatMap.legendSettings.textStyle.textOverflow === 'Trim') {\n                    index = parseInt(targetId[1], 10);\n                }\n                else {\n                    index = parseInt(targetId[1].substring(0, targetId[1].length - 1), 10);\n                }\n                showTooltip(this.labelCollections[index], pageX, pageY, this.heatMap.element.offsetWidth, this.heatMap.element.id + '_LegendLabel_Tooltip', getElement(this.heatMap.element.id + '_Secondary_Element'), null, this.heatMap);\n                document.getElementById(this.heatMap.element.id + '_LegendLabel_Tooltip').style.visibility = 'visible';\n            }\n        }\n        else {\n            removeElement(this.heatMap.element.id + '_LegendLabel_Tooltip');\n        }\n    };\n    Legend.prototype.calculateListPerPage = function (rect) {\n        var heatMap = this.heatMap;\n        if (heatMap.horizontalGradient) {\n            this.lastList = [];\n            var legendX = rect.x;\n            var legendY = rect.y;\n            var size = 0;\n            var division = 0;\n            var labelX = 0;\n            var labelY = 0;\n            var interval = 20;\n            var i = void 0;\n            var legendSize = 10;\n            var padding = 5;\n            this.labelXCollections = [];\n            this.labelYCollections = [];\n            this.legendXCollections = [];\n            this.legendYCollections = [];\n            for (i = 0; i < heatMap.colorCollection.length; i++) {\n                if (heatMap.legendSettings.showLabel) {\n                    var text = this.labelCollections[i];\n                    size = measureText(text, heatMap.legendSettings.textStyle).width;\n                }\n                labelX = legendX + legendSize + padding;\n                labelY = legendY + padding;\n                var maxWidth = heatMap.legendSettings.showLabel ? labelX + size : legendX + this.legendSize + this.listInterval;\n                if (i !== 0 && maxWidth > this.legendGroup.width + this.legendGroup.x - this.listInterval) {\n                    division += 1;\n                    legendX = rect.x;\n                    legendY = rect.y + (division * interval);\n                    labelX = legendX + legendSize + padding;\n                    labelY = legendY + padding;\n                    if (division % (this.listPerPage) === 0) {\n                        this.lastList.push(i);\n                        legendY = rect.y;\n                        labelY = legendY + padding;\n                        division = 0;\n                    }\n                }\n                this.labelXCollections.push(labelX);\n                this.labelYCollections.push(labelY);\n                this.legendXCollections.push(legendX);\n                this.legendYCollections.push(legendY);\n                legendX = legendX + this.legendSize + this.labelPadding + size + this.listInterval;\n            }\n            this.lastList.push(i);\n            this.numberOfPages = this.lastList.length;\n        }\n    };\n    Legend.prototype.renderListLegendMode = function (rect, translate) {\n        var heatMap = this.heatMap;\n        var legendSize = 10;\n        var tempBorder = {\n            color: 'transparent', width: 0\n        };\n        var padding = 5; // padding for legend label from top\n        this.legendLabelTooltip = [];\n        var listRect;\n        var size = new Size(0, 0);\n        var labelX = 0;\n        var labelY = 0;\n        var legendX = rect.x;\n        var legendY = rect.y;\n        if (translate) {\n            this.renderPagingElements();\n        }\n        var x;\n        var y;\n        var textWrapWidth = heatMap.legendSettings.title.text ? this.width - (2 * (this.legendSize + this.labelPadding)) :\n            this.legendGroup.width - (this.legendSize + this.legendRectPadding + this.labelPadding);\n        if (!heatMap.horizontalGradient) {\n            x = (this.currentPage * (this.listPerPage)) - (this.listPerPage);\n            y = x + this.listPerPage;\n            y = y < heatMap.colorCollection.length ? y : heatMap.colorCollection.length;\n        }\n        else {\n            x = this.currentPage === 1 ? 0 : this.lastList[this.currentPage - 2];\n            y = this.lastList[this.currentPage - 1];\n        }\n        for (var i = x; i < y; i++) {\n            if (heatMap.legendSettings.showLabel) {\n                var text = this.labelCollections[i];\n                size = measureText(text, heatMap.legendSettings.textStyle);\n            }\n            var legendEventArgs = {\n                cancel: false, text: this.labelCollection[i], name: 'legendRender'\n            };\n            if (heatMap.horizontalGradient) {\n                legendX = this.legendXCollections[i];\n                legendY = this.legendYCollections[i];\n                labelX = this.labelXCollections[i];\n                labelY = this.labelYCollections[i];\n            }\n            labelX = legendX + this.legendSize + this.labelPadding;\n            labelY = legendY + padding;\n            this.heatMap.trigger('legendRender', legendEventArgs);\n            if (translate && heatMap.rendering && this.legendRange.length <= heatMap.colorCollection.length) {\n                var rectPosition = new LegendRange(legendX, legendY, legendSize, legendSize, heatMap.colorCollection[i].value, true, this.currentPage);\n                rectPosition.visible = !isNullOrUndefined(this.visibilityCollections[i]) ?\n                    this.visibilityCollections[i] : true;\n                if (!legendEventArgs.cancel) {\n                    this.legendRange.push(rectPosition);\n                }\n                else {\n                    var rectPosition_1 = new LegendRange(legendX, legendY, 0, 0, heatMap.colorCollection[i].value, true, this.currentPage);\n                    this.legendRange.push(rectPosition_1);\n                }\n                if (heatMap.legendSettings.showLabel) {\n                    var textPosition = new LegendRange(labelX, (labelY - size.height / 2), size.width, size.height, heatMap.colorCollection[i].value, true, this.currentPage);\n                    textPosition.visible = !isNullOrUndefined(this.visibilityCollections[i]) ?\n                        this.visibilityCollections[i] : true;\n                    this.legendTextRange.push(textPosition);\n                }\n            }\n            if (!legendEventArgs.cancel) {\n                if (heatMap.legendSettings.showLabel) {\n                    var text = getTitle(this.labelCollections[i], heatMap.legendSettings.textStyle, textWrapWidth);\n                    if (text[0].indexOf('...') !== -1 && heatMap.enableCanvasRendering) {\n                        this.legendLabelTooltip.push(new CanvasTooltip(this.labelCollections[i], new Rect(labelX, labelY, size.width, size.height)));\n                    }\n                    var textBasic = new TextBasic(labelX, labelY, 'start', text, 0, 'translate(0,0)', 'middle');\n                    var options = new TextOption(heatMap.element.id + '_Legend_Label' + i, textBasic, heatMap.legendSettings.textStyle, heatMap.legendSettings.textStyle.color || heatMap.themeStyle.legendLabel);\n                    options.fill = heatMap.legendOnLoad ? options.fill : this.legendRange[i].visible ? options.fill : '#D3D3D3';\n                    this.drawSvgCanvas.createText(options, this.translategroup, text[0]);\n                    if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                        this.translategroup.lastChild.setAttribute('dy', '0.6ex');\n                    }\n                }\n                listRect = new Rect(legendX, legendY, legendSize, legendSize);\n                var listColor = heatMap.legendOnLoad ? this.heatMap.isColorRange ? heatMap.colorCollection[i].minColor :\n                    heatMap.colorCollection[i].color :\n                    this.legendRange[i].visible ? this.heatMap.isColorRange ? heatMap.colorCollection[i].minColor :\n                        heatMap.colorCollection[i].color : '#D3D3D3';\n                var rectItems = new RectOption(heatMap.element.id + '_legend_list' + i, listColor, tempBorder, 1, listRect);\n                this.drawSvgCanvas.drawRectangle(rectItems, this.translategroup);\n                if (heatMap.horizontalGradient) {\n                    legendX = legendX + this.legendSize + this.labelPadding + size.width + this.listInterval;\n                }\n                else {\n                    legendY += this.legendSize + this.listInterval;\n                }\n            }\n        }\n        if (!heatMap.enableCanvasRendering) {\n            this.legendGroup.height = this.legendGroup.height > 0 ? this.legendGroup.height : 0;\n            this.legendGroup.width = this.legendGroup.width > 0 ? this.legendGroup.width : 0;\n            var clippath = heatMap.renderer.createClipPath({ id: heatMap.element.id + '_LegendScale_ClipPath' });\n            var clipRect = heatMap.renderer.drawRectangle(this.legendGroup);\n            clippath.appendChild(clipRect);\n            this.translategroup.appendChild(clippath);\n            this.legend.style.cssText = 'clip-path:url(#' + clippath.id + ')';\n            this.legendScale.appendChild(this.translategroup);\n            heatMap.svgObject.appendChild(this.legend);\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.translatePage = function (heatMap, page, isNext) {\n        var padding = 5;\n        if ((isNext && page >= 1 && page < this.numberOfPages) || (!isNext && page > 1 && page <= this.numberOfPages)) {\n            if (isNext) {\n                this.currentPage += 1;\n                this.legendRect.y += this.legendRect.height;\n            }\n            else {\n                this.currentPage -= 1;\n                this.legendRect.y -= this.legendRect.height;\n            }\n            if (!heatMap.enableCanvasRendering) {\n                this.paginggroup.removeChild(this.paginggroup.firstChild);\n                while (this.translategroup.childNodes.length) {\n                    this.translategroup.removeChild(this.translategroup.firstChild);\n                }\n            }\n            else {\n                var ctx = heatMap.canvasRenderer.ctx;\n                ctx.fillRect(this.legendRectScale.x - padding, this.legendRectScale.y - padding, this.legendRectScale.width +\n                    padding, this.legendRectScale.height + (2 * padding));\n                ctx.fillRect(this.pagingRect.x, this.pagingRect.y, this.pagingRect.width, this.pagingRect.height);\n            }\n            this.renderListLegendMode(this.legendRectScale, true);\n        }\n        if (heatMap.enableCanvasRendering && heatMap.allowSelection && heatMap.rectSelected) {\n            var ctx = heatMap.secondaryCanvasRenderer.ctx;\n            var position = heatMap.legendSettings.position;\n            var initialRect = heatMap.initialClipRect;\n            var rectX = position === 'Right' ? initialRect.x + initialRect.width : 0;\n            var rectY = position === 'Bottom' ? initialRect.y + initialRect.height : 0;\n            var rectWidth = position === 'Right' ? heatMap.availableSize.width - (initialRect.x +\n                initialRect.width) : position === 'Left' ? initialRect.x : heatMap.availableSize.width;\n            var rectHeight = position === 'Top' ? initialRect.y : position === 'Bottom' ?\n                heatMap.availableSize.height - (initialRect.y + initialRect.height) : heatMap.availableSize.height;\n            ctx.save();\n            ctx.clearRect(rectX, rectY, rectWidth, rectHeight);\n            ctx.restore();\n            var oldCanvas = document.getElementById(heatMap.element.id + '_canvas');\n            var newCanvas = document.getElementById(heatMap.element.id + '_secondary_canvas');\n            var rectImage = oldCanvas.getContext('2d').getImageData(rectX, rectY, rectWidth, rectHeight);\n            newCanvas.getContext('2d').putImageData(rectImage, rectX, rectY);\n            oldCanvas.style.opacity = '0.3';\n        }\n    };\n    /**\n     * To create div container for tooltip which appears on hovering the smart legend.\n     *\n     * @param heatmap\n     * @private\n     */\n    Legend.prototype.createTooltipDiv = function () {\n        var element = createElement('div', {\n            id: this.heatMap.element.id + 'legendLabelTooltipContainer'\n        });\n        element.style.position = 'absolute';\n        this.heatMap.element.appendChild(element);\n    };\n    /**\n     * To render tooltip for smart legend.\n     *\n     * @private\n     */\n    Legend.prototype.renderTooltip = function (currentLegendRect) {\n        var heatMap = this.heatMap;\n        var tempTooltipText = [currentLegendRect.label];\n        var offset = null;\n        offset = parseInt(heatMap.legendSettings.textStyle.size, 10) / 2;\n        this.tooltipObject = new tool({\n            offset: offset,\n            theme: heatMap.theme,\n            content: tempTooltipText,\n            location: {\n                x: currentLegendRect.x + (currentLegendRect.width / 2),\n                y: currentLegendRect.y + (currentLegendRect.height / 2)\n            },\n            inverted: heatMap.horizontalGradient ? false : true,\n            areaBounds: {\n                height: this.legendGroup.height + this.legendGroup.y,\n                width: this.legendGroup.width + this.legendGroup.x,\n                x: heatMap.legendSettings.position === 'Right' ? 0 : this.legendGroup.x,\n                y: heatMap.legendSettings.position === 'Top' ? heatMap.titleSettings.text === '' ? this.legendGroup.height -\n                    this.legendGroup.y : this.legendGroup.y : 0\n            }\n        }, '#' + this.heatMap.element.id + 'legendLabelTooltipContainer');\n        this.tooltipObject.element.style.visibility = 'visible';\n    };\n    /**\n     * To create tooltip for smart legend.\n     *\n     * @private\n     */\n    Legend.prototype.createTooltip = function (pageX, pageY) {\n        var currentLegendRect;\n        for (var i = 0; i < this.heatMap.colorCollection.length; i++) {\n            var position = this.legendRectPositionCollection[i];\n            if (position && pageX > position.x && pageX < position.width + position.x &&\n                pageY > position.y && pageY < position.height + position.y) {\n                currentLegendRect = this.legendRectPositionCollection[i];\n                break;\n            }\n        }\n        var ele = document.getElementById(this.heatMap.element.id + 'legendLabelTooltipContainer');\n        if (ele && ele.style.visibility === 'visible' && this.tooltipObject && !this.heatMap.isTouch) {\n            this.tooltipObject.fadeOut();\n            ele.style.visibility = 'hidden';\n        }\n        if (currentLegendRect) {\n            this.renderTooltip(currentLegendRect);\n        }\n    };\n    /**\n     * Toggle the visibility of cells based on legend selection\n     *\n     * @private\n     */\n    Legend.prototype.legendRangeSelection = function (index) {\n        var heatMap = this.heatMap;\n        var legendRange = this.legendRange;\n        var padding = 5;\n        var legendPadding = heatMap.horizontalGradient ? 10 : 0;\n        var legendBound = this.legendRectScale;\n        var ctx = heatMap.canvasRenderer.ctx;\n        heatMap.rangeSelection = true;\n        if (heatMap.enableCanvasRendering) {\n            var ctx_2 = heatMap.canvasRenderer.ctx;\n            if (heatMap.legendSettings.enableSmartLegend) {\n                ctx_2.fillRect(legendBound.x - padding, legendBound.y - padding, (legendBound.width + this.labelPadding +\n                    this.maxLegendLabelSize.width) + padding, legendBound.height + 2 * (padding + legendPadding));\n            }\n            else {\n                ctx_2.fillRect(legendBound.x - padding, legendBound.y - padding, legendBound.width +\n                    padding, legendBound.height + (2 * padding));\n            }\n        }\n        else {\n            if (heatMap.legendSettings.enableSmartLegend) {\n                while (this.legend && this.legend.childNodes.length) {\n                    this.legend.removeChild(this.legend.firstChild);\n                }\n            }\n            else {\n                while (this.translategroup && this.translategroup.childNodes.length) {\n                    this.translategroup.removeChild(this.translategroup.firstChild);\n                }\n            }\n            removeElement(heatMap.heatMapSeries.containerRectObject.id);\n            if (heatMap.cellSettings.showLabel) {\n                removeElement(heatMap.heatMapSeries.containerTextObject.id);\n            }\n        }\n        if (heatMap.legendSettings.enableSmartLegend) {\n            if (heatMap.colorCollection.length !== heatMap.legendColorCollection.length) {\n                if (index === heatMap.legendColorCollection.length - 1) {\n                    heatMap.toggleValue[index - 1].visible = this.visibilityCollections[index - 1] =\n                        legendRange[index - 1].visible = !legendRange[index].visible;\n                }\n                else {\n                    if (index === heatMap.colorCollection.length - 1) {\n                        heatMap.toggleValue[index + 1].visible = this.visibilityCollections[index + 1] =\n                            legendRange[index + 1].visible = !legendRange[index].visible;\n                    }\n                }\n            }\n        }\n        heatMap.toggleValue[index].visible = this.visibilityCollections[index] =\n            legendRange[index].visible = !legendRange[index].visible;\n        heatMap.legendOnLoad = false;\n        if (heatMap.legendSettings.enableSmartLegend) {\n            this.renderSmartLegend();\n            var rectItemsSvg = new Rect(legendBound.x, legendBound.y, legendBound.width, legendBound.height);\n            this.renderLegendLabel(rectItemsSvg);\n            if (heatMap.enableCanvasRendering) {\n                ctx.save();\n                ctx.clip();\n            }\n            if (heatMap.renderingMode === 'SVG') {\n                this.renderTitle(rectItemsSvg);\n            }\n        }\n        else {\n            this.renderListLegendMode(this.legendRectScale, false);\n        }\n        if (heatMap.enableCanvasRendering) {\n            ctx.restore();\n        }\n        heatMap.heatMapSeries.renderRectSeries();\n        heatMap.clearSelection();\n        if (heatMap.enableCanvasRendering && heatMap.allowSelection) {\n            // heatMap.createSvg();\n            // heatMap.refreshBound();\n            // heatMap.createMultiCellDiv(false);\n        }\n    };\n    /**\n     * update visibility collections of legend and series\n     *\n     * @private\n     */\n    Legend.prototype.updateLegendRangeCollections = function () {\n        var heatMap = this.heatMap;\n        heatMap.rangeSelection = !heatMap.legendOnLoad ? true : false;\n        this.visibilityCollections = !heatMap.legendOnLoad ? this.visibilityCollections : [];\n        heatMap.toggleValue = !heatMap.legendOnLoad ? heatMap.toggleValue : [];\n        this.legendRange = !heatMap.legendOnLoad ? this.legendRange : [];\n        this.legendTextRange = !heatMap.legendOnLoad ? this.legendTextRange : [];\n    };\n    return Legend;\n}());\nexport { Legend };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { isNullOrUndefined, Complex } from '@syncfusion/ej2-base';\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { increaseDateTimeInterval } from '../utils/helper';\nimport { BubbleData } from '../model/base';\n/**\n * Configures the adaptor in the heatmap.\n */\nvar Data = /** @class */ (function (_super) {\n    __extends(Data, _super);\n    function Data() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], Data.prototype, \"isJsonData\", void 0);\n    __decorate([\n        Property('None')\n    ], Data.prototype, \"adaptorType\", void 0);\n    __decorate([\n        Property('')\n    ], Data.prototype, \"xDataMapping\", void 0);\n    __decorate([\n        Property('')\n    ], Data.prototype, \"yDataMapping\", void 0);\n    __decorate([\n        Property('')\n    ], Data.prototype, \"valueMapping\", void 0);\n    __decorate([\n        Complex({}, BubbleData)\n    ], Data.prototype, \"bubbleDataMapping\", void 0);\n    return Data;\n}(ChildProperty));\nexport { Data };\nvar AdaptiveMinMax = /** @class */ (function () {\n    function AdaptiveMinMax() {\n    }\n    return AdaptiveMinMax;\n}());\nexport { AdaptiveMinMax };\n/**\n *\n * The `Adaptor` module is used to handle JSON and Table data.\n */\nvar Adaptor = /** @class */ (function () {\n    function Adaptor(heatMap) {\n        this.reconstructedXAxis = [];\n        this.reconstructedYAxis = [];\n        this.adaptiveXMinMax = new AdaptiveMinMax();\n        this.adaptiveYMinMax = new AdaptiveMinMax();\n        this.heatMap = heatMap;\n    }\n    /**\n     * Method to construct Two Dimentional Datasource.\n     *\n     * @returns {void}\n     * @private\n     */\n    Adaptor.prototype.constructDatasource = function (dataSource, dataSourceSettings) {\n        if (dataSourceSettings.adaptorType === 'Cell') {\n            var xAxis = this.heatMap.xAxis;\n            var yAxis = this.heatMap.yAxis;\n            this.adaptiveXMinMax.min = xAxis.minimum;\n            this.adaptiveXMinMax.max = xAxis.maximum;\n            this.adaptiveYMinMax.min = yAxis.minimum;\n            this.adaptiveYMinMax.max = yAxis.maximum;\n            if (((xAxis.valueType === 'Numeric' || xAxis.valueType === 'DateTime') &&\n                (isNullOrUndefined(xAxis.minimum) || isNullOrUndefined(xAxis.maximum))) ||\n                ((yAxis.valueType === 'Numeric' || yAxis.valueType === 'DateTime') &&\n                    (isNullOrUndefined(yAxis.minimum) || isNullOrUndefined(yAxis.maximum)))) {\n                this.getMinMaxValue(dataSource, dataSourceSettings, xAxis, yAxis);\n            }\n            this.heatMap.isCellData = true;\n        }\n        if (dataSourceSettings.adaptorType === 'None') {\n            this.heatMap.completeAdaptDataSource = dataSource;\n        }\n        else if (!dataSourceSettings.isJsonData && dataSourceSettings.adaptorType === 'Table') {\n            this.heatMap.completeAdaptDataSource = dataSource;\n        }\n        else if (dataSourceSettings.isJsonData && dataSourceSettings.adaptorType === 'Table') {\n            this.heatMap.completeAdaptDataSource = this.processJsonTableData(dataSource, dataSourceSettings);\n        }\n        else if (dataSourceSettings.isJsonData && dataSourceSettings.adaptorType === 'Cell') {\n            this.heatMap.completeAdaptDataSource = this.processJsonCellData(dataSource, dataSourceSettings);\n        }\n        else if (!dataSourceSettings.isJsonData && dataSourceSettings.adaptorType === 'Cell') {\n            this.constructAdaptiveAxis();\n            this.heatMap.completeAdaptDataSource = this.processCellData(dataSource);\n            this.heatMap.isCellData = true;\n        }\n    };\n    /**\n     * Method to construct Axis Collection.\n     *\n     * @returns {void}\n     * @private\n     */\n    Adaptor.prototype.constructAdaptiveAxis = function () {\n        var xAxis = this.heatMap.xAxis;\n        var yAxis = this.heatMap.yAxis;\n        if (xAxis.valueType === 'Numeric') {\n            this.reconstructedXAxis = this.getNumericAxisCollection(this.adaptiveXMinMax.min, this.adaptiveXMinMax.max, xAxis.increment);\n        }\n        if (yAxis.valueType === 'Numeric') {\n            this.reconstructedYAxis = this.getNumericAxisCollection(this.adaptiveYMinMax.min, this.adaptiveYMinMax.max, yAxis.increment);\n        }\n        if (xAxis.valueType === 'DateTime') {\n            this.reconstructedXAxis = this.getDateAxisCollection(this.adaptiveXMinMax.min, this.adaptiveXMinMax.max, xAxis.intervalType, xAxis.increment);\n        }\n        if (yAxis.valueType === 'DateTime') {\n            this.reconstructedYAxis = this.getDateAxisCollection(this.adaptiveYMinMax.min, this.adaptiveYMinMax.max, yAxis.intervalType, yAxis.increment);\n        }\n    };\n    /**\n     * Method to calculate Numeric Axis Collection.\n     *\n     * @returns {string[]}\n     * @private\n     */\n    Adaptor.prototype.getNumericAxisCollection = function (min, max, increment) {\n        var loopIndex = min;\n        var tempAxisColl = [];\n        while (loopIndex <= max) {\n            tempAxisColl.push(loopIndex.toString());\n            loopIndex = loopIndex + increment;\n        }\n        return tempAxisColl;\n    };\n    /**\n     * Method to calculate DateTime Axis Collection.\n     *\n     * @returns {string[]}\n     * @private\n     */\n    Adaptor.prototype.getDateAxisCollection = function (min, max, intervalType, increment) {\n        var option = {\n            skeleton: 'full',\n            type: 'dateTime'\n        };\n        var dateParser = this.heatMap.intl.getDateParser(option);\n        var dateFormatter = this.heatMap.intl.getDateFormat(option);\n        min = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: min }).val))));\n        var tempInterval = min;\n        var tempAxisColl = [];\n        while (tempInterval <= max) {\n            tempAxisColl.push(new Date(tempInterval).toString());\n            tempInterval = increaseDateTimeInterval(tempInterval, 1, intervalType, increment).getTime();\n        }\n        return tempAxisColl;\n    };\n    /**\n     * Method to calculate Maximum and Minimum Value from datasource.\n     *\n     * @returns {void}\n     * @private\n     */\n    Adaptor.prototype.getMinMaxValue = function (dataSource, adapData, xAxis, yAxis) {\n        var data = dataSource;\n        var label = Object.keys(data[0]);\n        if (data.length > 0) {\n            this.adaptiveXMinMax.min = !isNullOrUndefined(xAxis.minimum) ? xAxis.minimum : adapData.isJsonData ?\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                data[0][label[0]] : data[0][0];\n            this.adaptiveYMinMax.min = !isNullOrUndefined(yAxis.minimum) ? yAxis.minimum : adapData.isJsonData ?\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                data[0][label[1]] : data[0][1];\n            this.adaptiveXMinMax.max = !isNullOrUndefined(xAxis.maximum) ? xAxis.maximum : adapData.isJsonData ?\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                data[0][label[0]] : data[0][0];\n            this.adaptiveYMinMax.max = !isNullOrUndefined(yAxis.maximum) ? yAxis.maximum : adapData.isJsonData ?\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                data[0][label[1]] : data[0][1];\n        }\n        for (var dataIndex = 0; dataIndex < data.length; dataIndex++) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var xDataIndex = adapData.isJsonData ? data[dataIndex][label[0]] : data[dataIndex][0];\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var yDataIndex = adapData.isJsonData ? data[dataIndex][label[1]] : data[dataIndex][1];\n            if (xDataIndex < this.adaptiveXMinMax.min && isNullOrUndefined(xAxis.minimum)) {\n                this.adaptiveXMinMax.min = xDataIndex;\n            }\n            if (xDataIndex > this.adaptiveXMinMax.max && isNullOrUndefined(xAxis.maximum)) {\n                this.adaptiveXMinMax.max = xDataIndex;\n            }\n            if (yDataIndex < this.adaptiveYMinMax.min && isNullOrUndefined(yAxis.minimum)) {\n                this.adaptiveYMinMax.min = yDataIndex;\n            }\n            if (yDataIndex > this.adaptiveYMinMax.max && isNullOrUndefined(yAxis.maximum)) {\n                this.adaptiveYMinMax.max = yDataIndex;\n            }\n        }\n    };\n    /**\n     * Method to process Cell datasource.\n     *\n     * @returns {Object}\n     * @private\n     */\n    Adaptor.prototype.processCellData = function (dataSource) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var tempDataCollection = dataSource;\n        var xLabels = this.reconstructedXAxis;\n        var yLabels = this.reconstructedYAxis;\n        var currentDataXIndex = 0;\n        var currentDataYIndex = 0;\n        this.reconstructData = [];\n        if (tempDataCollection && tempDataCollection.length) {\n            for (var xindex = 0; xindex < tempDataCollection.length; xindex++) {\n                if (this.heatMap.xAxis.valueType === 'Category') {\n                    currentDataXIndex = tempDataCollection[xindex][0];\n                }\n                else {\n                    currentDataXIndex = xLabels.indexOf(tempDataCollection[xindex][0].toString());\n                }\n                if (currentDataXIndex > -1) {\n                    while (!this.reconstructData[currentDataXIndex]) {\n                        this.reconstructData.push([]);\n                    }\n                    if (this.heatMap.yAxis.valueType === 'Category') {\n                        currentDataYIndex = tempDataCollection[xindex][1];\n                    }\n                    else {\n                        currentDataYIndex = yLabels.indexOf(tempDataCollection[xindex][1].toString());\n                    }\n                    if (currentDataYIndex !== -1) {\n                        while (this.reconstructData[currentDataXIndex][currentDataYIndex] !== '') {\n                            this.reconstructData[currentDataXIndex].push('');\n                        }\n                        this.reconstructData[currentDataXIndex][currentDataYIndex] =\n                            isNullOrUndefined(tempDataCollection[xindex][2]) ?\n                                '' : tempDataCollection[xindex][2];\n                    }\n                }\n            }\n        }\n        return this.reconstructData;\n    };\n    /**\n     * Method to process JSON Cell datasource.\n     *\n     * @returns {Object}\n     * @private\n     */\n    Adaptor.prototype.processJsonCellData = function (dataSource, adaptordata) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var tempDataCollection = dataSource;\n        var xAxisLabels = this.heatMap.xAxis.labels ? this.heatMap.xAxis.labels : [];\n        var yAxisLabels = this.heatMap.yAxis.labels ? this.heatMap.yAxis.labels : [];\n        var axisCollections = this.heatMap.axisCollections;\n        if (xAxisLabels.length === 0 || yAxisLabels.length === 0) {\n            this.generateAxisLabels(dataSource, adaptordata);\n        }\n        var xLabels = (this.heatMap.xAxis.valueType === 'Category') ? (xAxisLabels.length > 0 ?\n            this.heatMap.xAxis.labels : axisCollections[0].jsonCellLabel) : axisCollections[0].labelValue;\n        var yLabels = (this.heatMap.yAxis.valueType === 'Category') ? (yAxisLabels.length > 0 ?\n            this.heatMap.yAxis.labels : axisCollections[1].jsonCellLabel) : axisCollections[1].labelValue;\n        var currentDataXIndex = 0;\n        var currentDataYIndex = 0;\n        if (tempDataCollection.length) {\n            this.reconstructData = [];\n            for (var index = 0; index < tempDataCollection.length; index++) {\n                currentDataXIndex = this.getSplitDataValue(tempDataCollection[index], adaptordata, xLabels, adaptordata.xDataMapping.split('.'), this.heatMap.xAxis.valueType);\n                if (currentDataXIndex !== -1) {\n                    while (!this.reconstructData[currentDataXIndex]) {\n                        this.reconstructData.push([]);\n                    }\n                    currentDataYIndex = this.getSplitDataValue(tempDataCollection[index], adaptordata, yLabels, adaptordata.yDataMapping.split('.'), this.heatMap.yAxis.valueType);\n                    if (currentDataYIndex !== -1) {\n                        while (isNullOrUndefined(this.reconstructData[currentDataXIndex][currentDataYIndex])) {\n                            this.reconstructData[currentDataXIndex].push('');\n                        }\n                        if (this.heatMap.bubbleSizeWithColor) {\n                            this.reconstructData[currentDataXIndex][currentDataYIndex] = [\n                                this.getSplitDataValue(tempDataCollection[index], adaptordata, null, adaptordata.bubbleDataMapping.size.split('.'), ''),\n                                this.getSplitDataValue(tempDataCollection[index], adaptordata, null, adaptordata.bubbleDataMapping.color.split('.'), '')\n                            ];\n                        }\n                        else {\n                            this.reconstructData[currentDataXIndex][currentDataYIndex] = this.getSplitDataValue(tempDataCollection[index], adaptordata, null, adaptordata.valueMapping.split('.'), '');\n                        }\n                    }\n                }\n            }\n        }\n        return this.reconstructData;\n    };\n    /**\n     * Method to generate axis labels when labels are not given.\n     *\n     * @returns {string}\n     * @private\n     */\n    Adaptor.prototype.generateAxisLabels = function (dataSource, adaptordata) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var tempDataCollection = dataSource;\n        var xLabels = this.heatMap.xAxis.labels ? this.heatMap.xAxis.labels : [];\n        var yLabels = this.heatMap.yAxis.labels ? this.heatMap.yAxis.labels : [];\n        var hasXLabels = xLabels.length > 0 ? true : false;\n        var hasYLabels = yLabels.length > 0 ? true : false;\n        var axisCollection = this.heatMap.axisCollections;\n        for (var index = 0; index < axisCollection.length; index++) {\n            var valueType = axisCollection[index].valueType;\n            var axis = axisCollection[index];\n            if (valueType === 'Category') {\n                var hasLabels = void 0;\n                var dataMapping = void 0;\n                var labels = void 0;\n                if (axis.orientation === 'Horizontal') {\n                    hasLabels = hasXLabels;\n                    dataMapping = adaptordata.xDataMapping;\n                    axis.jsonCellLabel = labels = [];\n                }\n                else {\n                    hasLabels = hasYLabels;\n                    dataMapping = adaptordata.yDataMapping;\n                    axis.jsonCellLabel = labels = [];\n                }\n                if (!hasLabels) {\n                    for (var i = 0; i < tempDataCollection.length; i++) {\n                        if (dataMapping in tempDataCollection[i]) {\n                            var xValue = tempDataCollection[i][dataMapping].toString();\n                            if (labels.indexOf(xValue.toString()) === -1) {\n                                labels.push(xValue);\n                            }\n                        }\n                    }\n                }\n            }\n            else if (valueType === 'DateTime') {\n                axis.clearAxisLabel();\n                axis.calculateDateTimeAxisLabel(this.heatMap);\n            }\n            else {\n                axis.clearAxisLabel();\n                axis.calculateNumericAxisLabels(this.heatMap);\n            }\n        }\n    };\n    /**\n     * Method to get data from complex mapping.\n     *\n     * @returns {number|string}\n     * @private\n     */\n    Adaptor.prototype.getSplitDataValue = function (\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    tempSplitDataCollection, adaptordata, labels, tempSplitData, valueType) {\n        var value = -1;\n        this.tempSplitDataCollection = tempSplitDataCollection;\n        for (var splitIndex = 0; splitIndex < tempSplitData.length; splitIndex++) {\n            value = !isNullOrUndefined(labels) ? (!(valueType === 'DateTime') ?\n                labels.indexOf(this.tempSplitDataCollection[tempSplitData[splitIndex]]) :\n                labels.map(Number).indexOf(+new Date(this.tempSplitDataCollection[tempSplitData[splitIndex]]).setHours(0, 0, 0, 0))) : null;\n            if (!isNullOrUndefined(this.tempSplitDataCollection)) {\n                this.tempSplitDataCollection = value !== -1 && !isNullOrUndefined(labels) ?\n                    this.tempSplitDataCollection : this.tempSplitDataCollection[tempSplitData[splitIndex]];\n            }\n            if (isNullOrUndefined(this.tempSplitDataCollection)) {\n                break;\n            }\n        }\n        value = !isNullOrUndefined(labels) ? value : isNullOrUndefined(this.tempSplitDataCollection) ||\n            this.tempSplitDataCollection.toString() === '' ? '' : parseFloat(this.tempSplitDataCollection.toString());\n        return value;\n    };\n    /**\n     * Method to process JSON Table datasource.\n     *\n     * @returns {Object}\n     * @private\n     */\n    Adaptor.prototype.processJsonTableData = function (dataSource, adaptordata) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var tempDataCollection = dataSource;\n        var currentDataXIndex = 0;\n        var currentDataYIndex = 0;\n        var xLabels = this.heatMap.xAxis.labels ? this.heatMap.xAxis.labels : [];\n        var yLabels = this.heatMap.yAxis.labels ? this.heatMap.yAxis.labels : [];\n        var key;\n        if (tempDataCollection.length) {\n            this.reconstructData = [];\n            for (var xindex = 0; xindex < tempDataCollection.length; xindex++) {\n                currentDataXIndex = this.getSplitDataValue(tempDataCollection[xindex], adaptordata, xLabels, adaptordata.xDataMapping.split('.'), this.heatMap.xAxis.valueType);\n                if (currentDataXIndex !== -1) {\n                    while (!this.reconstructData[currentDataXIndex]) {\n                        this.reconstructData.push([]);\n                    }\n                    for (var index = 0; index < Object.keys(this.tempSplitDataCollection).length; index++) {\n                        key = Object.keys(this.tempSplitDataCollection)[index];\n                        currentDataYIndex = key !== adaptordata.xDataMapping ? yLabels.indexOf(key) : -1;\n                        if (currentDataYIndex !== -1) {\n                            while (isNullOrUndefined(this.reconstructData[currentDataXIndex][currentDataYIndex])) {\n                                this.reconstructData[currentDataXIndex].push('');\n                            }\n                            this.reconstructData[currentDataXIndex][currentDataYIndex] =\n                                isNullOrUndefined(this.tempSplitDataCollection[key]) ?\n                                    '' : this.tempSplitDataCollection[key];\n                        }\n                    }\n                }\n            }\n        }\n        return this.reconstructData;\n    };\n    /**\n     * To destroy the Adaptor.\n     *\n     * @returns {void}\n     * @private\n     */\n    Adaptor.prototype.destroy = function () {\n        /**\n         * No Lines\n         */\n    };\n    /**\n     * To get Module name\n     */\n    Adaptor.prototype.getModuleName = function () {\n        return 'Adaptor';\n    };\n    return Adaptor;\n}());\nexport { Adaptor };\n","import { createElement, isNullOrUndefined, Browser, print as printWindow } from '@syncfusion/ej2-base';\nimport { PdfPageOrientation, PdfDocument, PdfBitmap } from '@syncfusion/ej2-pdf-export';\nimport { SvgRenderer } from '@syncfusion/ej2-svg-base';\nimport { removeElement } from '../utils/helper';\nimport { SizeF } from '@syncfusion/ej2-pdf-export';\nvar ExportUtils = /** @class */ (function () {\n    /**\n     * Constructor for Heatmap\n     *\n     * @param  {HeatMap} control - specifies the control\n     *\n     */\n    function ExportUtils(control) {\n        this.control = control;\n    }\n    /**\n     * To export the file as image/svg format\n     *\n     * @param type\n     * @param fileName\n     * @private\n     */\n    ExportUtils.prototype.export = function (type, fileName, orientation) {\n        var _this = this;\n        var controlValue = this.getControlsValue();\n        var width = controlValue.width;\n        var height = controlValue.height;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var element = this.control.svgObject;\n        var isCanvas = this.control.enableCanvasRendering;\n        var image;\n        if (!isCanvas) {\n            element = createElement('canvas', {\n                id: 'ej2-canvas',\n                attrs: {\n                    'width': width.toString(),\n                    'height': height.toString()\n                }\n            });\n        }\n        var isDownload = !(Browser.userAgent.toString().indexOf('HeadlessChrome') > -1);\n        orientation = isNullOrUndefined(orientation) ? PdfPageOrientation.Landscape : orientation;\n        var svgData = '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">' +\n            controlValue.svg.outerHTML +\n            '</svg>';\n        var url = window.URL.createObjectURL(new Blob(type === 'SVG' ? [svgData] :\n            [(new XMLSerializer()).serializeToString(controlValue.svg)], { type: 'image/svg+xml' }));\n        if (type === 'SVG') {\n            if (Browser.info.name === 'msie') {\n                var svg = new Blob([(new XMLSerializer()).serializeToString(controlValue.svg)], { type: 'application/octet-stream' });\n                window.navigator.msSaveOrOpenBlob(svg, fileName + '.' + type.toLocaleLowerCase());\n            }\n            else {\n                this.triggerDownload(fileName, type, url, isDownload);\n            }\n        }\n        else if (Browser.info.name === 'msie') {\n            var canvas = element;\n            if (!isCanvas) {\n                canvas = this.createCanvas();\n            }\n            image = canvas.toDataURL(type);\n            if (type === 'PDF') {\n                this.exportPdf(canvas, orientation, width, height, isDownload, fileName);\n            }\n            else {\n                this.doExport(type, image, fileName);\n            }\n        }\n        else {\n            var image_1 = new Image();\n            var ctx_1 = element.getContext('2d');\n            image_1.onload = (function () {\n                ctx_1.drawImage(image_1, 0, 0);\n                window.URL.revokeObjectURL(url);\n                if (type === 'PDF') {\n                    _this.exportPdf(element, orientation, width, height, isDownload, fileName);\n                }\n                else {\n                    if (window.navigator.msSaveOrOpenBlob) {\n                        window.navigator.msSaveOrOpenBlob(element.msToBlob(), fileName + '.' + type.toLocaleLowerCase());\n                    }\n                    else {\n                        _this.triggerDownload(fileName, type, element.toDataURL('image/png').replace('image/png', 'image/octet-stream'), isDownload);\n                    }\n                }\n            });\n            image_1.src = url;\n        }\n        if (!isCanvas) {\n            var id = document.getElementById(this.control.element.id);\n            removeElement(id + '_canvas');\n        }\n    };\n    /**\n     * To trigger the download element\n     *\n     * @param fileName\n     * @param type\n     * @param url\n     * @private\n     */\n    ExportUtils.prototype.triggerDownload = function (fileName, type, url, isDownload) {\n        createElement('a', {\n            attrs: {\n                'download': fileName + '.' + type.toLocaleLowerCase(),\n                'href': url\n            }\n        }).dispatchEvent(new MouseEvent(isDownload ? 'click' : 'move', {\n            view: window,\n            bubbles: false,\n            cancelable: true\n        }));\n    };\n    /**\n     * To get the maximum size value\n     *\n     * @param controls\n     * @param name\n     */\n    ExportUtils.prototype.getControlsValue = function () {\n        var width = 0;\n        var height = 0;\n        var isCanvas = this.control.enableCanvasRendering;\n        var svgObject = new SvgRenderer('').createSvg({\n            id: 'Svg_Export_Element',\n            width: 200, height: 200\n        });\n        var svg = this.control.svgObject.cloneNode(true);\n        var groupEle = this.control.renderer.createGroup({});\n        groupEle.style.cssText = 'transform: translateY(' + height + 'px)';\n        if (!isCanvas) {\n            groupEle.appendChild(svg);\n        }\n        width = Math.max(this.control.availableSize.width, width);\n        height = height + this.control.availableSize.height;\n        if (!isCanvas) {\n            svgObject.appendChild(groupEle);\n        }\n        if (!isCanvas) {\n            svgObject.setAttribute('width', width + '');\n            svgObject.setAttribute('height', height + '');\n        }\n        return {\n            'width': width,\n            'height': height,\n            'svg': svgObject\n        };\n    };\n    ExportUtils.prototype.createCanvas = function () {\n        var heatmap = this.control;\n        var renderMode = heatmap.renderingMode;\n        heatmap.renderingMode = 'Canvas';\n        heatmap.refresh();\n        var canvas = heatmap.svgObject;\n        heatmap.renderingMode = renderMode;\n        heatmap.refresh();\n        return canvas;\n    };\n    ExportUtils.prototype.exportPdf = function (element, orientation, width, height, isDownload, fileName) {\n        var document = new PdfDocument();\n        var margin = document.pageSettings.margins;\n        var pdfDefaultWidth = document.pageSettings.width;\n        var pdfDefaultHeight = document.pageSettings.height;\n        var imageString = element.toDataURL('image/jpeg').replace('image/jpeg', 'image/octet-stream');\n        document.pageSettings.orientation = orientation;\n        var exactWidth = (pdfDefaultWidth < width) ? (width + margin.left + margin.right) : pdfDefaultWidth;\n        var exactHeight = (pdfDefaultHeight < height) ? (height + margin.top + margin.bottom) : pdfDefaultHeight;\n        document.pageSettings.size = new SizeF(exactWidth, exactHeight);\n        imageString = imageString.slice(imageString.indexOf(',') + 1);\n        document.pages.add().graphics.drawImage(new PdfBitmap(imageString), 0, 0, width, height);\n        if (isDownload) {\n            document.save(fileName + '.pdf');\n            document.destroy();\n        }\n    };\n    ExportUtils.prototype.doExport = function (type, image, fileName) {\n        var images = [];\n        var fileType = type || 'JPG';\n        images = [image];\n        this.exportImage(images, fileName, fileType, image);\n    };\n    ExportUtils.prototype.exportImage = function (images, fileName, fileType, image) {\n        var buffers = [];\n        var length = (!(images instanceof HTMLElement)) ? images.length : 0;\n        for (var g = 0; g < length; g++) {\n            image = images[g];\n            image = image.replace(/^data:[a-z]*;,/, '');\n            var image1 = image.split(',');\n            var byteString = atob(image1[1]);\n            var buffer = new ArrayBuffer(byteString.length);\n            var intArray = new Uint8Array(buffer);\n            for (var i = 0; i < byteString.length; i++) {\n                intArray[i] = byteString.charCodeAt(i);\n            }\n            buffers.push(buffer);\n        }\n        for (var j = 0; j < buffers.length; j++) {\n            var b = new Blob([buffers[j]], { type: 'application/octet-stream' });\n            if (Browser.info.name === 'msie') {\n                window.navigator.msSaveOrOpenBlob(b, fileName + '.' + fileType.toLocaleLowerCase());\n            }\n        }\n    };\n    /**\n     * To print the heatmap elements.\n     *\n     * @param elements\n     * @private\n     */\n    ExportUtils.prototype.print = function () {\n        this.printWindow = window.open('', 'print', 'height=' + window.outerHeight + ',width=' + window.outerWidth + ',tabbar=no');\n        this.printWindow.moveTo(0, 0);\n        this.printWindow.resizeTo(screen.availWidth, screen.availHeight);\n        if (this.control.renderingMode === 'SVG') {\n            printWindow(this.getHTMLContent(), this.printWindow);\n        }\n        else {\n            var element = this.control.svgObject;\n            var dataUrl = element.toDataURL();\n            var image_2 = new Image();\n            var ctx_2 = element.getContext('2d');\n            image_2.onload = (function () {\n                ctx_2.drawImage(image_2, 0, 0);\n            });\n            image_2.src = dataUrl;\n            printWindow(image_2, this.printWindow);\n        }\n    };\n    /**\n     * To get the html string of the heatmap.\n     *\n     * @param elements\n     * @private\n     */\n    ExportUtils.prototype.getHTMLContent = function () {\n        var div = createElement('div');\n        div.appendChild(this.control.element.cloneNode(true));\n        return div;\n    };\n    return ExportUtils;\n}());\nexport { ExportUtils };\n","/**\n * Heat Map Component\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, NotifyPropertyChanges, Internationalization, Complex, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { remove, Event, EventHandler, Touch } from '@syncfusion/ej2-base';\n// eslint-disable-next-line\nimport { Browser } from '@syncfusion/ej2-base';\nimport { SvgRenderer, CanvasRenderer } from '@syncfusion/ej2-svg-base';\nimport { Size, stringToNumber, RectOption, Rect, TextBasic, measureText, removeMeasureElement } from './utils/helper';\nimport { DrawSvgCanvas, TextOption, titlePositionX, getTitle, showTooltip, getElement, SelectedCellDetails } from './utils/helper';\nimport { removeElement, CanvasTooltip, getTooltipText } from './utils/helper';\nimport { Margin, Title } from './model/base';\nimport { Theme, getThemeColor } from './model/theme';\nimport { Axis } from './axis/axis';\nimport { AxisHelper } from './axis/axis-helpers';\nimport { Series, CellSettings } from './series/series';\nimport { PaletteSettings, CellColor } from './utils/colorMapping';\nimport { TooltipSettings } from './utils/tooltip';\nimport { TwoDimensional } from './datasource/twodimensional';\nimport { LegendSettings } from '../heatmap/legend/legend';\nimport { Data } from './datasource/adaptor';\nimport { ExportUtils } from '../heatmap/utils/export';\n/**\n * Represents the heatmap control. This is used to customize the properties of the heatmap in order to visualize two-dimensional data, with values represented by gradient or solid color variations.\n * ```html\n * <div id=\"container\"/>\n * <script>\n *   var heatmapObj = new HeatMap();\n *   heatmapObj.appendTo(\"#container\");\n * </script>\n * ```\n */\nvar HeatMap = /** @class */ (function (_super) {\n    __extends(HeatMap, _super);\n    function HeatMap() {\n        /**\n         * Sets and gets the width of the heatmap. The width of the heatmap accepts pixel or percentage values given in string format.\n         *\n         * If specified as '100%, heatmap renders to the full width of its parent element.\n         *\n         * @default null\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.enableCanvasRendering = false;\n        /** @private */\n        _this.isColorRange = false;\n        /** @private */\n        _this.isCellTapHold = false;\n        /** @private */\n        _this.selectedCellCount = 0;\n        /** @private */\n        _this.toggleValue = [];\n        /** @private */\n        _this.legendOnLoad = true;\n        /** @private */\n        _this.resizing = false;\n        /** @private */\n        _this.rendering = true;\n        /** @private */\n        _this.multiSelection = false;\n        /** @private */\n        _this.rectSelected = false;\n        /** @private */\n        _this.previousSelectedCellsRect = [];\n        /** @private */\n        _this.multiCellCollection = [];\n        /** @private */\n        _this.selectedMultiCellCollection = [];\n        /** @private */\n        _this.tempMultiCellCollection = [];\n        /**\n         * @private\n         */\n        _this.tooltipCollection = [];\n        /**\n         * @private\n         */\n        _this.isCellData = false;\n        return _this;\n    }\n    HeatMap.prototype.preRender = function () {\n        this.initPrivateVariable();\n        this.unWireEvents();\n        this.wireEvents();\n    };\n    /**\n     * This method is used to perform the export functionality for the heatmap.\n     *\n     * @param {ExportType} type - Specifies the type of the exported file.\n     * @param {string} fileName - Specifies the file name for the exported file.\n     * @param {PdfPageOrientation} orientation - Specifies the orientation for the exported PDF document.\n     */\n    HeatMap.prototype.export = function (type, fileName, orientation) {\n        var exportMap = new ExportUtils(this);\n        exportMap.export(type, fileName, orientation);\n    };\n    HeatMap.prototype.initPrivateVariable = function () {\n        this.renderer = new SvgRenderer(this.element.id);\n        this.canvasRenderer = new CanvasRenderer(this.element.id);\n        this.secondaryCanvasRenderer = new CanvasRenderer(this.element.id + '_secondary');\n        this.heatMapAxis = new AxisHelper(this);\n        this.heatMapSeries = new Series(this);\n        this.drawSvgCanvas = new DrawSvgCanvas(this);\n        this.twoDimensional = new TwoDimensional(this);\n        this.cellColor = new CellColor(this);\n        this.tempRectHoverClass = '';\n        this.tempTooltipRectId = '';\n        this.setCulture();\n    };\n    /**\n     * Method to set culture for heatmap\n     */\n    HeatMap.prototype.setCulture = function () {\n        this.intl = new Internationalization();\n    };\n    HeatMap.prototype.render = function () {\n        this.horizontalGradient = this.legendSettings.position === 'Bottom' || this.legendSettings.position === 'Top';\n        this.updateBubbleHelperProperty();\n        this.trigger('load', { heatmap: this });\n        if (this.theme === 'TailwindDark' || this.theme === 'Tailwind') {\n            var textSettings = { title: { textStyle: { size: '12px', fontFamily: 'Inter', fontWeight: '500' } }, textStyle: { size: '12px', fontFamily: 'Inter' } };\n            this.setProperties({ titleSettings: { textStyle: { size: '14px', fontFamily: 'Inter' } } }, true);\n            this.setProperties({ legendSettings: textSettings }, true);\n            this.setProperties({ xAxis: textSettings }, true);\n            this.setProperties({ yAxis: textSettings }, true);\n            this.setProperties({ cellSettings: { textStyle: { fontFamily: 'Inter' } } }, true);\n        }\n        if (this.theme === 'Material3' || this.theme === 'Material3Dark') {\n            var textSettings = { title: { textStyle: { size: '14px', fontFamily: 'Roboto', fontWeight: '500' } }, textStyle: { size: '12px', fontFamily: 'Roboto', fontWeight: '400' } };\n            this.setProperties({ titleSettings: { textStyle: { size: '16px', fontFamily: 'Roboto' } } }, true);\n            this.setProperties({ legendSettings: textSettings }, true);\n            this.setProperties({ xAxis: textSettings }, true);\n            this.setProperties({ yAxis: textSettings }, true);\n            this.setProperties({ cellSettings: { textStyle: { fontFamily: 'Roboto', fontWeight: '400' } } }, true);\n        }\n        if (this.theme === 'Bootstrap5' || this.theme === 'Bootstrap5Dark') {\n            var textSettings = { title: { textStyle: { size: '12px', fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"', fontWeight: '500' } }, textStyle: { size: '12px', fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"' } };\n            this.setProperties({ titleSettings: { textStyle: { size: '16px', fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"' } } }, true);\n            this.setProperties({ legendSettings: textSettings }, true);\n            this.setProperties({ xAxis: textSettings }, true);\n            this.setProperties({ yAxis: textSettings }, true);\n            this.setProperties({ cellSettings: { textStyle: { fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"' } } }, true);\n        }\n        if (this.theme === 'Fluent' || this.theme === 'FluentDark') {\n            var textSettings = { title: { textStyle: { size: '12px', fontFamily: '\"Segoe UI\", -apple-system, BlinkMacSystemFont, \"Roboto\", \"Helvetica Neue\", sans-serif', fontWeight: '500' } }, textStyle: { size: '12px', fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"' } };\n            this.setProperties({ titleSettings: { textStyle: { size: '16px', fontFamily: '\"Segoe UI\", -apple-system, BlinkMacSystemFont, \"Roboto\", \"Helvetica Neue\", sans-serif' } } }, true);\n            this.setProperties({ legendSettings: textSettings }, true);\n            this.setProperties({ xAxis: textSettings }, true);\n            this.setProperties({ yAxis: textSettings }, true);\n            this.setProperties({ cellSettings: { textStyle: { fontFamily: '\"Segoe UI\", -apple-system, BlinkMacSystemFont, \"Roboto\", \"Helvetica Neue\", sans-serif' } } }, true);\n        }\n        this.initAxis();\n        this.processInitData();\n        this.setTheme();\n        this.calculateMaxLength();\n        this.heatMapAxis.calculateVisibleLabels();\n        this.twoDimensional.processDataSource(this.completeAdaptDataSource);\n        this.createSvg();\n        this.cellColor.getColorCollection();\n        this.calculateBounds();\n        this.renderElements();\n        this.appendSvgObject();\n        if (this.tooltipModule) {\n            this.tooltipModule.showHideTooltip(false);\n        }\n        this.renderComplete();\n    };\n    /**\n     * To re-calculate the datasource while changing datasource property dynamically.\n     *\n     * @private\n     */\n    HeatMap.prototype.reRenderDatasource = function () {\n        this.dataSourceMinValue = null;\n        this.dataSourceMaxValue = null;\n        this.processInitData();\n        this.calculateMaxLength();\n        this.heatMapAxis.calculateVisibleLabels();\n        this.twoDimensional.processDataSource(this.completeAdaptDataSource);\n        this.cellColor.getColorCollection();\n        this.calculateBounds();\n    };\n    /**\n     * To process datasource property.\n     *\n     * @private\n     */\n    HeatMap.prototype.processInitData = function () {\n        if (this.adaptorModule) {\n            this.adaptorModule.constructDatasource(this.dataSource, this.dataSourceSettings);\n        }\n        else {\n            this.completeAdaptDataSource = this.dataSource;\n        }\n    };\n    /**\n     * To set render mode of heatmap as SVG or Canvas.\n     *\n     * @private\n     */\n    HeatMap.prototype.setRenderMode = function () {\n        if (this.renderingMode === 'Canvas') {\n            this.enableCanvasRendering = true;\n        }\n        else if (this.renderingMode === 'Auto' &&\n            (this.axisCollections[0].axisLabelSize * this.axisCollections[1].axisLabelSize) >= 10000) {\n            this.enableCanvasRendering = true;\n        }\n        else {\n            this.enableCanvasRendering = false;\n        }\n    };\n    /**\n     * To set bubble helper private property.\n     *\n     * @private\n     */\n    HeatMap.prototype.updateBubbleHelperProperty = function () {\n        if (this.cellSettings.tileType === 'Bubble' &&\n            (this.cellSettings.bubbleType === 'Size' || this.cellSettings.bubbleType === 'Sector')) {\n            this.legendVisibilityByCellType = false;\n        }\n        else if (this.legendModule && this.legendSettings.visible) {\n            this.legendVisibilityByCellType = true;\n        }\n        if (this.cellSettings.tileType === 'Bubble' && this.cellSettings.bubbleType === 'SizeAndColor') {\n            this.bubbleSizeWithColor = true;\n        }\n        else {\n            this.bubbleSizeWithColor = false;\n        }\n    };\n    HeatMap.prototype.renderElements = function () {\n        this.tooltipCollection = [];\n        this.renderSecondaryElement();\n        this.renderBorder();\n        this.renderTitle();\n        this.heatMapAxis.renderAxes();\n        if (this.tooltipModule && this.showTooltip) {\n            this.tooltipModule.tooltipObject = null;\n            this.tooltipModule.createTooltipDiv(this);\n        }\n        this.heatMapSeries.renderRectSeries();\n        if (this.legendModule && this.legendSettings.visible\n            && this.legendVisibilityByCellType) {\n            this.legendModule.renderLegendItems();\n            if (this.paletteSettings.type === 'Fixed' && this.legendSettings.enableSmartLegend &&\n                this.legendSettings.labelDisplayType === 'None') {\n                this.legendModule.createTooltipDiv();\n            }\n        }\n        removeMeasureElement();\n    };\n    /**\n     * Get component name\n     * @private\n     */\n    HeatMap.prototype.getModuleName = function () {\n        return 'heatmap';\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @private\n     */\n    HeatMap.prototype.getPersistData = function () {\n        return '';\n    };\n    /**\n     * @private\n     */\n    // tslint:disable-next-line:max-func-body-length\n    HeatMap.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var renderer = false;\n        var refreshBounds = false;\n        var isUpdateSelection = true;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'renderingMode':\n                    this.rendering = false;\n                    isUpdateSelection = false;\n                    renderer = true;\n                    break;\n                case 'cellSettings':\n                    this.updateBubbleHelperProperty();\n                    if (this.legendModule && ((newProp.cellSettings.tileType !== (oldProp.cellSettings\n                        !== undefined && oldProp.cellSettings.tileType))\n                        || (newProp.cellSettings.bubbleType !== oldProp.cellSettings.bubbleType))) {\n                        this.legendOnLoad = true;\n                        this.legendModule.updateLegendRangeCollections();\n                    }\n                    if (this.cellSettings.tileType === 'Bubble') {\n                        isUpdateSelection = false;\n                    }\n                    this.reRenderDatasource();\n                    refreshBounds = true;\n                    break;\n                case 'showTooltip':\n                    refreshBounds = true;\n                    break;\n                case 'dataSource':\n                case 'dataSourceSettings':\n                    this.isCellData = false;\n                    this.paletteCellSelectionUpdation();\n                    this.reRenderDatasource();\n                    isUpdateSelection = false;\n                    renderer = true;\n                    break;\n                case 'titleSettings':\n                case 'width':\n                case 'height':\n                case 'margin':\n                    refreshBounds = true;\n                    break;\n                case 'legendSettings':\n                    this.updateBubbleHelperProperty();\n                    if (this.legendVisibilityByCellType && (((newProp.legendSettings.visible !==\n                        (oldProp.legendSettings !== undefined && oldProp.legendSettings.visible)) ||\n                        (newProp.legendSettings.enableSmartLegend !== oldProp.legendSettings.enableSmartLegend)))) {\n                        this.legendOnLoad = true;\n                        this.legendModule.updateLegendRangeCollections();\n                    }\n                    else {\n                        this.legendOnLoad = false;\n                    }\n                    refreshBounds = true;\n                    break;\n                case 'yAxis':\n                case 'xAxis':\n                    this.paletteCellSelectionUpdation();\n                    this.reRenderDatasource();\n                    isUpdateSelection = false;\n                    refreshBounds = true;\n                    break;\n                case 'paletteSettings':\n                    this.paletteCellSelectionUpdation();\n                    this.twoDimensional.processDataSource(this.completeAdaptDataSource);\n                    this.cellColor.getColorCollection();\n                    this.calculateBounds();\n                    renderer = true;\n                    break;\n                case 'theme':\n                    this.setTheme();\n                    renderer = true;\n                    break;\n                case 'tooltipSettings':\n                    if (this.tooltipModule) {\n                        this.tooltipModule.tooltipObject.fill = this.tooltipSettings.fill;\n                        this.tooltipModule.tooltipObject.border = this.tooltipSettings.border;\n                        this.tooltipModule.tooltipObject.textStyle = this.tooltipSettings.textStyle;\n                        this.tooltipModule.tooltipObject.template = this.tooltipSettings.template;\n                        this.tooltipModule.tooltipObject.refresh();\n                    }\n                    break;\n            }\n        }\n        if (!refreshBounds && renderer) {\n            this.createSvg();\n            this.renderElements();\n            this.appendSvgObject();\n            this.trigger('created');\n            if (!isUpdateSelection) {\n                this.clearSelection();\n            }\n        }\n        else if (refreshBounds) {\n            this.createSvg();\n            this.refreshBound();\n            this.appendSvgObject();\n            this.trigger('created');\n        }\n        if (this.allowSelection && this.rectSelected) {\n            if (isUpdateSelection) {\n                this.updateCellSelection();\n            }\n            else {\n                this.clearSelection();\n            }\n        }\n        this.rendering = true;\n    };\n    HeatMap.prototype.paletteCellSelectionUpdation = function () {\n        this.updateBubbleHelperProperty();\n        if (this.legendVisibilityByCellType) {\n            this.legendOnLoad = true;\n            this.legendModule.updateLegendRangeCollections();\n        }\n    };\n    /**\n     * create svg or canvas element\n     *\n     * @private\n     */\n    HeatMap.prototype.createSvg = function () {\n        this.removeSvg();\n        this.setRenderMode();\n        this.calculateSize();\n        if (!this.enableCanvasRendering) {\n            this.svgObject = this.renderer.createSvg({\n                id: this.element.id + '_svg',\n                width: this.availableSize.width,\n                height: this.availableSize.height\n            });\n            if (this.cellSettings.border.width.toString() === '0' && this.cellSettings.tileType === 'Rect') {\n                this.svgObject.setAttribute('shape-rendering', 'crispEdges');\n            }\n        }\n        else {\n            this.svgObject = this.canvasRenderer.createCanvas({\n                id: this.element.id + '_canvas',\n                width: this.availableSize.width,\n                height: this.availableSize.height\n            });\n            if (this.allowSelection) {\n                this.createMultiCellDiv(true);\n            }\n        }\n    };\n    /**\n     *  To Remove the SVG.\n     *\n     * @private\n     */\n    HeatMap.prototype.removeSvg = function () {\n        if (document.getElementById(this.element.id + '_Secondary_Element')) {\n            remove(document.getElementById(this.element.id + '_Secondary_Element'));\n        }\n        if (document.getElementById(this.element.id + 'Celltooltipcontainer')) {\n            remove(document.getElementById(this.element.id + 'Celltooltipcontainer'));\n        }\n        if (document.getElementById(this.element.id + 'legendLabelTooltipContainer')) {\n            remove(document.getElementById(this.element.id + 'legendLabelTooltipContainer'));\n        }\n        if (document.getElementById(this.element.id + '_Multi_CellSelection_Canvas')) {\n            remove(document.getElementById(this.element.id + '_Multi_CellSelection_Canvas'));\n        }\n        if (document.getElementById(this.element.id + '_CellSelection_Container')) {\n            remove(document.getElementById(this.element.id + '_CellSelection_Container'));\n        }\n        if (this.svgObject) {\n            var svgElement = document.getElementById(this.svgObject.id);\n            if (svgElement) {\n                while (this.svgObject.childNodes.length) {\n                    this.svgObject.removeChild(this.svgObject.firstChild);\n                }\n                remove(this.svgObject);\n            }\n        }\n    };\n    HeatMap.prototype.renderSecondaryElement = function () {\n        var tooltipDiv = this.createElement('div');\n        tooltipDiv.id = this.element.id + '_Secondary_Element';\n        this.element.appendChild(tooltipDiv);\n        var divElement = this.createElement('div', {\n            id: this.element.id + '_CellSelection_Container'\n        });\n        divElement.style.cssText = 'position:absolute; z-index: 2 ; top:' + this.initialClipRect.y + 'px' + '; left:' + this.initialClipRect.x + 'px';\n        this.element.appendChild(divElement);\n    };\n    /**\n     * To provide the array of modules needed for control rendering\n     *\n     * @returns {ModuleDeclaration[]}\n     * @private\n     */\n    HeatMap.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.showTooltip) {\n            modules.push({\n                member: 'Tooltip',\n                args: [this]\n            });\n        }\n        if (this.legendSettings) {\n            modules.push({\n                member: 'Legend',\n                args: [this]\n            });\n        }\n        if (this.dataSource) {\n            modules.push({\n                member: 'Adaptor',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * This method destroys the heatmap. This method removes the events associated with the heatmap and disposes the objects created for rendering and updating the heatmap.\n     * {% codeBlock src='heatmap/destroy/index.md' %}{% endcodeBlock %}\n     *\n     * @function destroy\n     * @returns {void}.\n     * @member of Heatmap\n     */\n    HeatMap.prototype.destroy = function () {\n        this.unWireEvents();\n        this.touchInstance.destroy();\n        this.touchInstance = null;\n        _super.prototype.destroy.call(this);\n        removeMeasureElement();\n        this.element.innerHTML = '';\n        this.element.classList.remove('e-heatmap');\n    };\n    /**\n     * Applies all the pending property changes and render the component again.\n     *\n     * @function destroy\n     * @returns {void}.\n     */\n    HeatMap.prototype.refresh = function () {\n        _super.prototype.refresh.call(this);\n        this.element.classList.add('e-heatmap');\n    };\n    /**\n     * Appending svg object to the element\n     *\n     * @private\n     */\n    HeatMap.prototype.appendSvgObject = function () {\n        if (this.enableCanvasRendering && this.allowSelection) {\n            this.createMultiCellDiv(false);\n        }\n        else {\n            this.element.appendChild(this.svgObject);\n        }\n    };\n    HeatMap.prototype.renderBorder = function () {\n        this.border = {\n            width: 0\n        };\n        var background = !isNullOrUndefined(this.backgroundColor) ? this.backgroundColor : this.themeStyle.background;\n        var width = 0;\n        var rect = new RectOption(this.element.id + '_HeatmapBorder', background, this.border, 1, new Rect(width / 2, width / 2, this.availableSize.width - width, this.availableSize.height - width));\n        this.drawSvgCanvas.drawRectangle(rect, this.svgObject);\n    };\n    HeatMap.prototype.calculateSize = function () {\n        var width = stringToNumber(this.width, this.element.offsetWidth) || this.element.offsetWidth || 600;\n        var height = stringToNumber(this.height, this.element.offsetHeight) || this.element.offsetHeight || 450;\n        this.availableSize = new Size(width, height);\n        var alignElement = this.element;\n        while (alignElement.parentNode) {\n            if (alignElement.tagName === 'BODY') {\n                break;\n            }\n            var align = alignElement.align;\n            if (align === 'center') {\n                var containerWidth = this.availableSize.width.toString();\n                this.element.style.width = containerWidth + 'px';\n                this.element.style.margin = '0 auto';\n                break;\n            }\n            alignElement = alignElement.parentElement;\n        }\n    };\n    HeatMap.prototype.renderTitle = function () {\n        if (this.titleSettings.text) {\n            var titleStyle = this.titleSettings.textStyle;\n            var anchor = titleStyle.textAlignment === 'Near' ? 'start' :\n                titleStyle.textAlignment === 'Far' ? 'end' : 'middle';\n            this.elementSize = measureText(this.titleCollection[0], titleStyle);\n            var options = new TextOption(this.element.id + '_HeatmapTitle', new TextBasic(titlePositionX(this.availableSize.width - this.margin.left - this.margin.right, this.margin.left, this.margin.right, titleStyle), this.margin.top + ((this.elementSize.height) * 3 / 4), anchor, this.titleCollection), titleStyle, titleStyle.color || this.themeStyle.heatMapTitle);\n            if (this.titleCollection.length > 1) {\n                this.drawSvgCanvas.createWrapText(options, titleStyle, this.svgObject);\n            }\n            else {\n                this.drawSvgCanvas.createText(options, this.svgObject, this.titleCollection[0]);\n                if (this.titleCollection[0].indexOf('...') !== -1 && this.enableCanvasRendering) {\n                    this.tooltipCollection.push(new CanvasTooltip(this.titleSettings.text, new Rect(this.margin.left, this.margin.top, this.elementSize.width, this.elementSize.height)));\n                }\n            }\n        }\n    };\n    HeatMap.prototype.titleTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        if ((targetId === (this.element.id + '_HeatmapTitle')) && (event.target.textContent.indexOf('...') > -1)) {\n            showTooltip(this.titleSettings.text, x, y, this.element.offsetWidth, this.element.id + '_Title_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch, this);\n        }\n        else {\n            removeElement(this.element.id + '_Title_Tooltip');\n        }\n    };\n    // eslint-disable-next-line\n    HeatMap.prototype.axisTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        if ((targetId.indexOf(this.element.id + '_XAxis_Label') !== -1) ||\n            (targetId.indexOf(this.element.id + '_YAxis_Label') !== -1) ||\n            (targetId.indexOf(this.element.id + '_XAxis_MultiLevel') !== -1) ||\n            (targetId.indexOf(this.element.id + '_YAxis_MultiLevel') !== -1)) {\n            var tooltipText = getTooltipText(this.tooltipCollection, x, y);\n            if (tooltipText) {\n                showTooltip(tooltipText, x, y, this.element.offsetWidth, this.element.id + '_axis_Tooltip', getElement(this.element.id + '_Secondary_Element'), this.isTouch, this);\n            }\n            else {\n                removeElement(this.element.id + '_axis_Tooltip');\n            }\n        }\n        else {\n            removeElement(this.element.id + '_axis_Tooltip');\n        }\n    };\n    HeatMap.prototype.isHeatmapRect = function (x, y) {\n        var firstRectDetails = [];\n        var lastRectDetails = [];\n        var isRect;\n        var borderBoundary = 5;\n        firstRectDetails.push(this.heatMapSeries.rectPositionCollection[0][0]);\n        lastRectDetails.push(this.heatMapSeries.rectPositionCollection[this.yLength - 1][this.xLength - 1]);\n        if (this.cellSettings.border.width > borderBoundary && (x >= firstRectDetails[0].x && y >= firstRectDetails[0].y &&\n            x <= (lastRectDetails[0].x + lastRectDetails[0].width) &&\n            y <= (lastRectDetails[0].y + lastRectDetails[0].height)) && this.cellSettings.tileType === 'Rect') {\n            var currentRect = this.heatMapSeries.getCurrentRect(x, y);\n            var rectHeight = lastRectDetails[0].height;\n            var rectWidth = lastRectDetails[0].width;\n            var cellBorder = this.cellSettings.border.width / 2;\n            if ((x >= (currentRect.x + cellBorder) && (y >= (currentRect.y + cellBorder)) &&\n                (x <= (currentRect.x + (rectWidth - cellBorder)) &&\n                    (y <= (currentRect.y + (rectHeight - cellBorder)))))) {\n                isRect = true;\n                this.isRectBoundary = true;\n            }\n            else {\n                isRect = false;\n                this.isRectBoundary = false;\n            }\n        }\n        else {\n            isRect = (x >= firstRectDetails[0].x && y >= firstRectDetails[0].y &&\n                x <= (lastRectDetails[0].x + lastRectDetails[0].width) &&\n                y <= (lastRectDetails[0].y + lastRectDetails[0].height));\n            this.isRectBoundary = isRect;\n        }\n        return isRect;\n    };\n    HeatMap.prototype.setTheme = function () {\n        /*! Set theme */\n        this.themeStyle = getThemeColor(this.theme);\n    };\n    HeatMap.prototype.calculateBounds = function () {\n        var margin = this.margin;\n        // Title Height;\n        var titleHeight = 0;\n        var padding = (this.legendModule && this.legendSettings.position === 'Top'\n            && this.legendVisibilityByCellType) || this.titleSettings.textStyle.size === '0px' ? 0 : 16; // title padding\n        var left = margin.left;\n        var width = this.availableSize.width - left - margin.right;\n        if ((this.paletteSettings.colorGradientMode === 'Column' || this.paletteSettings.colorGradientMode === 'Row') &&\n            this.paletteSettings.type === 'Gradient') {\n            if (this.paletteSettings.palette.length === 0) {\n                this.legendVisibilityByCellType = false;\n            }\n            else {\n                for (var i = 0; i < this.paletteSettings.palette.length; i++) {\n                    if (this.paletteSettings.palette[i].value !== null || '') {\n                        this.legendVisibilityByCellType = true;\n                    }\n                    else if (this.paletteSettings.palette[i].value === null || '') {\n                        this.legendVisibilityByCellType = false;\n                        break;\n                    }\n                }\n            }\n        }\n        if (this.titleSettings.text) {\n            this.titleCollection = getTitle(this.titleSettings.text, this.titleSettings.textStyle, width);\n            titleHeight = (measureText(this.titleSettings.text, this.titleSettings.textStyle).height * this.titleCollection.length) +\n                padding;\n        }\n        var top = margin.top + titleHeight;\n        this.titleRect = new Rect(margin.left, margin.top, this.availableSize.width - margin.left - margin.right, titleHeight);\n        var height = this.availableSize.height - top - margin.bottom;\n        this.initialClipRect = new Rect(left, top, width, height);\n        var legendTop = this.initialClipRect.y;\n        if (this.legendModule && this.legendSettings.visible && this.legendVisibilityByCellType) {\n            this.legendModule.calculateLegendBounds(this.initialClipRect);\n        }\n        this.heatMapAxis.measureAxis(this.initialClipRect);\n        if (this.legendModule && this.legendSettings.visible && this.legendVisibilityByCellType) {\n            this.legendModule.calculateLegendSize(this.initialClipRect, legendTop);\n        }\n        this.heatMapAxis.calculateAxisSize(this.initialClipRect);\n    };\n    HeatMap.prototype.refreshBound = function () {\n        this.updateBubbleHelperProperty();\n        this.calculateBounds();\n        this.renderElements();\n    };\n    HeatMap.prototype.initAxis = function () {\n        var axis;\n        var axes = [this.xAxis, this.yAxis];\n        this.axisCollections = [];\n        for (var i = 0, len = axes.length; i < len; i++) {\n            axis = axes[i];\n            axis.orientation = (i === 0) ? 'Horizontal' : 'Vertical';\n            axis.jsonCellLabel = [];\n            this.axisCollections.push(axis);\n        }\n    };\n    /**\n     * Method to bind events for HeatMap\n     */\n    HeatMap.prototype.wireEvents = function () {\n        var _this = this;\n        /*! Find the Events type */\n        // eslint-disable-next-line\n        var isIE11Pointer = Browser.isPointer;\n        var start = Browser.touchStartEvent;\n        var stop = Browser.touchEndEvent;\n        var move = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        EventHandler.add(this.element, Browser.isDevice ? start : 'click', this.heatMapMouseClick, this);\n        EventHandler.add(this.element, 'dblclick', this.heatMapMouseDoubleClick, this);\n        EventHandler.add(this.element, start, this.heatMapMouseMove, this);\n        EventHandler.add(this.element, stop, this.heatMapMouseLeave, this);\n        EventHandler.add(this.element, move, this.heatMapMouseMove, this);\n        EventHandler.add(this.element, cancel, this.heatMapMouseLeave, this);\n        this.resizeEvent = this.heatMapResize.bind(this);\n        window.addEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.resizeEvent);\n        // eslint-disable-next-line\n        var heatmap = this;\n        /**\n         * Support for touch tapHold and tap for HeatMap\n         */\n        // eslint-disable-next-line\n        this.touchInstance = new Touch(this.element, {\n            tapHold: function (e) {\n                heatmap.isCellTapHold = true;\n                if (!e.originalEvent.ctrlKey || !_this.enableMultiSelect) {\n                    _this.removeSelectedCellsBorder();\n                }\n                heatmap.getDataCollection();\n                heatmap.currentRect.allowCollection = false;\n                heatmap.setCellOpacity();\n                heatmap.tooltipOnMouseMove(null, heatmap.currentRect, heatmap.isCellTapHold);\n                var argData = {\n                    heatmap: heatmap,\n                    cancel: false,\n                    name: 'cellSelected',\n                    data: heatmap.multiCellCollection\n                };\n                heatmap.trigger('cellSelected', argData);\n            },\n            tap: function () {\n                var isCellTap = false;\n                if (!heatmap.isCellTapHold) {\n                    isCellTap = true;\n                }\n                heatmap.tooltipOnMouseMove(null, heatmap.currentRect, isCellTap);\n            }\n        });\n        this.setStyle(this.element);\n    };\n    /**\n     * Applying styles for heatmap element\n     */\n    HeatMap.prototype.setStyle = function (element) {\n        element.style.touchAction = 'element';\n        element.style.touchAction = 'element';\n        element.style.zoom = 'none';\n        element.style.userSelect = 'none';\n        element.style.webkitUserSelect = 'none';\n        element.style.position = 'relative';\n        element.style.display = 'block';\n    };\n    /**\n     * This method is used to print the rendered heatmap.\n     */\n    HeatMap.prototype.print = function () {\n        var exportChart = new ExportUtils(this);\n        exportChart.print();\n    };\n    /**\n     * Method to unbind events for HeatMap\n     */\n    HeatMap.prototype.unWireEvents = function () {\n        /*! Find the Events type */\n        // eslint-disable-next-line\n        var isIE11Pointer = Browser.isPointer;\n        var start = Browser.touchStartEvent;\n        // eslint-disable-next-line\n        var stop = Browser.touchEndEvent;\n        var move = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        EventHandler.remove(this.element, Browser.isDevice ? start : 'click', this.heatMapMouseClick);\n        EventHandler.remove(this.element, 'dblclick', this.heatMapMouseDoubleClick);\n        EventHandler.remove(this.element, start, this.heatMapMouseMove);\n        EventHandler.remove(this.element, stop, this.heatMapMouseLeave);\n        EventHandler.remove(this.element, move, this.heatMapMouseMove);\n        EventHandler.remove(this.element, cancel, this.heatMapMouseLeave);\n        window.removeEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.resizeEvent);\n    };\n    /**\n     * Handles the heatmap resize.\n     *\n     * @returns {boolean}\n     * @private\n     */\n    // eslint-disable-next-line\n    HeatMap.prototype.heatMapResize = function (e) {\n        var _this = this;\n        this.resizing = true;\n        var argData = {\n            heatmap: this,\n            cancel: false,\n            name: 'resized',\n            currentSize: new Size(0, 0),\n            previousSize: new Size(this.availableSize.width, this.availableSize.height)\n        };\n        if (this.resizeTimer) {\n            clearTimeout(this.resizeTimer);\n        }\n        this.resizeTimer = setTimeout(function () {\n            if (_this.isDestroyed) {\n                clearTimeout(_this.resizeTimer);\n                return;\n            }\n            _this.createSvg();\n            argData.currentSize = _this.availableSize;\n            _this.trigger('resized', argData);\n            _this.refreshBound();\n            _this.appendSvgObject();\n            if (_this.allowSelection) {\n                _this.updateCellSelection();\n            }\n            _this.trigger('loaded', ({ heatmap: _this }));\n            _this.resizing = false;\n        }, 500);\n        return false;\n    };\n    /**\n     * Method to bind selection after window resize for HeatMap\n     */\n    HeatMap.prototype.updateCellSelection = function () {\n        var wSize = this.initialClipRect.width / this.axisCollections[0].axisLabelSize;\n        var hSize = this.initialClipRect.height / this.axisCollections[1].axisLabelSize;\n        var x = this.initialClipRect.x;\n        var y = this.initialClipRect.y;\n        if (!this.enableCanvasRendering) {\n            if (this.multiCellCollection.length !== 0) {\n                var containersRect = document.getElementById(this.element.id + '_Container_RectGroup');\n                var containerText = document.getElementById(this.element.id + '_Container_TextGroup');\n                for (var i = 0; i < containersRect.childNodes.length; i++) {\n                    containersRect.childNodes[i].setAttribute('opacity', '0.3');\n                    if (this.cellSettings.showLabel && containerText.childNodes[i]) {\n                        containerText.childNodes[i].setAttribute('opacity', '0.3');\n                    }\n                }\n                for (var i = 0; i < this.multiCellCollection.length; i++) {\n                    var collectionClass = this.multiCellCollection[i].cellElement;\n                    var cellIndex = collectionClass.id.replace(this.element.id + '_HeatMapRect_', '');\n                    var index = parseInt(cellIndex, 10);\n                    containersRect.childNodes[index].setAttribute('opacity', '1');\n                    if (this.cellSettings.showLabel && containerText.childNodes[i]) {\n                        var getText = document.getElementById(this.element.id + '_HeatMapRectLabels_' + index);\n                        if (getText) {\n                            getText.setAttribute('opacity', '1');\n                        }\n                        this.addSvgClass(containersRect.childNodes[index]);\n                    }\n                }\n            }\n        }\n        else if (this.enableCanvasRendering) {\n            var rect = this.multiCellCollection;\n            var oldCanvas = document.getElementById(this.element.id + '_canvas');\n            var newCanvas = document.getElementById(this.element.id + '_secondary_canvas');\n            var initialRect = this.initialClipRect;\n            var rectHeight = initialRect.y + initialRect.height;\n            var rectWidth = initialRect.x + initialRect.width;\n            for (var i = 0; i < this.multiCellCollection.length; i++) {\n                this.multiCellCollection[i].width = rect[i].width = wSize;\n                this.multiCellCollection[i].height = rect[i].height = hSize;\n                this.multiCellCollection[i].x = rect[i].x = x + wSize * this.multiCellCollection[i].xPosition;\n                this.multiCellCollection[i].y = rect[i].y = y + hSize * this.multiCellCollection[i].yPosition;\n                var rectImage = oldCanvas.getContext('2d').getImageData(rect[i].x, rect[i].y, rect[i].width, rect[i].height);\n                newCanvas.getContext('2d').putImageData(rectImage, rect[i].x, rect[i].y);\n                oldCanvas.style.opacity = '0.3';\n            }\n            var topPositions = oldCanvas.getContext('2d').getImageData(0, 0, this.availableSize.width, initialRect.y);\n            newCanvas.getContext('2d').putImageData(topPositions, 0, 0);\n            var bottomPositions = oldCanvas.getContext('2d').getImageData(0, rectHeight, this.availableSize.width, this.availableSize.height - rectHeight);\n            newCanvas.getContext('2d').putImageData(bottomPositions, 0, initialRect.y + initialRect.height);\n            var rightPosition = oldCanvas.getContext('2d').\n                getImageData(rectWidth, 0, this.availableSize.width - rectWidth, this.availableSize.height);\n            newCanvas.getContext('2d').putImageData(rightPosition, rectWidth, 0);\n            var leftPosition = oldCanvas.getContext('2d').getImageData(0, 0, initialRect.x, this.availableSize.height);\n            newCanvas.getContext('2d').putImageData(leftPosition, 0, 0);\n            removeElement(this.element.id + '_selectedCells');\n        }\n    };\n    HeatMap.prototype.clearSVGSelection = function () {\n        var rect = document.getElementById(this.element.id + '_Container_RectGroup');\n        var text = document.getElementById(this.element.id + '_Container_TextGroup');\n        for (var i = 0; i < rect.childNodes.length; i++) {\n            var elementClassName = rect.childNodes[i].getAttribute('class');\n            if (elementClassName === this.element.id + '_selected') {\n                this.removeSvgClass(rect.childNodes[i], elementClassName);\n            }\n            rect.childNodes[i].setAttribute('opacity', '1');\n            if (this.cellSettings.showLabel && text.childNodes[i]) {\n                text.childNodes[i].setAttribute('opacity', '1');\n            }\n        }\n    };\n    /**\n     * Get the maximum length of data source for both horizontal and vertical\n     *\n     * @private\n     */\n    HeatMap.prototype.calculateMaxLength = function () {\n        var dataSource = this.completeAdaptDataSource;\n        if (dataSource && dataSource.length > 0) {\n            var xAxisMax = dataSource.length - 1;\n            var yAxisMax = 0;\n            for (var i = 0; i <= xAxisMax; i++) {\n                var length_1 = dataSource[i].length;\n                yAxisMax = yAxisMax > length_1 ? yAxisMax : length_1;\n            }\n            this.axisCollections[0].maxLength = xAxisMax;\n            this.axisCollections[1].maxLength = yAxisMax - 1;\n        }\n        else {\n            this.axisCollections[0].maxLength = 0;\n            this.axisCollections[1].maxLength = 0;\n        }\n    };\n    /**\n     * To find mouse x, y for aligned heatmap element svg position\n     */\n    HeatMap.prototype.setMouseXY = function (pageX, pageY) {\n        var rect = this.element.getBoundingClientRect();\n        var svgCanvasRect;\n        if (this.enableCanvasRendering) {\n            svgCanvasRect = document.getElementById(this.element.id + '_canvas').getBoundingClientRect();\n        }\n        else {\n            svgCanvasRect = document.getElementById(this.element.id + '_svg').getBoundingClientRect();\n        }\n        this.mouseX = (pageX - rect.left) - Math.max(svgCanvasRect.left - rect.left, 0);\n        this.mouseY = (pageY - rect.top) - Math.max(svgCanvasRect.top - rect.top, 0);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    HeatMap.prototype.triggerClickEvent = function (e, isDoubleClick) {\n        var pageX;\n        var pageY;\n        var touchArg;\n        var elementRect = this.element.getBoundingClientRect();\n        if (e.type === 'touchstart') {\n            if (!isDoubleClick) {\n                this.isTouch = true;\n            }\n            touchArg = e;\n            pageY = touchArg.changedTouches[0].clientY;\n            pageX = touchArg.changedTouches[0].clientX;\n        }\n        else {\n            if (!isDoubleClick) {\n                this.isTouch = false;\n            }\n            pageY = e.clientY;\n            pageX = e.clientX;\n        }\n        pageX -= elementRect.left;\n        pageY -= elementRect.top;\n        var isheatmapRect = this.isHeatmapRect(pageX, pageY);\n        if (isheatmapRect) {\n            var currentRect = this.heatMapSeries.getCurrentRect(pageX, pageY);\n            this.trigger(isDoubleClick ? 'cellDoubleClick' : 'cellClick', {\n                heatmap: this,\n                value: currentRect.value,\n                x: currentRect.x,\n                y: currentRect.y,\n                xLabel: this.heatMapSeries.hoverXAxisLabel,\n                yLabel: this.heatMapSeries.hoverYAxisLabel,\n                xValue: this.heatMapSeries.hoverXAxisValue,\n                yValue: this.heatMapSeries.hoverYAxisValue,\n                cellElement: this.enableCanvasRendering ? null : document.getElementById(currentRect.id),\n                event: e\n            });\n        }\n        return { x: pageX, y: pageY };\n    };\n    HeatMap.prototype.heatMapMouseDoubleClick = function (e) {\n        this.triggerClickEvent(e, true);\n    };\n    /**\n     * @private\n     */\n    HeatMap.prototype.heatMapMouseClick = function (e) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var position = this.triggerClickEvent(e, false);\n        var pageX = position.x;\n        var pageY = position.y;\n        this.notify('click', e);\n        if (this.paletteSettings.type !== 'Gradient' && this.legendModule\n            && this.legendSettings.visible && this.legendVisibilityByCellType) {\n            var page = this.legendModule.navigationCollections;\n            if (page.length && pageX > page[0].x && pageX < page[0].x + page[0].width &&\n                pageY > page[0].y && pageY < page[0].y + page[0].height) {\n                this.legendModule.translatePage(this, this.legendModule.currentPage, true);\n            }\n            else if (page.length && pageX > page[1].x && pageX < page[1].x + page[1].width &&\n                pageY > page[1].y && pageY < page[1].y + page[1].height) {\n                this.legendModule.translatePage(this, this.legendModule.currentPage, false);\n            }\n            var legendRange = this.legendModule.legendRange;\n            var legendTextRange = this.legendModule.legendTextRange;\n            var loop = true;\n            for (var i = 0; i < legendRange.length; i++) {\n                if (this.legendModule && this.legendSettings.toggleVisibility &&\n                    this.legendModule.currentPage === legendRange[i].currentPage) {\n                    if ((loop && (pageX >= legendRange[i].x\n                        && pageX <= legendRange[i].width + legendRange[i].x) &&\n                        (pageY >= legendRange[i].y && pageY <= legendRange[i].y + legendRange[i].height) ||\n                        ((this.legendSettings.showLabel && this.legendSettings.labelDisplayType !== 'None' &&\n                            pageX >= legendTextRange[i].x\n                            && pageX <= legendTextRange[i].width + legendTextRange[i].x) &&\n                            (pageY >= legendTextRange[i].y\n                                && pageY <= legendTextRange[i].y + legendTextRange[i].height)))) {\n                        this.legendModule.legendRangeSelection(i);\n                        loop = false;\n                    }\n                }\n            }\n        }\n        return false;\n    };\n    /**\n     * Handles the mouse Move.\n     *\n     * @returns {boolean}\n     *\n     * @private\n     */\n    HeatMap.prototype.heatMapMouseMove = function (e) {\n        var pageX;\n        var pageY;\n        var touchArg;\n        var elementRect = this.element.getBoundingClientRect();\n        if (e.type === 'touchmove' || e.type === 'touchstart') {\n            this.isTouch = true;\n            touchArg = e;\n            pageX = touchArg.changedTouches[0].clientX;\n            pageY = touchArg.changedTouches[0].clientY;\n        }\n        else {\n            this.isTouch = false;\n            pageX = e.clientX;\n            pageY = e.clientY;\n        }\n        pageX -= elementRect.left;\n        pageY -= elementRect.top;\n        this.setMouseXY(pageX, pageY);\n        this.mouseAction(e, pageX, pageY, touchArg, elementRect);\n        return true;\n    };\n    /**\n     * Handles the mouse Move.\n     *\n     * @returns {boolean}\n     */\n    HeatMap.prototype.mouseAction = function (e, pageX, pageY, touchArg, elementRect) {\n        var tooltipText;\n        if (e.target && e.target.id) {\n            var isheatmapRect = this.isHeatmapRect(pageX, pageY);\n            if (this.legendModule) {\n                if (isheatmapRect) {\n                    if (this.paletteSettings.type === 'Gradient' &&\n                        this.legendSettings.showGradientPointer && this.legendSettings.visible && this.legendVisibilityByCellType) {\n                        this.legendModule.renderGradientPointer(e, pageX, pageY);\n                    }\n                }\n                else {\n                    this.legendModule.removeGradientPointer();\n                }\n                this.renderMousePointer(pageX, pageY);\n            }\n            var isshowTooltip = void 0;\n            var currentRect = void 0;\n            isshowTooltip = this.showTooltip && this.tooltipModule ? isheatmapRect : false;\n            if (isheatmapRect) {\n                currentRect = this.heatMapSeries.getCurrentRect(pageX, pageY);\n                if (e.which !== 2 && e.which !== 3) {\n                    isshowTooltip = this.cellSelectionOnMouseMove(e, currentRect, pageX, pageY, isshowTooltip);\n                }\n            }\n            this.tooltipOnMouseMove(e, currentRect, isshowTooltip, isheatmapRect);\n            if (this.legendModule && this.legendSettings.visible && this.paletteSettings.type === 'Fixed' &&\n                this.legendSettings.enableSmartLegend && this.legendSettings.labelDisplayType === 'None') {\n                this.legendModule.createTooltip(pageX, pageY);\n            }\n            if (!this.enableCanvasRendering) {\n                if (this.titleSettings.text && this.titleSettings.textStyle.textOverflow === 'Trim') {\n                    this.titleTooltip(e, pageX, pageY, this.isTouch);\n                }\n                this.axisTooltip(e, pageX, pageY, this.isTouch);\n                if (this.legendModule && this.legendSettings.visible && this.legendSettings.showLabel && this.legendVisibilityByCellType) {\n                    this.legendModule.renderLegendLabelTooltip(e, pageX, pageY);\n                }\n                if (this.legendModule && this.legendSettings.visible && this.legendVisibilityByCellType) {\n                    this.legendModule.renderLegendTitleTooltip(e, pageX, pageY);\n                }\n            }\n            else {\n                // eslint-disable-next-line\n                elementRect = this.element.getBoundingClientRect();\n                var tooltipRect = (this.paletteSettings.type === 'Fixed' && this.legendSettings.enableSmartLegend &&\n                    this.legendSettings.labelDisplayType === 'None') ? false : true;\n                tooltipText = getTooltipText(this.tooltipCollection, pageX, pageY) ||\n                    (this.legendModule && tooltipRect && (getTooltipText(this.legendModule.legendLabelTooltip, pageX, pageY)\n                        || getTooltipText(this.legendModule.legendTitleTooltip, pageX, pageY)));\n                if (tooltipText) {\n                    showTooltip(tooltipText, pageX, pageY, this.element.offsetWidth, this.element.id + '_canvas_Tooltip', getElement(this.element.id + '_Secondary_Element'), this.isTouch, this);\n                }\n                else {\n                    removeElement(this.element.id + '_canvas_Tooltip');\n                }\n            }\n        }\n        return true;\n    };\n    /**\n     * Triggering cell selection\n     */\n    HeatMap.prototype.cellSelectionOnMouseMove = function (e, currentRect, pageX, pageY, isshowTooltip) {\n        if ((this.cellSettings.tileType === 'Rect' && e.type === 'mousedown' || e.type === 'touchstart'\n            || e.type === 'pointerdown') && this.allowSelection) {\n            this.previousRect = currentRect;\n            this.multiSelection = true;\n            this.rectSelected = true;\n            this.initialCellX = pageX;\n            this.initialCellY = pageY;\n            e.preventDefault();\n        }\n        if (this.cellSettings.tileType === 'Rect' && this.multiSelection && currentRect) {\n            isshowTooltip = false;\n            this.highlightSelectedCells(this.previousRect, currentRect, pageX, pageY, e);\n        }\n        return isshowTooltip;\n    };\n    /**\n     * Rendering tooltip on mouse move\n     */\n    HeatMap.prototype.tooltipOnMouseMove = function (e, currentRect, isshowTooltip, isheatmapRect) {\n        var _this = this;\n        if (isshowTooltip && currentRect) {\n            if (this.tempTooltipRectId !== currentRect.id) {\n                if (this.showTooltip) {\n                    if ((this.cellSettings.enableCellHighlighting || (this.tooltipModule && this.showTooltip))\n                        && !this.enableCanvasRendering) {\n                        this.heatMapSeries.highlightSvgRect(currentRect.id);\n                    }\n                    if (this.tooltipTimer) {\n                        window.clearTimeout(this.tooltipTimer);\n                        this.tooltipTimer = null;\n                    }\n                    this.tooltipModule.renderTooltip(currentRect);\n                    if (this.isTouch) {\n                        this.tooltipTimer = setTimeout(function () {\n                            if (!isNullOrUndefined(_this.tooltipModule.tooltipObject)) {\n                                _this.tooltipModule.tooltipObject.fadeOut();\n                            }\n                            _this.tooltipModule.isFadeout = true;\n                            window.clearTimeout(_this.tooltipTimer);\n                            _this.tooltipTimer = null;\n                        }, 1500);\n                        if (e) {\n                            if (e.type === 'touchmove') {\n                                e.preventDefault();\n                            }\n                        }\n                    }\n                }\n                this.tempTooltipRectId = currentRect.id;\n            }\n        }\n        else {\n            if (e !== null) {\n                var borderBoundary = 5;\n                if (!isheatmapRect) {\n                    if ((this.cellSettings.enableCellHighlighting || this.showTooltip) && !this.enableCanvasRendering &&\n                        this.cellSettings.border.width < borderBoundary) {\n                        this.heatMapSeries.highlightSvgRect(e.target.id);\n                    }\n                    if (this.tooltipModule && this.showTooltip) {\n                        this.tooltipModule.showHideTooltip(false, true);\n                    }\n                }\n                else if (!this.showTooltip && this.cellSettings.border.width > borderBoundary) {\n                    this.heatMapSeries.highlightSvgRect(e.target.id);\n                }\n            }\n            this.tempTooltipRectId = '';\n        }\n    };\n    /**\n     * To select the multiple cells on mouse move action\n     */\n    HeatMap.prototype.highlightSelectedCells = function (previousRect, currentRect, pageX, pageY, e) {\n        var pXIndex = previousRect.xIndex;\n        var pYIndex = previousRect.yIndex;\n        var cXIndex = currentRect.xIndex;\n        var cYIndex = currentRect.yIndex;\n        this.currentRect = currentRect;\n        this.selectedCellsRect = new Rect(0, 0, 0, 0);\n        this.selectedCellsRect.x = previousRect.x > currentRect.x ? currentRect.x : previousRect.x;\n        this.selectedCellsRect.y = previousRect.y > currentRect.y ? currentRect.y : previousRect.y;\n        this.selectedCellsRect.width = ((previousRect.x > currentRect.x ? (pXIndex - cXIndex) :\n            (cXIndex - pXIndex)) + 1) * currentRect.width;\n        this.selectedCellsRect.height = ((previousRect.y > currentRect.y ? (pYIndex - cYIndex) :\n            (cYIndex - pYIndex)) + 1) * currentRect.height;\n        if (e.type === 'touchstart' && this.multiCellCollection.length === 0 && !this.isCellTapHold) {\n            this.isCellTapHold = true;\n        }\n        else {\n            this.isCellTapHold = false;\n        }\n        e.preventDefault();\n        var x = this.initialCellX > pageX ? pageX : this.initialCellX;\n        var y = this.initialCellY > pageY ? pageY : this.initialCellY;\n        var rect = new Rect(x - this.initialClipRect.x, y - this.initialClipRect.y, Math.abs(pageX - this.initialCellX), Math.abs(pageY - this.initialCellY));\n        if (((rect.width > 0) && this.enableMultiSelect && e.ctrlKey === false)) {\n            this.removeSelectedCellsBorder();\n            var tooltipElement = document.getElementById(this.element.id + 'Celltooltipcontainer_svg');\n            if (tooltipElement) {\n                this.tooltipModule.tooltipObject = null;\n                tooltipElement.setAttribute('opacity', '0');\n            }\n        }\n        var parentDiv = document.getElementById(this.element.id + '_CellSelection_Container');\n        var svgObject = this.renderer.createSvg({\n            id: this.element.id + '_CellSelection_Container_svg',\n            width: this.initialClipRect.width,\n            height: this.initialClipRect.height\n        });\n        parentDiv.appendChild(svgObject);\n        var parent = document.getElementById(this.element.id + '_CellSelection_Container_svg');\n        if (this.enableMultiSelect) {\n            var rectItems = new RectOption(this.element.id + '_selectedCells', '#87ceeb', { color: 'transparent', width: 1 }, 1, rect, '#0000ff');\n            parent.appendChild(this.renderer.drawRectangle(rectItems));\n            document.getElementById(this.element.id + '_selectedCells').style.opacity = '0.5';\n        }\n    };\n    /**\n     * Method to get selected cell data collection for HeatMap\n     */\n    HeatMap.prototype.getDataCollection = function () {\n        var pXIndex = this.previousRect.xIndex;\n        var pYIndex = this.previousRect.yIndex;\n        var cXIndex = this.currentRect.xIndex;\n        var cYIndex = this.currentRect.yIndex;\n        var minX = cXIndex > pXIndex ? pXIndex : cXIndex;\n        var maxX = cXIndex > pXIndex ? cXIndex : pXIndex;\n        var minY = cYIndex > pYIndex ? pYIndex : cYIndex;\n        var maxY = cYIndex > pYIndex ? cYIndex : pYIndex;\n        var tempX = minX;\n        var tempY = minY;\n        var cellX = this.previousRect.x;\n        var cellY = this.previousRect.y;\n        this.getCellCollection(this.currentRect, this.previousRect, true, tempX, tempY, maxX, maxY, minX, cellX, cellY);\n        tempX = minX;\n        tempY = minY;\n        cellX = this.previousRect.x;\n        cellY = this.previousRect.y;\n        this.checkSelectedCells();\n        this.getCellCollection(this.currentRect, this.previousRect, false, tempX, tempY, maxX, maxY, minX, cellX, cellY);\n        this.selectedMultiCellCollection = [];\n        this.canvasSelectedCells = new Rect(0, 0, 0, 0);\n        this.selectedCellCount = 0;\n    };\n    /**\n     * To get the selected datas.\n     */\n    HeatMap.prototype.getCellCollection = function (currentRect, previousRect, singleCellData, tempX, tempY, maxX, maxY, minX, cellX, cellY) {\n        var xIndex = Math.abs((currentRect.xIndex === previousRect.xIndex ?\n            0 : currentRect.xIndex - previousRect.xIndex)) + 1;\n        var yIndex = Math.abs((currentRect.yIndex === previousRect.yIndex ?\n            0 : currentRect.yIndex - previousRect.yIndex)) + 1;\n        for (var i = 0; i < (xIndex * yIndex); i++) {\n            if (singleCellData) {\n                this.getSelectedCellData(cellX, cellY, true);\n            }\n            else {\n                this.getSelectedCellData(cellX, cellY, false);\n            }\n            if (tempX < maxX) {\n                cellX += currentRect.xIndex > previousRect.xIndex ? currentRect.width : -currentRect.width;\n                tempX++;\n            }\n            else if (tempY < maxY) {\n                cellY += currentRect.yIndex > previousRect.yIndex ? currentRect.height : -currentRect.height;\n                cellX = previousRect.x;\n                tempX = minX;\n            }\n        }\n    };\n    /**\n     * To remove the selection on mouse click without ctrl key.\n     */\n    HeatMap.prototype.removeSelectedCellsBorder = function () {\n        if (!this.enableCanvasRendering) {\n            var containerRect = document.getElementById(this.element.id + '_Container_RectGroup');\n            var containerText = document.getElementById(this.element.id + '_Container_TextGroup');\n            for (var i = 0; i < containerRect.childNodes.length; i++) {\n                var elementClassName = containerRect.childNodes[i].getAttribute('class');\n                containerRect.childNodes[i].setAttribute('opacity', '0.3');\n                if (this.cellSettings.showLabel && containerText.childNodes[i]) {\n                    containerText.childNodes[i].setAttribute('opacity', '0.3');\n                    this.removeSvgClass(containerRect.childNodes[i], elementClassName);\n                }\n            }\n        }\n        else {\n            var ctx = this.secondaryCanvasRenderer.ctx;\n            for (var i = 0; i < this.previousSelectedCellsRect.length; i++) {\n                var rect = this.previousSelectedCellsRect[i];\n                ctx.save();\n                ctx.clearRect(rect.x - 1, rect.y - 1, rect.width + 2, rect.height + 2);\n                ctx.restore();\n            }\n            for (var i = 0; i < this.multiCellCollection.length; i++) {\n                var rects = this.multiCellCollection[i];\n                if (this.multiCellCollection.length > 0) {\n                    ctx.save();\n                    ctx.clearRect(rects.x - 1, rects.y - 1, rects.width + 2, rects.height + 2);\n                }\n            }\n        }\n        this.multiCellCollection = [];\n    };\n    /**\n     * To highlight the selected multiple cells on mouse move action in canvas mode.\n     */\n    HeatMap.prototype.highlightSelectedAreaInCanvas = function (rect) {\n        if (rect.x) {\n            var oldCanvas = document.getElementById(this.element.id + '_canvas');\n            var newCanvas = document.getElementById(this.element.id + '_secondary_canvas');\n            var initialRect = this.initialClipRect;\n            var rectImage = oldCanvas.getContext('2d').getImageData(rect.x, rect.y, rect.width, rect.height);\n            newCanvas.getContext('2d').putImageData(rectImage, rect.x, rect.y);\n            oldCanvas.style.opacity = '0.3';\n            var topPosition = oldCanvas.getContext('2d').getImageData(0, 0, this.availableSize.width, initialRect.y);\n            newCanvas.getContext('2d').putImageData(topPosition, 0, 0);\n            var bottomPosition = oldCanvas.getContext('2d').getImageData(0, initialRect.y + initialRect.height, this.availableSize.width, this.availableSize.height - (initialRect.y + initialRect.height));\n            newCanvas.getContext('2d').putImageData(bottomPosition, 0, initialRect.y + initialRect.height);\n            var rightPosition = oldCanvas.getContext('2d').getImageData(initialRect.x + initialRect.width, 0, this.availableSize.width - (initialRect.x + initialRect.width), this.availableSize.height);\n            newCanvas.getContext('2d').putImageData(rightPosition, initialRect.x + initialRect.width, 0);\n            var leftPosition = oldCanvas.getContext('2d').getImageData(0, 0, initialRect.x, this.availableSize.height);\n            newCanvas.getContext('2d').putImageData(leftPosition, 0, 0);\n        }\n    };\n    /**\n     * To get the collection of selected cells.\n     */\n    HeatMap.prototype.getSelectedCellData = function (cellX, cellY, cellCollection) {\n        var xAxis = this.axisCollections[0];\n        var yAxis = this.axisCollections[1];\n        var xLabels = xAxis.tooltipLabels;\n        var yLabels = yAxis.tooltipLabels.slice().reverse();\n        var rectPosition = this.heatMapSeries.getCurrentRect(cellX + 1, cellY + 1);\n        var currentRect = document.getElementById(rectPosition.id);\n        var cellDetails = new SelectedCellDetails(null, '', '', 0, 0, null, 0, 0, 0, 0, 0, 0);\n        cellDetails.value = rectPosition.value;\n        cellDetails.xLabel = xLabels[rectPosition.xIndex].toString();\n        cellDetails.yLabel = yLabels[rectPosition.yIndex].toString();\n        cellDetails.xValue = xAxis.labelValue[rectPosition.xIndex];\n        cellDetails.yValue = yAxis.labelValue.slice().reverse()[rectPosition.yIndex];\n        cellDetails.cellElement = this.enableCanvasRendering ? null : currentRect;\n        cellDetails.xPosition = rectPosition.xIndex;\n        cellDetails.yPosition = rectPosition.yIndex;\n        cellDetails.width = this.currentRect.width;\n        cellDetails.height = this.currentRect.height;\n        cellDetails.x = this.currentRect.x;\n        cellDetails.y = this.currentRect.y;\n        this.currentRect.allowCollection = true;\n        this.addSvgClass(currentRect);\n        if (cellCollection) {\n            this.selectedMultiCellCollection.push(cellDetails);\n            this.currentRect.allowCollection = false;\n        }\n        else {\n            for (var i = 0; i < this.multiCellCollection.length; i++) {\n                if (this.multiCellCollection[i].xPosition === cellDetails.xPosition &&\n                    this.multiCellCollection[i].yPosition === cellDetails.yPosition) {\n                    this.currentRect.allowCollection = false;\n                    if (this.selectedCellCount === this.selectedMultiCellCollection.length) {\n                        this.currentRect.allowCollection = false;\n                        if (!this.enableCanvasRendering) {\n                            for (var j = 0; j < this.selectedMultiCellCollection.length; j++) {\n                                var rectElement = this.selectedMultiCellCollection[j].cellElement;\n                                if (rectElement) {\n                                    var index = rectElement.id.replace(this.element.id + '_HeatMapRect_', '');\n                                    // eslint-disable-next-line\n                                    var containerText = document.getElementById(this.element.id + '_Container_TextGroup');\n                                    var elementClassName = rectElement.getAttribute('class');\n                                    rectElement.setAttribute('opacity', '0.3');\n                                    var getText = document.getElementById(this.element.id + '_HeatMapRectLabels_' + index);\n                                    if (getText) {\n                                        getText.setAttribute('opacity', '0.3');\n                                    }\n                                    this.removeSvgClass(rectElement, elementClassName);\n                                }\n                            }\n                        }\n                        else {\n                            var ctx = this.secondaryCanvasRenderer.ctx;\n                            var rect = this.canvasSelectedCells;\n                            ctx.save();\n                            ctx.clearRect(rect.x - 1, rect.y - 1, rect.width + 2, rect.height + 2);\n                            ctx.restore();\n                            this.selectedCellsRect = new Rect(0, 0, 0, 0);\n                        }\n                        this.multiCellCollection.splice(i, 1);\n                    }\n                }\n            }\n        }\n        if (rectPosition.visible && !isNullOrUndefined(rectPosition.value) && this.currentRect.allowCollection === true) {\n            this.multiCellCollection.push(cellDetails);\n        }\n    };\n    /**\n     * To add class for selected cells\n     *\n     * @private\n     */\n    HeatMap.prototype.addSvgClass = function (element) {\n        if (!this.enableCanvasRendering) {\n            var className = this.element.id + '_selected';\n            element.setAttribute('class', className);\n        }\n    };\n    /**\n     * To remove class for unselected cells\n     *\n     * @private\n     */\n    HeatMap.prototype.removeSvgClass = function (rectElement, className) {\n        if (className) {\n            rectElement.setAttribute('class', className.replace(className, ''));\n        }\n    };\n    /**\n     * This method is used to clear the cell selection in the heatmap.\n     * {% codeBlock src='heatmap/clearSelection/index.md' %}{% endcodeBlock %}\n     */\n    HeatMap.prototype.clearSelection = function () {\n        if (!this.enableCanvasRendering && this.allowSelection) {\n            this.clearSVGSelection();\n        }\n        if (this.enableCanvasRendering) {\n            var ctx = this.secondaryCanvasRenderer.ctx;\n            for (var i = 0; i < this.previousSelectedCellsRect.length; i++) {\n                ctx.save();\n                ctx.clearRect(this.previousSelectedCellsRect[i].x - 1, this.previousSelectedCellsRect[i].y - 1, this.previousSelectedCellsRect[i].width + 2, this.previousSelectedCellsRect[i].height + 2);\n                ctx.restore();\n            }\n            for (var i = 0; i < this.multiCellCollection.length; i++) {\n                var rects = this.multiCellCollection[i];\n                if (this.multiCellCollection.length > 0) {\n                    ctx.save();\n                    ctx.clearRect(rects.x - 1, rects.y - 1, rects.width + 2, rects.height + 2);\n                }\n            }\n            var canvas = document.getElementById(this.element.id + '_canvas');\n            canvas.style.opacity = '1';\n        }\n        this.tempMultiCellCollection = [];\n        this.multiCellCollection = [];\n        this.rectSelected = false;\n    };\n    HeatMap.prototype.renderMousePointer = function (pageX, pageY) {\n        var legendRange = this.legendModule.legendRange;\n        var legendTextRange = this.legendModule.legendTextRange;\n        var loop = true;\n        for (var i = 0; i < legendRange.length; i++) {\n            if (this.legendSettings.toggleVisibility && this.legendModule.currentPage === legendRange[i].currentPage) {\n                if ((loop && (pageX >= legendRange[i].x\n                    && pageX <= legendRange[i].width + legendRange[i].x) &&\n                    (pageY >= legendRange[i].y && pageY <= legendRange[i].y + legendRange[i].height) ||\n                    ((this.legendSettings.showLabel && this.legendSettings.labelDisplayType !== 'None' &&\n                        pageX >= legendTextRange[i].x\n                        && pageX <= legendTextRange[i].width + legendTextRange[i].x) &&\n                        (pageY >= legendTextRange[i].y\n                            && pageY <= legendTextRange[i].y + legendTextRange[i].height)))) {\n                    if (this.enableCanvasRendering) {\n                        document.getElementById(this.element.id + '_canvas').style.cursor = 'Pointer';\n                    }\n                    else {\n                        document.getElementById(this.element.id + '_svg').style.cursor = 'Pointer';\n                        var legendLabelTooltipContainer = document.getElementById(this.element.id + 'legendLabelTooltipContainer');\n                        if (!isNullOrUndefined(legendLabelTooltipContainer)) {\n                            legendLabelTooltipContainer.style.cursor = 'Pointer';\n                        }\n                    }\n                    loop = false;\n                }\n                else if (loop) {\n                    if (this.enableCanvasRendering) {\n                        document.getElementById(this.element.id + '_canvas').style.cursor = '';\n                    }\n                    else {\n                        document.getElementById(this.element.id + '_svg').style.cursor = '';\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Handles the mouse end.\n     *\n     * @returns {boolean}\n     * @private\n     */\n    HeatMap.prototype.heatMapMouseLeave = function (e) {\n        var _this = this;\n        if (e.target && e.target.id &&\n            (this.cellSettings.enableCellHighlighting || (this.tooltipModule && this.showTooltip))\n            && !this.enableCanvasRendering) {\n            this.heatMapSeries.highlightSvgRect(this.tempTooltipRectId);\n        }\n        if (this.allowSelection && this.multiSelection) {\n            this.multiSelection = false;\n            if (e.type === 'mouseup' || e.type === 'mouseleave' || e.type === 'touchend' || e.type === 'pointerup') {\n                if (e.which !== 2 && e.which !== 3) {\n                    if (this.isCellTapHold === false) {\n                        var rect = void 0;\n                        var selectionRect = document.getElementById(this.element.id + '_selectedCells');\n                        if (!isNullOrUndefined(selectionRect)) {\n                            var rectBound = selectionRect.getClientRects()[0];\n                            rect = new Rect(rectBound.left, rectBound.top, rectBound.width, rectBound.height);\n                        }\n                        else {\n                            var pageX = void 0;\n                            var pageY = void 0;\n                            var touchArg = void 0;\n                            var elementRect = this.element.getBoundingClientRect();\n                            if (e.type === 'touchend') {\n                                this.isTouch = true;\n                                touchArg = e;\n                                pageY = touchArg.changedTouches[0].clientY;\n                                pageX = touchArg.changedTouches[0].clientX;\n                            }\n                            else {\n                                this.isTouch = false;\n                                pageY = e.clientY;\n                                pageX = e.clientX;\n                            }\n                            pageX -= elementRect.left;\n                            pageY -= elementRect.top;\n                            var x = this.initialCellX > pageX ? pageX : this.initialCellX;\n                            var y = this.initialCellY > pageY ? pageY : this.initialCellY;\n                            rect = new Rect(x - this.initialClipRect.x, y - this.initialClipRect.y, Math.abs(pageX - this.initialCellX) !== 0 ? Math.abs(pageX - this.initialCellX) :\n                                Math.abs(pageY - this.initialCellY), Math.abs(pageY - this.initialCellY));\n                        }\n                        if (!(rect.width > 0 && !this.enableMultiSelect)) {\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            if (e.ctrlKey === false || !this.enableMultiSelect) {\n                                this.removeSelectedCellsBorder();\n                            }\n                            this.getDataCollection();\n                            this.currentRect.allowCollection = false;\n                            this.setCellOpacity();\n                            if (e.type === 'touchend') {\n                                this.tooltipOnMouseMove(null, this.currentRect, true);\n                            }\n                            var argData = {\n                                heatmap: this,\n                                cancel: false,\n                                name: 'cellSelected',\n                                data: this.multiCellCollection\n                            };\n                            this.trigger('cellSelected', argData);\n                        }\n                    }\n                    else {\n                        this.isCellTapHold = false;\n                    }\n                }\n            }\n        }\n        if (this.tooltipModule && this.showTooltip && e.type === 'mouseleave') {\n            this.tooltipModule.showHideTooltip(false);\n        }\n        this.tempTooltipRectId = '';\n        if (this.legendModule && this.legendSettings.visible && this.legendModule.tooltipObject &&\n            this.legendModule.tooltipObject.element) {\n            var tooltipElement_1 = this.legendModule.tooltipObject.element.firstChild;\n            if (e.type === 'mouseleave') {\n                tooltipElement_1.setAttribute('opacity', '0');\n            }\n            else {\n                if (this.legendTooltipTimer) {\n                    window.clearTimeout(this.legendTooltipTimer);\n                }\n                this.legendTooltipTimer = setTimeout(function () {\n                    tooltipElement_1.setAttribute('opacity', '0');\n                }, 1500);\n            }\n        }\n        if (this.paletteSettings.type === 'Gradient' && this.legendModule && this.legendSettings.showGradientPointer &&\n            this.legendSettings.visible && this.legendVisibilityByCellType) {\n            if (e.type === 'mouseleave') {\n                this.legendModule.removeGradientPointer();\n            }\n            else {\n                if (this.gradientTimer) {\n                    window.clearTimeout(this.gradientTimer);\n                }\n                this.gradientTimer = setTimeout(function () { _this.legendModule.removeGradientPointer(); }, 1500);\n            }\n        }\n        if (this.enableCanvasRendering) {\n            var main = document.getElementById(this.element.id + '_hoverRect_canvas');\n            if (main) {\n                main.style.visibility = 'hidden';\n                this.tempRectHoverClass = '';\n            }\n        }\n        if (this.titleSettings.text && this.titleCollection[0].indexOf('...') !== -1) {\n            if (!this.enableCanvasRendering) {\n                removeElement(this.element.id + '_Title_Tooltip');\n            }\n            else {\n                removeElement(this.element.id + '_canvas_Tooltip');\n            }\n        }\n        return true;\n    };\n    /**\n     * Method to Check for deselection of cell.\n     */\n    HeatMap.prototype.checkSelectedCells = function () {\n        if (!this.enableCanvasRendering) {\n            for (var i = 0; i < this.multiCellCollection.length; i++) {\n                for (var j = 0; j < this.selectedMultiCellCollection.length; j++) {\n                    if (this.selectedMultiCellCollection[j].cellElement.getAttribute('id')\n                        === this.multiCellCollection[i].cellElement.getAttribute('id')) {\n                        this.selectedCellCount++;\n                    }\n                }\n            }\n        }\n        else {\n            this.canvasSelectedCells = new Rect(0, 0, 0, 0);\n            this.canvasSelectedCells.x = this.selectedCellsRect.x;\n            this.canvasSelectedCells.y = this.selectedCellsRect.y;\n            this.canvasSelectedCells.width = this.selectedCellsRect.width;\n            this.canvasSelectedCells.height = this.selectedCellsRect.height;\n            for (var i = 0; i < this.multiCellCollection.length; i++) {\n                for (var j = 0; j < this.selectedMultiCellCollection.length; j++) {\n                    if (this.selectedMultiCellCollection[j].xPosition === this.multiCellCollection[i].xPosition &&\n                        this.selectedMultiCellCollection[j].yPosition === this.multiCellCollection[i].yPosition) {\n                        this.selectedCellCount++;\n                    }\n                }\n            }\n            if (this.rectSelected && this.paletteSettings.type === 'Gradient') {\n                this.legendModule.removeGradientPointer();\n            }\n        }\n    };\n    /**\n     * Method to remove opacity for text of selected cell for HeatMap\n     */\n    HeatMap.prototype.removeOpacity = function (containersRect, containerText) {\n        for (var i = 0; i < containersRect.childNodes.length; i++) {\n            containersRect.childNodes[i].setAttribute('opacity', '0.3');\n            if (this.cellSettings.showLabel && containerText.childNodes[i]) {\n                containerText.childNodes[i].setAttribute('opacity', '0.3');\n            }\n        }\n    };\n    /**\n     * Method to set opacity for selected cell for HeatMap\n     */\n    HeatMap.prototype.setCellOpacity = function () {\n        if (!this.enableCanvasRendering) {\n            if (this.multiCellCollection.length !== 0) {\n                this.tempMultiCellCollection.push(this.multiCellCollection);\n                var containersRect = document.getElementById(this.element.id + '_Container_RectGroup');\n                var containerText = document.getElementById(this.element.id + '_Container_TextGroup');\n                this.removeOpacity(containersRect, containerText);\n                for (var i = 0; i < this.multiCellCollection.length; i++) {\n                    var collectionClasss = this.multiCellCollection[i].cellElement;\n                    var index = parseInt(collectionClasss.id.replace(this.element.id + '_HeatMapRect_', ''), 10);\n                    containersRect.childNodes[index].setAttribute('opacity', '1');\n                    if (this.cellSettings.showLabel) {\n                        var getText = document.getElementById(this.element.id + '_HeatMapRectLabels_' + index);\n                        if (getText) {\n                            getText.setAttribute('opacity', '1');\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            this.previousSelectedCellsRect.push(this.selectedCellsRect);\n            this.highlightSelectedAreaInCanvas(this.selectedCellsRect);\n        }\n        removeElement(this.element.id + '_selectedCells');\n    };\n    /**\n     * To create div container for rendering two layers of canvas.\n     *\n     * @returns {void}\n     * @private\n     */\n    HeatMap.prototype.createMultiCellDiv = function (onLoad) {\n        if (onLoad) {\n            var divElement = this.createElement('div', {\n                id: this.element.id + '_Multi_CellSelection_Canvas'\n            });\n            divElement.style.position = 'relative';\n            this.element.appendChild(divElement);\n            divElement.appendChild(this.svgObject);\n            this.svgObject.style.position = 'absolute';\n            this.svgObject.style.left = '0px';\n            this.svgObject.style.top = '0px';\n            this.svgObject.style.zIndex = '0';\n        }\n        else {\n            var element = document.getElementById(this.element.id + '_Multi_CellSelection_Canvas');\n            var secondaryCanvas = this.secondaryCanvasRenderer.createCanvas({\n                width: this.availableSize.width,\n                height: this.availableSize.height, x: 0, y: 0\n            });\n            secondaryCanvas.style.cssText = 'position: absolute; z-index: 1';\n            element.appendChild(secondaryCanvas);\n        }\n    };\n    __decorate([\n        Property(null)\n    ], HeatMap.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], HeatMap.prototype, \"height\", void 0);\n    __decorate([\n        Property(true)\n    ], HeatMap.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"tooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"resized\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"loaded\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"cellRender\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"cellSelected\", void 0);\n    __decorate([\n        Property('SVG')\n    ], HeatMap.prototype, \"renderingMode\", void 0);\n    __decorate([\n        Property(null)\n    ], HeatMap.prototype, \"dataSource\", void 0);\n    __decorate([\n        Complex({}, Data)\n    ], HeatMap.prototype, \"dataSourceSettings\", void 0);\n    __decorate([\n        Property(null)\n    ], HeatMap.prototype, \"backgroundColor\", void 0);\n    __decorate([\n        Property('Material')\n    ], HeatMap.prototype, \"theme\", void 0);\n    __decorate([\n        Property(false)\n    ], HeatMap.prototype, \"allowSelection\", void 0);\n    __decorate([\n        Property(true)\n    ], HeatMap.prototype, \"enableMultiSelect\", void 0);\n    __decorate([\n        Complex({}, Margin)\n    ], HeatMap.prototype, \"margin\", void 0);\n    __decorate([\n        Complex({ text: '', textStyle: Theme.heatMapTitleFont }, Title)\n    ], HeatMap.prototype, \"titleSettings\", void 0);\n    __decorate([\n        Complex({}, Axis)\n    ], HeatMap.prototype, \"xAxis\", void 0);\n    __decorate([\n        Complex({ position: 'Right' }, LegendSettings)\n    ], HeatMap.prototype, \"legendSettings\", void 0);\n    __decorate([\n        Complex({}, PaletteSettings)\n    ], HeatMap.prototype, \"paletteSettings\", void 0);\n    __decorate([\n        Complex({}, TooltipSettings)\n    ], HeatMap.prototype, \"tooltipSettings\", void 0);\n    __decorate([\n        Complex({}, Axis)\n    ], HeatMap.prototype, \"yAxis\", void 0);\n    __decorate([\n        Complex({}, CellSettings)\n    ], HeatMap.prototype, \"cellSettings\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"cellClick\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"cellDoubleClick\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"legendRender\", void 0);\n    HeatMap = __decorate([\n        NotifyPropertyChanges\n    ], HeatMap);\n    return HeatMap;\n}(Component));\nexport { HeatMap };\n"],"names":["stringToNumber","value","containerSize","undefined","indexOf","parseInt","measureText","text","font","htmlObject","document","getElementById","createElement","id","body","appendChild","innerText","style","position","visibility","fontSize","size","fontWeight","fontStyle","fontFamily","top","left","whiteSpace","lineHeight","Size","clientWidth","clientHeight","titlePositionX","width","leftPadding","rightPadding","titleStyle","textAlignment","sum","values","_i","values_1","length","titlePositionY","heatmapSize","topPadding","bottomPadding","height","rotateTextSize","angle","renderer","SvgRenderer","svgObject","createSvg","options","font-size","font-style","toLowerCase","font-family","font-weight","transform","text-anchor","createText","box","getBoundingClientRect","remove","right","bottom","getTitle","title","titleCollection","textOverflow","textWrap","push","textTrim","textNone","currentLabel","maximumWidth","textCollection","split","label","labelCollection","i","len","concat","maxWidth","index","substring","showTooltip","x","y","areaWidth","element","isTouch","heatmap","tooltip","toString","cssText","titleSettings","availableSize","setTimeout","removeElement","getElement","removeMeasureElement","increaseDateTimeInterval","interval","intervalType","increment","result","Date","Math","ceil","setFullYear","getFullYear","setMonth","getMonth","setDate","getDate","setHours","getHours","setMinutes","getMinutes","getTooltipText","tooltipCollection","xPosition","yPosition","region","colorNameToHex","color","isRGBValue","window","getComputedStyle","replace","convertToHexCode","RgbColor","componentToHex","R","G","B","hex","convertHexToColor","exec","formatValue","isCustom","format","tempInterval","formatFun","Theme","heatMapTitleFont","titleFont","axisTitleFont","axisLabelFont","legendLabelFont","rectLabelFont","tooltipFont","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","Font","_super","apply","Property","ChildProperty","Margin","Border","TooltipBorder","BubbleData","Title","Complex","FillColor","PaletteCollection","AxisLabelBorder","BubbleSize","MultiLevelCategories","MultiLevelLabels","type","Collection","ColorCollection","startValue","endValue","minColor","maxColor","BubbleTooltipData","mappingName","bubbleData","valueType","LegendColorCollection","isHidden","MultipleRow","start","end","row","PaletteSettings","g","CellColor","heatMap","convertToRGB","colorMapping","previousColor","nextColor","previousOffset","isColorRange","nextOffset","paletteSettings","offset","Number","colorCollection","dataSourceMinValue","fillColor","dataSourceMaxValue","getEqualColor","percent","isNaN","getPercentageColor","rgbToHex","list","convertToHex","itemColor","substr","colorSplit","previous","next","prevColor","getPercentage","full","round","getColorCollection","legendColorCollection","range","j","palette","minValue","bubbleSizeWithColor","minColorValue","maxValue","maxColorValue","emptyPointColor","themeStyle","emptyCellColor","tempcolorMapping","orderbyOffset","isCompact","offsets","extend","updateLegendColorCollection","isLabel","unshift","returnCollection","PaletterColor","sort","a","isNullOrUndefined","getColorByValue","rbg","compareValue","cellSettings","tileType","bubbleType","singleValue","legendRange","legendVisibilityByCellType","legendModule","visible","toggledColor","colorGradientMode","TextElement","fontModel","fontColor","fill","CustomizeOption","PathOption","opacity","dashArray","_this","call","stroke","parseFloat","CurrentRect","xIndex","yIndex","xValue","yValue","displayText","textId","allowCollection","SelectedCellDetails","xLabel","yLabel","cellElement","RectOption","border","rect","borderColor","rx","ry","CircleOption","cx","cy","Rect","TextOption","basic","labelRotation","baseline","dy","TextBasic","anchor","baseLine","Line","x1","y1","x2","y2","LineOption","line","strokewidth","dasharray","PathAttributes","path","borderWidth","Path","innerR","radius","counterClockWise","DrawSvgCanvas","drawRectangle","properties","parentElement","isFromSeries","enableCanvasRendering","drawCanvasRectangle","canvasRenderer","drawCircle","drawCanvasCircle","drawPath","drawCanvasPath","canvasDrawText","createWrapText","tspanElement","renderOptions","dominant-baseline","createTSpan","drawLine","translateX","translateY","ctx","getOptionValue","save","fillStyle","textAlign","textBaseline","translate","rotate","PI","fillText","restore","setAttributes","canvas","lineWidth","dashArrayString","setLineDash","strokeStyle","canvasCtx","beginPath","globalAlpha","drawCornerRadius","cornerRadius","moveTo","arcTo","closePath","arc","dataSplit","lineTo","Gradient","GradientColor","colorStop","CanvasTooltip","GradientPointer","pathX1","pathY1","pathX2","pathY2","pathX3","pathY3","CurrentLegendRect","LegendRange","currentPage","ToggleVisibility","MultiLevelPosition","Axis","multipleRow","nearSizes","farSizes","maxLabelSize","titleSize","multilevel","axisLabels","tooltipLabels","labelValue","axisLabelSize","axisLabelInterval","dateTimeAxisLabelInterval","maxLength","min","max","isIntersect","jsonCellLabel","multiLevelSize","xAxisMultiLabelHeight","yAxisMultiLabelHeight","multiLevelPosition","computeSize","axis","getTitleSize","getMaxLabelSize","getMultilevelLabelsHeight","multiLevelLabels","multiLevelLabelSize","multiPosition","innerPadding","orientation","level0","level1","isInversed","opposedPosition","labelSize","multiLevel","categoryLabel","categories","size_1","textStyle","gap","startPosition","endPosition","multiLevelLabelsHeight","isVertical","padding","map","heatMapAxis","calculateLeftPosition","calculateWidth","maximumTextWidth","abs","overflow","labels","count","showLabelOn","initialClipRect","labelIntersectAction","enableTrim","startX","previousEnd","previousStart","clearMultipleRow","elementSize","axisInterval","startPoint","endPoint","reverse","labelLength","maxLabelLength","wrappedlabels","labelWidth","wrappedlabelSize","k","calculateNumericAxisLabels","adaptorMin","adaptorMax","adaptorModule","isCellData","adaptiveXMinMax","adaptiveYMinMax","minimum","maximum","temp","labelFormat","match","intl","getNumberFormat","floor","calculateCategoryAxisLabels","calculateDateTimeAxisLabel","option","skeleton","dateParser","getDateParser","dateFormatter","getDateFormat","parse","DataUtil","parseJson","val","getTime","getSkeleton","calculateLabelInterval","getTotalLabelLength","numberOfDays","year","month","day","minutes","difference","days","years","months","hours","clearAxisLabel","AxisHelper","drawSvgCanvas","renderAxes","axisElement","createGroup","axes","axisCollections","drawXAxisLine","drawXAxisTitle","drawXAxisLabels","drawYAxisLine","drawYAxisTitle","drawYAxisLabels","drawMultiLevels","parent","titlepadding","axisTitle","calculateVisibleLabels","axisCollection","data","dataSourceSettings","processLabels","isJsonData","adaptorType","measureAxis","calculateAxisSize","i_1","compactInterval","tempintervel","labelPadding","lableStrtX","labelElement","borderElement","lableRect","wrappedLabel","drawXAxisBorder","rotateSize","yAxis","xAxis","axisLabel","labelInterval","lableStartY","labelRect","axisWidth","indexValue","pop","labelIndex","Browser","isIE","drawYAxisBorder","lableX","endX","endY","startY","endY1","endY2","createAxisBorderElement","lableY","labelBorder","pathOptions","canvasTranslate","renderXAxisMultiLevelLabels","renderYAxisMultiLevelLabels","textLength","pathRect","level","theme","setProperties","alignment","textBasic","i_2","renderXAxisLabelBorder","createBorderElement","renderYAxisLabelBorder","borderIndex","calculateNumberOfDays","date","firstDate","secondDate","givenDate","CellSettings","Series","cellColor","renderRectSeries","createSeriesGroup","isValueInRange","xLength","yLength","tempX","tempY","dataXIndex","dataYIndex","cellSetting","tempWidth","tempHeight","tempVal","tempRectPosition","tempBorder","rectPositionCollection","bubbleColorValue","circleRadius","getBubbleRadius","dataMin","dataMax","setTextAndColor","rectPosition","updateRectDetails","showLabel","getFormatedText","cellRender","cellRendering","renderingMode","renderTileCell","updateLabelVisibleStatus","renderBubbleCell","renderSectorCell","checkLabelXDisplay","checkLabelYDisplay","isFinite","tempCircleRadius","getRadiusBypercentage","rangeSelection","isCellValueInRange","themeCellTextStyle","getSaturatedColor","containerTextObject","containerRectObject","toggleValue","clonedDataSource","bubbleText","xLabels","yLabels","slice","yLabelValue","argData","cancel","name","trigger","adaptData","isColorValueExist","tempBubbleCollection","bubbleDataMapping","cellBorder","bubblePosition","curve","startAngle","endAngle","cX","cY","X1","Y1","tempcX","tempcY","pathBorderWidth","centerX","centerY","tempColor","sectorContibution","cos","sin","sector","calculateShapes","pathString","merge","circle","bubbleSize","valueInPrecentage","isInversedBubbleSize","saturatedColor","rgbValue","backgroundColor","highlightSvgRect","tempID","tempIndex","tempRectHoverClass","enableCellHighlighting","oldElement","rectSelected","setAttribute","getFormat","getCurrentRect","currentRect","firstRectDetails","heatMapSeries","rectX","rectY","hoverXAxisLabel","hoverXAxisValue","hoverYAxisLabel","hoverYAxisValue","TooltipSettings","Tooltip","isFirst","isFadeout","getModuleName","showHideTooltip","isShow","ele","tooltipObject","isRectBoundary","fadeOut","firstChild","destroy","createTooltip","tempTooltipText","select","tooltipSettings","tool","enableAnimation","location","content","template","areaBounds","createTooltipDiv","allowSelection","element2","tooltipElement","getTooltipContent","hetmapSeries","value1","value2","renderTooltip","tooltipRender","tooltipCallback","observedArgs","TwoDimensional","processDataSource","dataSource","tempCloneData","completeDataSource","minVal","maxVal","tempVariable","dataLength","cloneDataIndex","minMaxDatasource","tempSizeArray","tempColorArray","z","processDataArray","minMaxVal","getMinMaxValue","internalArray","tempx","minMaxValue","getMinValue","getMaxValue","performSort","filter","checkmin","LegendSettings","Legend","maxLegendLabelSize","gradientScaleSize","segmentCollections","segmentCollectionsLabels","textWrapCollections","labelCollections","legendSize","previousOptions","listPerPage","numberOfPages","listWidth","fillRect","legendRect","lastList","navigationCollections","pagingRect","listInterval","legendLabelTooltip","legendTitleTooltip","labelXCollections","labelYCollections","legendXCollections","legendYCollections","legendRectPositionCollection","legendTextRange","visibilityCollections","renderLegendItems","legend","rectItems","legendGroup","legendBound","legendRectScale","rectItemsSvg","legendSettings","enableSmartLegend","resizing","legendOnLoad","rendering","clip","grd","ctx_1","horizontalGradient","createLinearGradient","legendMinValue","legendMaxValue","calculateCanvasColorRange","addColorStop","gradientOptions","gradientColor","cgradientColors","calculateColorRange","gradientPercentage","linearGradient","drawGradient","rectItem","renderElements","renderSmartLegend","renderTitle","renderLegendLabel","legendScale","listRect","translategroup","calculateListPerPage","paginggroup","renderListLegendMode","renderColorAxisGrid","gradientColor2","gradientColor3","gradientColor1","heatMapTitle","smartLegendRect","legendX","legendY","legendWidth","legendHeight","labelDisplayType","colorRangeLegendPosition","labelX","labelPosition","dominantBaseline","legendLabel","textWrapWidth","labelY","legendRectPadding","textPosition","lastChild","clippath","createClipPath","clipRect","renderGradientPointer","e","pageX","pageY","direction","legendPath","cellValue","removeGradientPointer","gradientPointer","keys","background","clearRect","calculateLegendBounds","legendEventArg","legendRender","calculateTitleBounds","calculateListLegendBounds","listHeight","perListWidth","numberOfRows","calculateLegendSize","legendTop","axisTitlePadding","axisHeight","margin","calculateGradientScale","measureListLegendBound","maxHeight","renderPagingElements","rightArrowX","rightArrowY","textSize","textX","pagingTextRect","rightArrowRect","iconSize","rightArrow","leftX","leftArrow","leftArrowRect","leftOption","rightOption","arrow","rightarrow","scale","titleHeight","calculateColorAxisGrid","legendPart","maxTextWrapLength","segmentWidth","previousSegmentWidth","nextSegmentWidth","legendElement","renderLegendTitleTooltip","textContent","offsetWidth","renderLegendLabelTooltip","targetId","division","legendEventArgs","rectPosition_1","listColor","translatePage","page","isNext","removeChild","childNodes","secondaryCanvasRenderer","initialRect","rectWidth","rectHeight","oldCanvas","newCanvas","rectImage","getContext","getImageData","putImageData","currentLegendRect","inverted","legendRangeSelection","legendPadding","ctx_2","clearSelection","updateLegendRangeCollections","Data","AdaptiveMinMax","Adaptor","reconstructedXAxis","reconstructedYAxis","constructDatasource","completeAdaptDataSource","processJsonTableData","processJsonCellData","constructAdaptiveAxis","processCellData","getNumericAxisCollection","getDateAxisCollection","loopIndex","tempAxisColl","adapData","dataIndex","xDataIndex","yDataIndex","tempDataCollection","currentDataXIndex","currentDataYIndex","reconstructData","xindex","adaptordata","xAxisLabels","yAxisLabels","generateAxisLabels","getSplitDataValue","xDataMapping","yDataMapping","valueMapping","hasXLabels","hasYLabels","hasLabels","dataMapping","tempSplitDataCollection","tempSplitData","splitIndex","ExportUtils","control","export","fileName","image","controlValue","getControlsValue","isCanvas","attrs","isDownload","userAgent","PdfPageOrientation","Landscape","svgData","svg","outerHTML","url","URL","createObjectURL","Blob","XMLSerializer","serializeToString","info","navigator","msSaveOrOpenBlob","toLocaleLowerCase","triggerDownload","createCanvas","toDataURL","exportPdf","doExport","image_1","Image","onload","drawImage","revokeObjectURL","msToBlob","src","download","href","dispatchEvent","MouseEvent","view","bubbles","cancelable","cloneNode","groupEle","renderMode","refresh","PdfDocument","pageSettings","margins","pdfDefaultWidth","pdfDefaultHeight","imageString","exactWidth","exactHeight","SizeF","pages","add","graphics","PdfBitmap","images","fileType","exportImage","buffers","HTMLElement","image1","byteString","atob","buffer","ArrayBuffer","intArray","Uint8Array","charCodeAt","print","printWindow","open","outerHeight","outerWidth","resizeTo","screen","availWidth","availHeight","getHTMLContent","dataUrl","image_2","div","HeatMap","isCellTapHold","selectedCellCount","multiSelection","previousSelectedCellsRect","multiCellCollection","selectedMultiCellCollection","tempMultiCellCollection","preRender","initPrivateVariable","unWireEvents","wireEvents","CanvasRenderer","twoDimensional","tempTooltipRectId","setCulture","Internationalization","render","updateBubbleHelperProperty","textSettings","initAxis","processInitData","setTheme","calculateMaxLength","calculateBounds","appendSvgObject","tooltipModule","renderComplete","reRenderDatasource","setRenderMode","renderSecondaryElement","renderBorder","getPersistData","onPropertyChanged","newProp","oldProp","refreshBounds","isUpdateSelection","_a","paletteCellSelectionUpdation","refreshBound","updateCellSelection","removeSvg","calculateSize","createMultiCellDiv","tooltipDiv","divElement","requiredModules","modules","member","args","touchInstance","innerHTML","classList","offsetHeight","alignElement","parentNode","tagName","align","containerWidth","titleTooltip","event","axisTooltip","tooltipText","isHeatmapRect","isRect","lastRectDetails","cellTextColor","getThemeColor","titleRect","isIE11Pointer","isPointer","touchStartEvent","stop","touchEndEvent","move","touchMoveEvent","EventHandler","isDevice","heatMapMouseClick","heatMapMouseDoubleClick","heatMapMouseMove","heatMapMouseLeave","resizeEvent","heatMapResize","bind","addEventListener","Touch","tapHold","originalEvent","ctrlKey","enableMultiSelect","removeSelectedCellsBorder","getDataCollection","setCellOpacity","tooltipOnMouseMove","tap","isCellTap","setStyle","touchAction","zoom","userSelect","webkitUserSelect","display","removeEventListener","currentSize","previousSize","resizeTimer","clearTimeout","isDestroyed","wSize","hSize","topPositions","bottomPositions","rightPosition","leftPosition","containersRect","containerText","cellIndex","getText","addSvgClass","clearSVGSelection","elementClassName","getAttribute","removeSvgClass","xAxisMax","yAxisMax","length_1","setMouseXY","svgCanvasRect","mouseX","mouseY","triggerClickEvent","isDoubleClick","touchArg","elementRect","changedTouches","clientY","clientX","notify","loop","toggleVisibility","mouseAction","isheatmapRect","showGradientPointer","renderMousePointer","isshowTooltip","which","cellSelectionOnMouseMove","tooltipRect","previousRect","initialCellX","initialCellY","preventDefault","highlightSelectedCells","tooltipTimer","pXIndex","pYIndex","cXIndex","cYIndex","selectedCellsRect","parentDiv","minX","maxX","minY","maxY","cellX","cellY","getCellCollection","checkSelectedCells","canvasSelectedCells","singleCellData","getSelectedCellData","rects","containerRect","highlightSelectedAreaInCanvas","topPosition","bottomPosition","cellCollection","cellDetails","rectElement","splice","className","cursor","legendLabelTooltipContainer","selectionRect","rectBound","getClientRects","tooltipElement_1","legendTooltipTimer","gradientTimer","main","removeOpacity","collectionClasss","onLoad","zIndex","secondaryCanvas","Event","NotifyPropertyChanges","Component"],"mappings":"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"}