{"version":3,"file":"ej2-ribbon.umd.min.js","sources":["../src/ribbon/base/utils.js","../src/ribbon/base/interface.js","../src/ribbon/models/ribbon-button-settings.js","../src/ribbon/models/ribbon-checkbox-settings.js","../src/ribbon/models/ribbon-colorpicker-settings.js","../src/ribbon/models/ribbon-combobox-settings.js","../src/ribbon/models/ribbon-dropdown-settings.js","../src/ribbon/models/ribbon-splitbutton-settings.js","../src/ribbon/models/ribbon-tooltip.js","../src/ribbon/models/ribbon-item.js","../src/ribbon/models/ribbon-collection.js","../src/ribbon/models/ribbon-group.js","../src/ribbon/models/ribbon-tab.js","../src/ribbon/models/ribbon-file-menu-settings.js","../src/ribbon/base/constant.js","../src/ribbon/items/ribbon-button.js","../src/ribbon/items/ribbon-checkbox.js","../src/ribbon/items/ribbon-colorpicker.js","../src/ribbon/items/ribbon-combobox.js","../src/ribbon/items/ribbon-dropdown.js","../src/ribbon/items/ribbon-splitbutton.js","../src/ribbon/base/ribbon.js","../src/ribbon/modules/ribbon-filemenu.js"],"sourcesContent":["import { compile, getComponent, select } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport { DisplayMode, RibbonLayout } from './interface';\nimport * as constants from './constant';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\n/**\n * Gets index value.\n *\n * @param {Array} arr - Gets the array to find index.\n * @param {boolean} condition - Defines whether index matches with the value.\n * @returns {number} - Gets the index value.\n * @hidden\n */\nexport function getIndex(arr, condition) {\n    for (var i = 0; i < arr.length; i++) {\n        if (condition(arr[parseInt(i.toString(), 10)], i)) {\n            return i;\n        }\n    }\n    return -1;\n}\n/**\n * Gets template content based on the template property value.\n *\n * @param {string | HTMLElement| Function} template - Template property value.\n * @returns {Function} - Return template function.\n * @hidden\n */\nexport function getTemplateFunction(template) {\n    if (typeof template === 'string') {\n        var content = '';\n        try {\n            var tempEle = select(template);\n            if (tempEle) {\n                //Return innerHTML incase of jsrenderer script else outerHTML\n                content = tempEle.tagName === 'SCRIPT' ? tempEle.innerHTML : tempEle.outerHTML;\n            }\n            else {\n                content = template;\n            }\n        }\n        catch (e) {\n            content = template;\n        }\n        return compile(content);\n    }\n    else {\n        /* eslint-disable-next-line  @typescript-eslint/no-explicit-any */\n        return compile(template);\n    }\n}\n/**\n * Gets the ribbon item\n *\n * @param {RibbonTabModel} tabs - Gets the ribbon tab model.\n * @param {string} id - Gets the ID of the tab.\n * @returns {itemProps} - Gets the ribbon item.\n * @hidden\n */\nexport function getItem(tabs, id) {\n    for (var i = 0; i < tabs.length; i++) {\n        var tab = tabs[parseInt(i.toString(), 10)];\n        for (var j = 0; j < tab.groups.length; j++) {\n            var group = tab.groups[parseInt(j.toString(), 10)];\n            for (var k = 0; k < group.collections.length; k++) {\n                var collection = group.collections[parseInt(k.toString(), 10)];\n                for (var l = 0; l < collection.items.length; l++) {\n                    var item = collection.items[parseInt(l.toString(), 10)];\n                    if (item.id === id) {\n                        return {\n                            item: item, collection: collection, group: group,\n                            tabIndex: i, groupIndex: j, collectionIndex: k, itemIndex: l\n                        };\n                    }\n                }\n            }\n        }\n    }\n    return null;\n}\n/**\n * Gets the ribbon collection.\n *\n * @param {RibbonTabModel} tabs - Gets the ribbon tab model.\n * @param {string} id - Gets the ID of the tab.\n * @returns {itemProps} - Gets the ribbon collection.\n * @hidden\n */\nexport function getCollection(tabs, id) {\n    for (var i = 0; i < tabs.length; i++) {\n        var tab = tabs[parseInt(i.toString(), 10)];\n        for (var j = 0; j < tab.groups.length; j++) {\n            var group = tab.groups[parseInt(j.toString(), 10)];\n            for (var k = 0; k < group.collections.length; k++) {\n                var collection = group.collections[parseInt(k.toString(), 10)];\n                if (collection.id === id) {\n                    return {\n                        collection: collection, group: group,\n                        tabIndex: i, groupIndex: j, collectionIndex: k\n                    };\n                }\n            }\n        }\n    }\n    return null;\n}\n/**\n * Gets the ribbon group.\n *\n * @param {RibbonTabModel} tabs - Gets the ribbon tab model.\n * @param {string} id - Gets the ID of the tab.\n * @returns {itemProps} - Gets the ribbon group.\n * @hidden\n */\nexport function getGroup(tabs, id) {\n    for (var i = 0; i < tabs.length; i++) {\n        var tab = tabs[parseInt(i.toString(), 10)];\n        for (var j = 0; j < tab.groups.length; j++) {\n            var group = tab.groups[parseInt(j.toString(), 10)];\n            if (group.id === id) {\n                return {\n                    group: group, tabIndex: i, groupIndex: j\n                };\n            }\n        }\n    }\n    return null;\n}\n/**\n * @param {HTMLElement} element - Gets the element to be destroyed.\n * @param {string} moduleName - Gets the module name.\n * @returns {void}\n * @hidden\n */\nexport function destroyControl(element, moduleName) {\n    var control = getComponent(element, moduleName);\n    control.destroy();\n}\n/**\n * Updates common properties.\n *\n * @param {HTMLElement} element - Gets the element to be updated.\n * @param {string} moduleName - Gets the module name.\n * @param {commonProperties} commonProp - Gets the common properties to be updated.\n * @returns {void}\n * @hidden\n */\nexport function updateCommonProperty(element, moduleName, commonProp) {\n    var control = getComponent(element, moduleName);\n    control.setProperties(commonProp);\n}\n/**\n * Updates disabled control.\n *\n * @param {HTMLElement} element - Gets the element to be disabled.\n * @param {string} moduleName - Gets the module name.\n * @param {boolean} disable - Defines whether the control to be disabled or not.\n * @returns {void}\n * @hidden\n */\nexport function updateControlDisabled(element, moduleName, disable) {\n    var control = getComponent(element, moduleName);\n    control.setProperties(moduleName === 'combobox' ? { enabled: !disable } : { disabled: disable });\n}\n/**\n * Gets the ribbon item element.\n *\n * @param {Ribbon} parent - Gets the parent element.\n * @param {string} id - Gets the ID of the item.\n * @param {itemProps} itemProp - Gets the ribbon item.\n * @returns {HTMLElement} - Gets the ribbon item element.\n * @hidden\n */\nexport function getItemElement(parent, id, itemProp) {\n    if (!itemProp) {\n        itemProp = getItem(parent.tabs, id);\n        if (!itemProp) {\n            return null;\n        }\n    }\n    var contentEle = parent.tabObj.items[itemProp.tabIndex].content;\n    if (contentEle.innerHTML === '') {\n        return null;\n    }\n    if (parent.activeLayout === RibbonLayout.Classic) {\n        if (itemProp.item.displayOptions & DisplayMode.Classic) {\n            contentEle = (itemProp.group.isCollapsed) ? parent.ribbonDropDownModule.getOverflowDropDownPopup(itemProp, contentEle)\n                : contentEle;\n            return contentEle.querySelector('#' + id);\n        }\n        else {\n            return null;\n        }\n    }\n    else {\n        //Checks for Simplified and Auto options (Auto = classic + simplified + popup)\n        var ele = (itemProp.item.displayOptions & DisplayMode.Simplified) ?\n            contentEle.querySelector('#' + itemProp.item.id) : null;\n        // element will be null for \"Popup\" and if the item is moved to overflow in \"Auto\" mode\n        if (!ele) {\n            var dropdown = itemProp.group.enableGroupOverflow ?\n                getComponent(contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID), DropDownButton)\n                : parent.overflowDDB;\n            ele = dropdown.target.querySelector('#' + itemProp.item.id);\n        }\n        return ele;\n    }\n}\n/**\n * @param {RibbonTooltipModel} tooltip - Gets the property of tooltip.\n * @returns {boolean} - Gets whether the tooltip is present or not.\n * @hidden\n */\nexport function isTooltipPresent(tooltip) {\n    return (tooltip.content || tooltip.iconCss || tooltip.title || tooltip.id || tooltip.cssClass) ? true : false;\n}\n/**\n * Sets content for tooltip.\n *\n * @param {TooltipEventArgs} args - Gets the argument of tooltip.\n * @param {Tooltip} tooltip - Gets the tooltip to set the content.\n * @param {ribbonTooltipData} tooltipData - Gets the tooltip data.\n * @returns {void}\n * @hidden\n */\nexport function setToolTipContent(args, tooltip, tooltipData) {\n    var targetId = args.target.getAttribute('id');\n    var dataObj = tooltipData.filter(function (e) { return e.id === targetId; })[0];\n    var data = dataObj.data;\n    var content = tooltip.createElement('div', {\n        id: data.id ? constants.RIBBON_TOOLTIP_CONTAINER + '_' + data.id : constants.RIBBON_TOOLTIP_CONTAINER\n    });\n    tooltip.element.append(content);\n    if (data.title) {\n        var header = tooltip.createElement('div', {\n            innerHTML: data.title,\n            className: constants.RIBBON_TOOLTIP_TITLE\n        });\n        content.appendChild(header);\n    }\n    var textContainer = tooltip.createElement('div', {\n        className: constants.RIBBON_TEXT_CONTAINER\n    });\n    content.appendChild(textContainer);\n    if (data.iconCss) {\n        var customCss = tooltip.createElement('div', {\n            className: data.iconCss + ' ' + constants.RIBBON_TOOLTIP_ICON\n        });\n        textContainer.appendChild(customCss);\n    }\n    if (data.content) {\n        var tooltipContent = tooltip.createElement('div', {\n            innerHTML: data.content,\n            className: constants.RIBBON_TOOLTIP_CONTENT\n        });\n        textContainer.appendChild(tooltipContent);\n    }\n    tooltip.setProperties({\n        content: content,\n        cssClass: data.cssClass ? data.cssClass + ' ' + constants.RIBBON_TOOLTIP : constants.RIBBON_TOOLTIP\n    });\n}\n/**\n * Creates tooltip.\n *\n * @param {HTMLElement} element - Gets the element to add tooltip.\n * @param {Ribbon} ribbon - Gets the ribbon.\n * @returns {void}\n * @hidden\n */\nexport function createTooltip(element, ribbon) {\n    var ribbonTooltip = new Tooltip({\n        target: '.' + constants.RIBBON_TOOLTIP_TARGET,\n        beforeRender: beforeTooltipRender.bind(this),\n        windowCollision: true\n    });\n    ribbonTooltip.appendTo(element);\n    /**\n     * @param {TooltipEventArgs} args - Gets the tooltip argument.\n     * @returns {void}\n     * @hidden\n     */\n    function beforeTooltipRender(args) {\n        setToolTipContent(args, ribbonTooltip, ribbon.tooltipData);\n    }\n}\n/**\n * Destroys tooltip\n *\n * @param {HTMLElement} element - Gets the element in which the tooltip needs to be destroyed.\n * @returns {void}\n * @hidden\n */\nexport function destroyTooltip(element) {\n    var control = getComponent(element, Tooltip);\n    control.destroy();\n}\n/**\n * Updates tooltip\n *\n * @param {HTMLElement} element - Gets the element in which the tooltip needs to be Updated.\n * @param {commonProperties} prop - Gets the property to be updated.\n * @returns {void}\n * @hidden\n */\nexport function updateTooltipProp(element, prop) {\n    var control = getComponent(element, Tooltip);\n    control.setProperties(prop);\n}\n","/**\n * Defines the layout types of ribbon.\n */\nexport var RibbonLayout;\n(function (RibbonLayout) {\n    /**\n     * Displays the ribbon tab content in classic layout.\n     */\n    RibbonLayout[\"Classic\"] = \"Classic\";\n    /**\n     * Displays the ribbon tab content in simplified layout.\n     */\n    RibbonLayout[\"Simplified\"] = \"Simplified\";\n})(RibbonLayout || (RibbonLayout = {}));\n/**\n * Defines the alignment of the items in the ribbon group.\n */\nexport var ItemOrientation;\n(function (ItemOrientation) {\n    /**\n     * Displays the collection of items in rows.\n     */\n    ItemOrientation[\"Row\"] = \"Row\";\n    /**\n     * Displays the collection of items in column.\n     */\n    ItemOrientation[\"Column\"] = \"Column\";\n})(ItemOrientation || (ItemOrientation = {}));\n/**\n * Defines the current size of the ribbon item in normal mode.\n *\n * @aspNumberEnum\n */\nexport var RibbonItemSize;\n(function (RibbonItemSize) {\n    /**\n     * The item appears with large icon and text at the bottom.\n     */\n    RibbonItemSize[RibbonItemSize[\"Large\"] = 4] = \"Large\";\n    /**\n     * The item appears with small icon and text at the right.\n     */\n    RibbonItemSize[RibbonItemSize[\"Medium\"] = 2] = \"Medium\";\n    /**\n     * The item appears with small icon only.\n     */\n    RibbonItemSize[RibbonItemSize[\"Small\"] = 1] = \"Small\";\n})(RibbonItemSize || (RibbonItemSize = {}));\n/**\n * Defines how to show an item in ribbon simplified layout.\n *\n * @aspNumberEnum\n */\nexport var DisplayMode;\n(function (DisplayMode) {\n    /**\n     * The item appears in the classic layout group.\n     */\n    DisplayMode[DisplayMode[\"Classic\"] = 4] = \"Classic\";\n    /**\n     * The item appears in the simplified layout group.\n     */\n    DisplayMode[DisplayMode[\"Simplified\"] = 2] = \"Simplified\";\n    /**\n     * The item appears in overflow popup.\n     */\n    DisplayMode[DisplayMode[\"Overflow\"] = 1] = \"Overflow\";\n    /**\n      * The item appears in classic layout group, simplified layout group, and overflow popup based on ribbon overflow state.\n     */\n    DisplayMode[DisplayMode[\"Auto\"] = 7] = \"Auto\";\n})(DisplayMode || (DisplayMode = {}));\n/**\n * Defines the type of the ribbon item.\n */\nexport var RibbonItemType;\n(function (RibbonItemType) {\n    /**\n     * Renders button as ribbon item.\n     */\n    RibbonItemType[\"Button\"] = \"Button\";\n    /**\n     * Renders checkbox as ribbon item.\n     */\n    RibbonItemType[\"CheckBox\"] = \"CheckBox\";\n    /**\n     * Renders color picker as ribbon item.\n     */\n    RibbonItemType[\"ColorPicker\"] = \"ColorPicker\";\n    /**\n     * Renders combobox as ribbon item.\n     */\n    RibbonItemType[\"ComboBox\"] = \"ComboBox\";\n    /**\n     * Renders dropdownbutton as ribbon item.\n     */\n    RibbonItemType[\"DropDown\"] = \"DropDown\";\n    /**\n     * Renders splitbutton as ribbon item.\n     */\n    RibbonItemType[\"SplitButton\"] = \"SplitButton\";\n    /**\n     * Renders the template content as ribbon item.\n     */\n    RibbonItemType[\"Template\"] = \"Template\";\n})(RibbonItemType || (RibbonItemType = {}));\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Event, Property } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon button item.\n */\nvar RibbonButtonSettings = /** @class */ (function (_super) {\n    __extends(RibbonButtonSettings, _super);\n    function RibbonButtonSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of button.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonButtonSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonButtonSettings.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonButtonSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonButtonSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonButtonSettings.prototype, \"isToggle\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonButtonSettings.prototype, \"isPrimary\", void 0);\n    __decorate([\n        Event()\n    ], RibbonButtonSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonButtonSettings.prototype, \"clicked\", void 0);\n    return RibbonButtonSettings;\n}(ChildProperty));\nexport { RibbonButtonSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Event, Property } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon checkbox item.\n */\nvar RibbonCheckBoxSettings = /** @class */ (function (_super) {\n    __extends(RibbonCheckBoxSettings, _super);\n    function RibbonCheckBoxSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of checkbox.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonCheckBoxSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property(false)\n    ], RibbonCheckBoxSettings.prototype, \"checked\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonCheckBoxSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonCheckBoxSettings.prototype, \"label\", void 0);\n    __decorate([\n        Property('After')\n    ], RibbonCheckBoxSettings.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Event()\n    ], RibbonCheckBoxSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonCheckBoxSettings.prototype, \"change\", void 0);\n    return RibbonCheckBoxSettings;\n}(ChildProperty));\nexport { RibbonCheckBoxSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Event, Property } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon color picker.\n */\nvar RibbonColorPickerSettings = /** @class */ (function (_super) {\n    __extends(RibbonColorPickerSettings, _super);\n    function RibbonColorPickerSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of colorpicker.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonColorPickerSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property(10)\n    ], RibbonColorPickerSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonColorPickerSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonColorPickerSettings.prototype, \"enableOpacity\", void 0);\n    __decorate([\n        Property('Picker')\n    ], RibbonColorPickerSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonColorPickerSettings.prototype, \"modeSwitcher\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonColorPickerSettings.prototype, \"noColor\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonColorPickerSettings.prototype, \"presetColors\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonColorPickerSettings.prototype, \"showButtons\", void 0);\n    __decorate([\n        Property('#008000ff')\n    ], RibbonColorPickerSettings.prototype, \"value\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"beforeTileRender\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], RibbonColorPickerSettings.prototype, \"select\", void 0);\n    return RibbonColorPickerSettings;\n}(ChildProperty));\nexport { RibbonColorPickerSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Event, Property, Complex } from '@syncfusion/ej2-base';\nimport { FieldSettings } from '@syncfusion/ej2-dropdowns';\n/**\n * Defines the ribbon combobox item.\n */\nvar RibbonComboBoxSettings = /** @class */ (function (_super) {\n    __extends(RibbonComboBoxSettings, _super);\n    function RibbonComboBoxSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of combobox.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonComboBoxSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property(false)\n    ], RibbonComboBoxSettings.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonComboBoxSettings.prototype, \"autofill\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonComboBoxSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property([])\n    ], RibbonComboBoxSettings.prototype, \"dataSource\", void 0);\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], RibbonComboBoxSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property('Contains')\n    ], RibbonComboBoxSettings.prototype, \"filterType\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"index\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('No records found')\n    ], RibbonComboBoxSettings.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('300px')\n    ], RibbonComboBoxSettings.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], RibbonComboBoxSettings.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonComboBoxSettings.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property('None')\n    ], RibbonComboBoxSettings.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], RibbonComboBoxSettings.prototype, \"value\", void 0);\n    __decorate([\n        Property('150px')\n    ], RibbonComboBoxSettings.prototype, \"width\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], RibbonComboBoxSettings.prototype, \"select\", void 0);\n    return RibbonComboBoxSettings;\n}(ChildProperty));\nexport { RibbonComboBoxSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Event, Property } from '@syncfusion/ej2-base';\nimport { Item } from '@syncfusion/ej2-splitbuttons';\n/**\n * Defines the ribbon DropDownButton item.\n */\nvar RibbonDropDownSettings = /** @class */ (function (_super) {\n    __extends(RibbonDropDownSettings, _super);\n    function RibbonDropDownSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of DropDown.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonDropDownSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonDropDownSettings.prototype, \"closeActionEvents\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonDropDownSettings.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonDropDownSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonDropDownSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Collection([], Item)\n    ], RibbonDropDownSettings.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonDropDownSettings.prototype, \"target\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], RibbonDropDownSettings.prototype, \"select\", void 0);\n    return RibbonDropDownSettings;\n}(ChildProperty));\nexport { RibbonDropDownSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Event, Property } from '@syncfusion/ej2-base';\nimport { Item } from '@syncfusion/ej2-splitbuttons';\n/**\n * Defines the ribbon SplitButton item.\n */\nvar RibbonSplitButtonSettings = /** @class */ (function (_super) {\n    __extends(RibbonSplitButtonSettings, _super);\n    function RibbonSplitButtonSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of DropDown.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonSplitButtonSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonSplitButtonSettings.prototype, \"closeActionEvents\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonSplitButtonSettings.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonSplitButtonSettings.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonSplitButtonSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Collection([], Item)\n    ], RibbonSplitButtonSettings.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonSplitButtonSettings.prototype, \"target\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"click\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], RibbonSplitButtonSettings.prototype, \"select\", void 0);\n    return RibbonSplitButtonSettings;\n}(ChildProperty));\nexport { RibbonSplitButtonSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property } from '@syncfusion/ej2-base';\n/**\n * Defines the ribbon tooltip.\n */\nvar RibbonTooltip = /** @class */ (function (_super) {\n    __extends(RibbonTooltip, _super);\n    function RibbonTooltip() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], RibbonTooltip.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTooltip.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTooltip.prototype, \"title\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTooltip.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTooltip.prototype, \"iconCss\", void 0);\n    return RibbonTooltip;\n}(ChildProperty));\nexport { RibbonTooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Complex, Property } from '@syncfusion/ej2-base';\nimport { RibbonItemSize, DisplayMode } from '../base/interface';\nimport { RibbonButtonSettings } from './ribbon-button-settings';\nimport { RibbonCheckBoxSettings } from './ribbon-checkbox-settings';\nimport { RibbonColorPickerSettings } from './ribbon-colorpicker-settings';\nimport { RibbonComboBoxSettings } from './ribbon-combobox-settings';\nimport { RibbonDropDownSettings } from './ribbon-dropdown-settings';\nimport { RibbonSplitButtonSettings } from './ribbon-splitbutton-settings';\nimport { RibbonTooltip } from './ribbon-tooltip';\n/**\n * Defines the ribbon item.\n */\nvar RibbonItem = /** @class */ (function (_super) {\n    __extends(RibbonItem, _super);\n    function RibbonItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of item.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonItem.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property(RibbonItemSize.Medium)\n    ], RibbonItem.prototype, \"activeSize\", void 0);\n    __decorate([\n        Property(RibbonItemSize.Small | RibbonItemSize.Medium | RibbonItemSize.Large)\n    ], RibbonItem.prototype, \"allowedSizes\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonItem.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonItem.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonItem.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('Button')\n    ], RibbonItem.prototype, \"type\", void 0);\n    __decorate([\n        Property(DisplayMode.Auto)\n    ], RibbonItem.prototype, \"displayOptions\", void 0);\n    __decorate([\n        Complex({}, RibbonTooltip)\n    ], RibbonItem.prototype, \"ribbonTooltipSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonButtonSettings)\n    ], RibbonItem.prototype, \"buttonSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonDropDownSettings)\n    ], RibbonItem.prototype, \"dropDownSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonCheckBoxSettings)\n    ], RibbonItem.prototype, \"checkBoxSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonColorPickerSettings)\n    ], RibbonItem.prototype, \"colorPickerSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonComboBoxSettings)\n    ], RibbonItem.prototype, \"comboBoxSettings\", void 0);\n    __decorate([\n        Complex({}, RibbonSplitButtonSettings)\n    ], RibbonItem.prototype, \"splitButtonSettings\", void 0);\n    return RibbonItem;\n}(ChildProperty));\nexport { RibbonItem };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Property } from '@syncfusion/ej2-base';\nimport { RibbonItem } from './ribbon-item';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonCollection = /** @class */ (function (_super) {\n    __extends(RibbonCollection, _super);\n    function RibbonCollection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of collection.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonCollection.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonCollection.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonCollection.prototype, \"cssClass\", void 0);\n    __decorate([\n        Collection([], RibbonItem)\n    ], RibbonCollection.prototype, \"items\", void 0);\n    return RibbonCollection;\n}(ChildProperty));\nexport { RibbonCollection };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Property } from '@syncfusion/ej2-base';\nimport { RibbonCollection } from './ribbon-collection';\n/**\n * Defines the ribbon group.\n */\nvar RibbonGroup = /** @class */ (function (_super) {\n    __extends(RibbonGroup, _super);\n    function RibbonGroup() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of Group.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonGroup.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Collection([], RibbonCollection)\n    ], RibbonGroup.prototype, \"collections\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroup.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroup.prototype, \"id\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonGroup.prototype, \"isCollapsed\", void 0);\n    __decorate([\n        Property(true)\n    ], RibbonGroup.prototype, \"isCollapsible\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonGroup.prototype, \"enableGroupOverflow\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroup.prototype, \"groupIconCss\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonGroup.prototype, \"header\", void 0);\n    __decorate([\n        Property('Column')\n    ], RibbonGroup.prototype, \"orientation\", void 0);\n    __decorate([\n        Property(0)\n    ], RibbonGroup.prototype, \"priority\", void 0);\n    __decorate([\n        Property(false)\n    ], RibbonGroup.prototype, \"showLauncherIcon\", void 0);\n    return RibbonGroup;\n}(ChildProperty));\nexport { RibbonGroup };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Collection, Property } from '@syncfusion/ej2-base';\nimport { RibbonGroup } from './ribbon-group';\n/**\n * Defines the ribbon tab.\n */\nvar RibbonTab = /** @class */ (function (_super) {\n    __extends(RibbonTab, _super);\n    function RibbonTab() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of tab.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    RibbonTab.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('')\n    ], RibbonTab.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTab.prototype, \"cssClass\", void 0);\n    __decorate([\n        Collection([], RibbonGroup)\n    ], RibbonTab.prototype, \"groups\", void 0);\n    __decorate([\n        Property('')\n    ], RibbonTab.prototype, \"header\", void 0);\n    return RibbonTab;\n}(ChildProperty));\nexport { RibbonTab };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Event, Complex, Collection } from '@syncfusion/ej2-base';\nimport { MenuAnimationSettings, MenuItem } from '@syncfusion/ej2-navigations';\nimport { RibbonTooltip } from './ribbon-tooltip';\n/**\n * Defines the ribbon file menu settings.\n */\nvar FileMenuSettings = /** @class */ (function (_super) {\n    __extends(FileMenuSettings, _super);\n    function FileMenuSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {Object} prop - Gets the property of FileMenu.\n     * @param {boolean} muteOnChange - Gets the boolean value of muteOnChange.\n     * @returns {void}\n     * @private\n     */\n    FileMenuSettings.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n    };\n    __decorate([\n        Property('File')\n    ], FileMenuSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property(false)\n    ], FileMenuSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], FileMenuSettings.prototype, \"menuItems\", void 0);\n    __decorate([\n        Property(false)\n    ], FileMenuSettings.prototype, \"showItemOnClick\", void 0);\n    __decorate([\n        Complex({}, MenuAnimationSettings)\n    ], FileMenuSettings.prototype, \"animationSettings\", void 0);\n    __decorate([\n        Property('')\n    ], FileMenuSettings.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('')\n    ], FileMenuSettings.prototype, \"popupTemplate\", void 0);\n    __decorate([\n        Complex({}, RibbonTooltip)\n    ], FileMenuSettings.prototype, \"ribbonTooltipSettings\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], FileMenuSettings.prototype, \"select\", void 0);\n    return FileMenuSettings;\n}(ChildProperty));\nexport { FileMenuSettings };\n","/**\n * Specifies the File Manager internal ID's\n */\n/** @hidden */\nexport var ITEM_VERTICAL_CENTER = 'e-ribbon-vertical-center';\n/** @hidden */\nexport var EXPAND_COLLAPSE_ICON = 'e-icons e-drop-icon';\n/** @hidden */\nexport var OVERFLOW_ICON = 'e-icons e-more-horizontal-1';\n/** @hidden */\nexport var VERTICAL_DDB = 'e-vertical';\n/** @hidden */\nexport var DISABLED_CSS = 'e-disabled';\n/** @hidden */\nexport var RTL_CSS = 'e-rtl';\n/** @hidden */\nexport var RIBBON_HOVER = 'e-ribbon-hover';\n/** @hidden */\nexport var RIBBON_CONTROL = 'e-ribbon-control';\n/** @hidden */\nexport var RIBBON_POPUP_CONTROL = 'e-ribbon-popup-control';\n/** @hidden */\nexport var RIBBON_POPUP_OPEN = 'e-ribbon-open';\n/** @hidden */\nexport var SPACE = ' ';\n/** @hidden */\nexport var HORIZONTAL_SCROLLBAR = 'e-hscroll-bar';\n/** @hidden */\nexport var HIDE_CSS = 'e-ribbon-hide';\n/** @hidden */\nexport var RIBBON_TAB = 'e-ribbon-tab';\n/** @hidden */\nexport var RIBBON_TAB_ACTIVE = 'e-ribbon-active';\n/** @hidden */\nexport var RIBBON_TAB_ITEM = 'e-ribbon-tab-item';\n/** @hidden */\nexport var RIBBON_COLLAPSE_BUTTON = 'e-ribbon-collapse-btn';\n/** @hidden */\nexport var RIBBON_EXPAND_BUTTON = 'e-ribbon-expand-btn';\n/** @hidden */\nexport var RIBBON_COLLAPSIBLE = 'e-ribbon-collapsible';\n/** @hidden */\nexport var RIBBON_OVERALL_OF_BUTTON = 'e-ribbon-overall-of-btn';\n/** @hidden */\nexport var RIBBON_GROUP_OF_BUTTON = 'e-ribbon-group-of-btn';\n/** @hidden */\nexport var RIBBON_OVERFLOW_TARGET = 'e-ribbon-overflow-target';\n/** @hidden */\nexport var RIBBON_OVERFLOW = 'e-ribbon-overflow';\n/** @hidden */\nexport var TAB_CONTENT = 'e-content';\n/** @hidden */\nexport var RIBBON_MINIMIZE = 'e-ribbon-minimize';\n/** @hidden */\nexport var RIBBON_GROUP = 'e-ribbon-group';\n/** @hidden */\nexport var RIBBON_GROUP_CONTAINER = 'e-ribbon-group-container';\n/** @hidden */\nexport var RIBBON_OF_TAB_CONTAINER = 'e-ribbon-of-tab';\n/** @hidden */\nexport var RIBBON_OF_GROUP_CONTAINER = 'e-ribbon-of-group-container';\n/** @hidden */\nexport var RIBBON_GROUP_CONTENT = 'e-ribbon-group-content';\n/** @hidden */\nexport var RIBBON_GROUP_HEADER = 'e-ribbon-group-header';\n/** @hidden */\nexport var RIBBON_OVERFLOW_HEADER = 'e-ribbon-overflow-header';\n/** @hidden */\nexport var RIBBON_GROUP_OVERFLOW = 'e-ribbon-group-overflow';\n/** @hidden */\nexport var RIBBON_GROUP_OVERFLOW_DDB = 'e-ribbon-group-overflow-ddb';\n/** @hidden */\nexport var RIBBON_LAUNCHER = 'e-ribbon-launcher';\n/** @hidden */\nexport var RIBBON_LAUNCHER_ICON_ELE = 'e-ribbon-launcher-icon';\n/** @hidden */\nexport var RIBBON_LAUNCHER_ICON = 'e-icons e-launcher';\n/** @hidden */\nexport var RIBBON_COLLECTION = 'e-ribbon-collection';\n/** @hidden */\nexport var RIBBON_ITEM = 'e-ribbon-item';\n/** @hidden */\nexport var RIBBON_ROW = 'e-ribbon-row';\n/** @hidden */\nexport var RIBBON_COLUMN = 'e-ribbon-column';\n/** @hidden */\nexport var RIBBON_LARGE_ITEM = 'e-ribbon-large-item';\n/** @hidden */\nexport var RIBBON_MEDIUM_ITEM = 'e-ribbon-medium-item';\n/** @hidden */\nexport var RIBBON_SMALL_ITEM = 'e-ribbon-small-item';\n/** @hidden */\nexport var RIBBON_CONTENT_HEIGHT = 'e-ribbon-content-height';\n/** @hidden */\nexport var DROPDOWNBUTTON = 'e-dropdown-btn';\n/** @hidden */\nexport var DROPDOWNBUTTON_HIDE = 'e-caret-hide';\n/** @hidden */\nexport var RIBBON_TEMPLATE = 'e-ribbon-template';\n/** @hidden */\nexport var RIBBON_HELP_TEMPLATE = 'e-ribbon-help-template';\n/** @hidden */\nexport var RIBBON_TOOLTIP = 'e-ribbon-tooltip';\n/** @hidden */\nexport var RIBBON_TOOLTIP_TARGET = 'e-ribbon-tooltip-target';\n/** @hidden */\nexport var RIBBON_TOOLTIP_TITLE = 'e-ribbon-tooltip-title';\n/** @hidden */\nexport var RIBBON_TOOLTIP_CONTENT = 'e-ribbon-tooltip-content';\n/** @hidden */\nexport var RIBBON_TOOLTIP_ICON = 'e-ribbon-tooltip-icon';\n/** @hidden */\nexport var RIBBON_TOOLTIP_CONTAINER = 'e-ribbon-tooltip-container';\n/** @hidden */\nexport var RIBBON_TEXT_CONTAINER = 'e-ribbon-text-container';\n/** @hidden */\nexport var RIBBON_SIMPLIFIED_MODE = 'e-ribbon-simplified-mode';\n/** @hidden */\nexport var TAB_ID = '_tab';\n/** @hidden */\nexport var GROUP_ID = '_group';\n/** @hidden */\nexport var COLLECTION_ID = '_collection';\n/** @hidden */\nexport var ITEM_ID = '_item';\n/** @hidden */\nexport var COLLAPSE_BUTTON_ID = '_collapsebutton';\n/** @hidden */\nexport var OVRLOF_BUTTON_ID = '_sim_ovrl_overflow';\n/** @hidden */\nexport var GROUPOF_BUTTON_ID = '_sim_grp_overflow';\n/** @hidden */\nexport var HEADER_ID = '_header';\n/** @hidden */\nexport var LAUNCHER_ID = '_launcher';\n/** @hidden */\nexport var CONTENT_ID = '_content';\n/** @hidden */\nexport var CONTAINER_ID = '_container';\n/** @hidden */\nexport var OVERFLOW_ID = '_overflow';\n/** @hidden */\nexport var DROPDOWN_ID = '_dropdown';\n/** @hidden */\nexport var RIBBON_FILE_MENU_ID = '_filemenu';\n/** @hidden */\nexport var RIBBON_FILE_MENU_LIST = '_filemenulist';\n/** @hidden */\nexport var RIBBON_HELP_PANE_TEMPLATE_ID = '_helppanetemplate';\n/** @hidden */\nexport var RIBBON_FILE_MENU_WIDTH = '--fileMenuWidth';\n/** @hidden */\nexport var RIBBON_HELP_PANE_TEMPLATE_WIDTH = '--helpTemplateWidth';\n","import { getComponent, merge } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { getItem, getItemElement, RibbonItemSize } from '../base/index';\nimport { ITEM_VERTICAL_CENTER, RIBBON_CONTROL, RIBBON_POPUP_CONTROL, SPACE } from '../base/constant';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonButton = /** @class */ (function () {\n    function RibbonButton(parent) {\n        this.parent = parent;\n    }\n    RibbonButton.prototype.getModuleName = function () {\n        return 'ribbonButton';\n    };\n    RibbonButton.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates button.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonButton.prototype.createButton = function (item, itemEle) {\n        var _this = this;\n        var buttonEle = this.parent.createElement('button', {\n            id: item.id\n        });\n        itemEle.appendChild(buttonEle);\n        var btnSettings = item.buttonSettings;\n        new Button({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left',\n            iconCss: btnSettings.iconCss,\n            disabled: item.disabled,\n            cssClass: (ITEM_VERTICAL_CENTER + SPACE + RIBBON_CONTROL + SPACE + (btnSettings.cssClass ? btnSettings.cssClass : '')).trim(),\n            content: item.activeSize === RibbonItemSize.Small ? '' : btnSettings.content,\n            isPrimary: btnSettings.isPrimary,\n            isToggle: btnSettings.isToggle,\n            created: btnSettings.created\n        }, buttonEle);\n        buttonEle.onclick = function (e) {\n            if (btnSettings.clicked) {\n                btnSettings.clicked.call(_this, e);\n            }\n        };\n        buttonEle.setAttribute('aria-label', btnSettings.content);\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonButton.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var buttonEle = itemEle.querySelector('#' + item.id);\n        buttonEle.setAttribute('data-control', item.type.toString());\n        var buttonObj = getComponent(buttonEle, Button);\n        buttonObj.setProperties({ cssClass: buttonObj.cssClass + SPACE + RIBBON_POPUP_CONTROL });\n        buttonEle.onclick = function (e) {\n            if (item.buttonSettings.clicked) {\n                item.buttonSettings.clicked.call(_this, e);\n            }\n            overflowButton.toggle();\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonButton.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var buttonEle = itemEle.querySelector('#' + item.id);\n        var buttonObj = getComponent(buttonEle, Button);\n        var cssClass = buttonObj.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        buttonObj.setProperties({ cssClass: cssClass.join(SPACE) });\n        buttonEle.onclick = function (e) {\n            if (item.buttonSettings.clicked) {\n                item.buttonSettings.clicked.call(_this, e);\n            }\n        };\n    };\n    /**\n     * Triggers the click action on the button.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @returns {void}\n     */\n    RibbonButton.prototype.click = function (controlId) {\n        var buttonEle = getItemElement(this.parent, controlId);\n        if (!buttonEle) {\n            return;\n        }\n        var buttonObj = getComponent(buttonEle, Button);\n        buttonObj.click();\n    };\n    /**\n     * Updates the button properties.\n     *\n     * @param {RibbonButtonSettingsModel} prop - Gets the button property.\n     * @param {string} id - Gets the ID of button item.\n     * @returns {void}\n     */\n    RibbonButton.prototype.updateButton = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.buttonSettings, prop);\n        var buttonEle = getItemElement(this.parent, id, itemProp);\n        if (!buttonEle) {\n            return;\n        }\n        var buttonObj = getComponent(buttonEle, Button);\n        if (prop.cssClass) {\n            prop.cssClass = (ITEM_VERTICAL_CENTER + SPACE + RIBBON_CONTROL + SPACE + prop.cssClass).trim();\n        }\n        if (prop.content) {\n            prop.content = itemProp.item.activeSize === RibbonItemSize.Small ? '' : prop.content;\n            buttonEle.setAttribute('aria-label', prop.content);\n        }\n        delete prop.clicked;\n        buttonObj.setProperties(prop);\n    };\n    /**\n     * Updates the button size.\n     *\n     * @param {HTMLElement} element - Gets the button element.\n     * @param {RibbonItemModel} item - Gets the ribbon item.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonButton.prototype.updateButtonSize = function (element, item) {\n        var buttonObj = getComponent(element, Button);\n        buttonObj.setProperties({\n            iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left',\n            content: item.activeSize === RibbonItemSize.Small ? '' : item.buttonSettings.content\n        });\n    };\n    return RibbonButton;\n}());\nexport { RibbonButton };\n","import { getComponent, merge } from '@syncfusion/ej2-base';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\nimport { getItem, getItemElement, RIBBON_CONTROL, SPACE, RIBBON_POPUP_CONTROL } from '../base/index';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonCheckBox = /** @class */ (function () {\n    function RibbonCheckBox(parent) {\n        this.parent = parent;\n    }\n    RibbonCheckBox.prototype.getModuleName = function () {\n        return 'ribbonCheckBox';\n    };\n    RibbonCheckBox.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates the check box.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonCheckBox.prototype.createCheckBox = function (item, itemEle) {\n        var _this = this;\n        var inputEle = this.parent.createElement('input', {\n            id: item.id\n        });\n        itemEle.appendChild(inputEle);\n        var checkBoxSettings = item.checkBoxSettings;\n        new CheckBox({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            checked: checkBoxSettings.checked,\n            cssClass: (RIBBON_CONTROL + SPACE + (checkBoxSettings.cssClass ? checkBoxSettings.cssClass : '')).trim(),\n            label: checkBoxSettings.label,\n            labelPosition: checkBoxSettings.labelPosition,\n            disabled: item.disabled,\n            created: checkBoxSettings.created,\n            change: function (e) {\n                if (checkBoxSettings.change) {\n                    checkBoxSettings.change.call(_this, e);\n                }\n            }\n        }, inputEle);\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonCheckBox.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var inputEle = itemEle.querySelector('#' + item.id);\n        inputEle.setAttribute('data-control', item.type.toString());\n        var checkBoxObj = getComponent(inputEle, CheckBox);\n        checkBoxObj.cssClass = checkBoxObj.cssClass + SPACE + RIBBON_POPUP_CONTROL;\n        checkBoxObj.dataBind();\n        checkBoxObj.change = function (e) {\n            if (item.checkBoxSettings.change) {\n                item.checkBoxSettings.change.call(_this, e);\n            }\n            overflowButton.toggle();\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonCheckBox.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var inputEle = itemEle.querySelector('#' + item.id);\n        var checkBoxObj = getComponent(inputEle, CheckBox);\n        var cssClass = checkBoxObj.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        checkBoxObj.cssClass = cssClass.join(SPACE);\n        checkBoxObj.dataBind();\n        checkBoxObj.change = function (e) {\n            if (item.checkBoxSettings.change) {\n                item.checkBoxSettings.change.call(_this, e);\n            }\n        };\n    };\n    /**\n     * Triggers the click action on the Checkbox.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @returns {void}\n     */\n    RibbonCheckBox.prototype.click = function (controlId) {\n        var inputEle = getItemElement(this.parent, controlId);\n        if (!inputEle) {\n            return;\n        }\n        var checkBoxObj = getComponent(inputEle, CheckBox);\n        checkBoxObj.click();\n    };\n    /**\n     * Updates the checkbox.\n     *\n     * @param {RibbonCheckBoxSettingsModel} prop - Gets the checkbox property.\n     * @param {string} id - Gets the ID of checkbox.\n     * @returns {void}\n     */\n    RibbonCheckBox.prototype.updateCheckBox = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.checkBoxSettings, prop);\n        var inputEle = getItemElement(this.parent, id, itemProp);\n        if (!inputEle) {\n            return;\n        }\n        if (prop.cssClass) {\n            prop.cssClass = (RIBBON_CONTROL + SPACE + prop.cssClass).trim();\n        }\n        delete prop.change;\n        var checkBoxObj = getComponent(inputEle, CheckBox);\n        checkBoxObj.setProperties(prop);\n    };\n    return RibbonCheckBox;\n}());\nexport { RibbonCheckBox };\n","import { EventHandler, getComponent, merge } from '@syncfusion/ej2-base';\nimport { ColorPicker } from '@syncfusion/ej2-inputs';\nimport { getItem, getItemElement } from '../base/index';\nimport { RIBBON_CONTROL, RIBBON_HOVER, RIBBON_POPUP_CONTROL, RIBBON_POPUP_OPEN, SPACE } from '../base/constant';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonColorPicker = /** @class */ (function () {\n    function RibbonColorPicker(parent) {\n        this.parent = parent;\n    }\n    RibbonColorPicker.prototype.getModuleName = function () {\n        return 'ribbonColorPicker';\n    };\n    RibbonColorPicker.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates the colorpicker.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonColorPicker.prototype.createColorPicker = function (item, itemEle) {\n        var _this = this;\n        var inputEle = this.parent.createElement('input', {\n            id: item.id\n        });\n        itemEle.appendChild(inputEle);\n        var colorPickerSettings = item.colorPickerSettings;\n        var colorPicker = new ColorPicker({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            columns: colorPickerSettings.columns,\n            cssClass: (RIBBON_CONTROL + SPACE + (colorPickerSettings.cssClass ? colorPickerSettings.cssClass : '')).trim(),\n            disabled: item.disabled,\n            enableOpacity: colorPickerSettings.enableOpacity,\n            mode: colorPickerSettings.mode,\n            modeSwitcher: colorPickerSettings.modeSwitcher,\n            noColor: colorPickerSettings.noColor,\n            presetColors: colorPickerSettings.presetColors,\n            showButtons: colorPickerSettings.showButtons,\n            value: colorPickerSettings.value,\n            beforeClose: function () {\n                colorPicker.element.parentElement.classList.remove(RIBBON_POPUP_OPEN);\n                if (colorPickerSettings.beforeClose) {\n                    colorPickerSettings.beforeClose.call(_this);\n                }\n            },\n            beforeOpen: colorPickerSettings.beforeOpen,\n            beforeTileRender: colorPickerSettings.beforeTileRender,\n            created: colorPickerSettings.created,\n            change: colorPickerSettings.change,\n            open: function () {\n                colorPicker.element.parentElement.classList.add(RIBBON_POPUP_OPEN);\n                if (colorPickerSettings.open) {\n                    colorPickerSettings.open.call(_this);\n                }\n            },\n            select: colorPickerSettings.select\n        }, inputEle);\n        var wrapper = colorPicker.element.parentElement;\n        EventHandler.add(wrapper, 'mouseenter', this.toggleWrapperHover.bind(this, wrapper, true), this);\n        EventHandler.add(wrapper, 'mouseleave', this.toggleWrapperHover.bind(this, wrapper, false), this);\n    };\n    RibbonColorPicker.prototype.toggleWrapperHover = function (wrapper, isAdd) {\n        if (isAdd) {\n            wrapper.classList.add(RIBBON_HOVER);\n        }\n        else {\n            wrapper.classList.remove(RIBBON_HOVER);\n        }\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonColorPicker.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var colorPickerEle = itemEle.querySelector('#' + item.id);\n        colorPickerEle.setAttribute('data-control', item.type.toString());\n        var colorPickerObj = getComponent(colorPickerEle, ColorPicker);\n        colorPickerObj.setProperties({ cssClass: colorPickerObj.cssClass + SPACE + RIBBON_POPUP_CONTROL });\n        //Accessing the private property 'splitBtn' of ColorPicker component to get the colorpicker instance as there is no close event in colorpicker.\n        var splitBtn = colorPickerObj['splitBtn'];\n        var target;\n        colorPickerObj.beforeClose = function (e) {\n            target = e.event ? e.event.target : null;\n            colorPickerObj.element.parentElement.classList.remove(RIBBON_POPUP_OPEN);\n            if (item.colorPickerSettings.beforeClose) {\n                item.colorPickerSettings.beforeClose.call(_this);\n            }\n        };\n        splitBtn.close = function () {\n            if (target && !target.closest('.e-ribbon-group-overflow-ddb')) {\n                overflowButton.toggle();\n            }\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonColorPicker.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var colorPickerEle = itemEle.querySelector('#' + item.id);\n        var colorPickerObj = getComponent(colorPickerEle, ColorPicker);\n        var cssClass = colorPickerObj.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        colorPickerObj.setProperties({ cssClass: cssClass.join(SPACE) });\n        var splitBtn = colorPickerObj['splitBtn'];\n        //Accessing the private property 'splitBtn' of ColorPicker component to get the colorpicker instance as there is no close event in colorpicker.\n        splitBtn.close = null;\n        colorPickerObj.beforeClose = function (e) {\n            colorPickerObj.element.parentElement.classList.remove(RIBBON_POPUP_OPEN);\n            if (item.colorPickerSettings.beforeClose) {\n                item.colorPickerSettings.beforeClose.call(_this);\n            }\n        };\n    };\n    RibbonColorPicker.prototype.getColorPickerObj = function (controlId) {\n        var inputEle = getItemElement(this.parent, controlId);\n        return inputEle ? getComponent(inputEle, ColorPicker) : null;\n    };\n    /**\n     * Gets color value in specified type.\n     *\n     * @param {string} controlId -Gets the control ID.\n     * @param {string} value - Specify the color value.\n     * @param {string} type - Specify the type to which the specified color needs to be converted.\n     * @returns {string} - Returns string.\n     */\n    RibbonColorPicker.prototype.getValue = function (controlId, value, type) {\n        var colorPickerObj = this.getColorPickerObj(controlId);\n        return colorPickerObj ? colorPickerObj.getValue(value, type) : '';\n    };\n    /**\n     * To show/hide ColorPicker popup based on current state of the SplitButton.\n     *\n     * @param {string} controlId - set the id of the control.\n     * @returns {void} - Returns void.\n     */\n    RibbonColorPicker.prototype.toggle = function (controlId) {\n        var colorPickerObj = this.getColorPickerObj(controlId);\n        if (!colorPickerObj) {\n            return;\n        }\n        colorPickerObj.toggle();\n    };\n    /**\n     * Updates the colorpicker properties.\n     *\n     * @param {RibbonColorPickerSettingsModel} prop - Gets the colorpicker property.\n     * @param {string} id - Gets the ID of colorpicker.\n     * @returns {void}\n     */\n    RibbonColorPicker.prototype.updateColorPicker = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.checkBoxSettings, prop);\n        var inputEle = getItemElement(this.parent, id, itemProp);\n        if (!inputEle) {\n            return;\n        }\n        if (prop.cssClass) {\n            prop.cssClass = (RIBBON_CONTROL + SPACE + prop.cssClass).trim();\n        }\n        delete prop.beforeClose;\n        delete prop.open;\n        var colorPickerObj = getComponent(inputEle, ColorPicker);\n        colorPickerObj.setProperties(prop);\n    };\n    /**\n     * @param {HTMLElement} element - Gets the colorpicker element to be destroyed.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonColorPicker.prototype.unwireColorPickerEvents = function (element) {\n        var colorPickerObj = getComponent(element, ColorPicker);\n        var wrapper = colorPickerObj.element.parentElement;\n        EventHandler.remove(wrapper, 'mouseenter', this.toggleWrapperHover);\n        EventHandler.remove(wrapper, 'mouseleave', this.toggleWrapperHover);\n    };\n    return RibbonColorPicker;\n}());\nexport { RibbonColorPicker };\n","import { getComponent, merge } from '@syncfusion/ej2-base';\nimport { ComboBox } from '@syncfusion/ej2-dropdowns';\nimport { getItem, getItemElement, RIBBON_CONTROL, SPACE, RIBBON_POPUP_CONTROL } from '../base/index';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonComboBox = /** @class */ (function () {\n    function RibbonComboBox(parent) {\n        this.parent = parent;\n    }\n    RibbonComboBox.prototype.getModuleName = function () {\n        return 'ribbonComboBox';\n    };\n    RibbonComboBox.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates the combobox.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonComboBox.prototype.createComboBox = function (item, itemEle) {\n        var _this = this;\n        var inputEle = this.parent.createElement('input', {\n            id: item.id\n        });\n        itemEle.appendChild(inputEle);\n        var comboBoxSettings = item.comboBoxSettings;\n        new ComboBox({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            allowCustom: false,\n            floatLabelType: 'Never',\n            ignoreAccent: true,\n            ignoreCase: true,\n            allowFiltering: comboBoxSettings.allowFiltering,\n            autofill: comboBoxSettings.autofill,\n            cssClass: (RIBBON_CONTROL + SPACE + (comboBoxSettings.cssClass ? comboBoxSettings.cssClass : '')).trim(),\n            dataSource: comboBoxSettings.dataSource,\n            enabled: !item.disabled,\n            fields: comboBoxSettings.fields,\n            filterType: comboBoxSettings.filterType,\n            footerTemplate: comboBoxSettings.footerTemplate,\n            groupTemplate: comboBoxSettings.groupTemplate,\n            headerTemplate: comboBoxSettings.headerTemplate,\n            index: comboBoxSettings.index,\n            itemTemplate: comboBoxSettings.itemTemplate,\n            noRecordsTemplate: comboBoxSettings.noRecordsTemplate,\n            placeholder: comboBoxSettings.placeholder,\n            popupHeight: comboBoxSettings.popupHeight,\n            popupWidth: comboBoxSettings.popupWidth,\n            showClearButton: comboBoxSettings.showClearButton,\n            sortOrder: comboBoxSettings.sortOrder,\n            text: comboBoxSettings.text,\n            value: comboBoxSettings.value,\n            width: comboBoxSettings.width,\n            beforeOpen: comboBoxSettings.beforeOpen,\n            open: comboBoxSettings.open,\n            close: function (e) {\n                if (comboBoxSettings.close) {\n                    comboBoxSettings.close.call(_this, e);\n                }\n            },\n            filtering: comboBoxSettings.filtering,\n            change: comboBoxSettings.change,\n            select: comboBoxSettings.select,\n            created: comboBoxSettings.created\n        }, inputEle);\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonComboBox.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var inputEle = itemEle.querySelector('#' + item.id);\n        inputEle.setAttribute('data-control', item.type.toString());\n        var comboBoxObj = getComponent(inputEle, ComboBox);\n        comboBoxObj.setProperties({ cssClass: comboBoxObj.cssClass + SPACE + RIBBON_POPUP_CONTROL });\n        comboBoxObj.close = function (e) {\n            var target = e.event ? e.event.target : null;\n            if (item.comboBoxSettings.close) {\n                item.comboBoxSettings.close.call(_this, e);\n            }\n            if (target && !target.closest('.e-ribbon-group-overflow-ddb')) {\n                overflowButton.toggle();\n            }\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonComboBox.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var inputEle = itemEle.querySelector('#' + item.id);\n        var comboBoxObj = getComponent(inputEle, ComboBox);\n        var cssClass = comboBoxObj.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        comboBoxObj.setProperties({ cssClass: cssClass.join(SPACE) });\n        comboBoxObj.close = function (e) {\n            if (item.comboBoxSettings.close) {\n                item.comboBoxSettings.close.call(_this, e);\n            }\n        };\n    };\n    RibbonComboBox.prototype.getComboBoxObj = function (controlId) {\n        var inputEle = getItemElement(this.parent, controlId);\n        return inputEle ? getComponent(inputEle, ComboBox) : null;\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param  {string } controlId - set the id of the control in which methods needs to be called.\n     * @param  {Object[] } dataSource - Set the data source to filter.\n     * @param  {Query} query - Specify the query to filter the data.\n     * @param  {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n     */\n    RibbonComboBox.prototype.filter = function (controlId, dataSource, query, fields) {\n        this.getComboBoxObj(controlId).filter(dataSource, query, fields);\n    };\n    /**\n     * To open/close DropDownButton popup based on current state of the combobox.\n     *\n     * @param {string} controlId - Gets the id of the control.\n     * @returns {void}\n     */\n    RibbonComboBox.prototype.hidePopup = function (controlId) {\n        var comboBoxObj = this.getComboBoxObj(controlId);\n        if (!comboBoxObj) {\n            return;\n        }\n        comboBoxObj.hidePopup();\n    };\n    /**\n     * To open/close DropDownButton popup based on current state of the combobox.\n     *\n     * @param {string} controlId - Gets the id of the control.\n     * @returns {void}\n     */\n    RibbonComboBox.prototype.showPopup = function (controlId) {\n        var comboBoxObj = this.getComboBoxObj(controlId);\n        if (!comboBoxObj) {\n            return;\n        }\n        comboBoxObj.showPopup();\n    };\n    /**\n     * Updates the combobox properties.\n     *\n     * @param {RibbonComboBoxSettingsModel} prop - Gets the combobox property.\n     * @param {string} id - Gets the ID of combobox.\n     * @returns {void}\n     */\n    RibbonComboBox.prototype.updateComboBox = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.comboBoxSettings, prop);\n        var inputEle = getItemElement(this.parent, id, itemProp);\n        if (!inputEle) {\n            return;\n        }\n        if (prop.cssClass) {\n            prop.cssClass = (RIBBON_CONTROL + SPACE + prop.cssClass).trim();\n        }\n        delete prop.close;\n        var comboBoxObj = getComponent(inputEle, ComboBox);\n        comboBoxObj.setProperties(prop);\n    };\n    return RibbonComboBox;\n}());\nexport { RibbonComboBox };\n","import { closest, getComponent, isNullOrUndefined, merge, remove } from '@syncfusion/ej2-base';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport { getItem, getItemElement, RibbonItemSize, createTooltip } from '../base/index';\nimport { DROPDOWN_ID, ITEM_VERTICAL_CENTER, OVERFLOW_ID, RIBBON_CONTROL, RIBBON_GROUP_OVERFLOW_DDB, RIBBON_POPUP_CONTROL, SPACE, VERTICAL_DDB } from '../base/constant';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonDropDown = /** @class */ (function () {\n    function RibbonDropDown(parent) {\n        this.parent = parent;\n    }\n    RibbonDropDown.prototype.getModuleName = function () {\n        return 'ribbonDropDown';\n    };\n    RibbonDropDown.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates DropDown.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.createDropDown = function (item, itemEle) {\n        var _this = this;\n        var buttonEle = this.parent.createElement('button', {\n            id: item.id\n        });\n        itemEle.appendChild(buttonEle);\n        var dropDownSettings = item.dropDownSettings;\n        var cssClass = (ITEM_VERTICAL_CENTER + SPACE + RIBBON_CONTROL + SPACE + (dropDownSettings.cssClass ?\n            dropDownSettings.cssClass : '')).trim();\n        new DropDownButton({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left',\n            closeActionEvents: dropDownSettings.closeActionEvents,\n            content: item.activeSize === RibbonItemSize.Small ? '' : dropDownSettings.content,\n            cssClass: cssClass + ((item.activeSize === RibbonItemSize.Large) ? (SPACE + VERTICAL_DDB) : ''),\n            disabled: item.disabled,\n            iconCss: dropDownSettings.iconCss,\n            items: dropDownSettings.items,\n            target: dropDownSettings.target,\n            beforeClose: function (e) {\n                if (dropDownSettings.beforeClose) {\n                    dropDownSettings.beforeClose.call(_this, e);\n                }\n            },\n            beforeItemRender: dropDownSettings.beforeItemRender,\n            beforeOpen: dropDownSettings.beforeOpen,\n            close: function (e) {\n                if (dropDownSettings.close) {\n                    dropDownSettings.close.call(_this, e);\n                }\n            },\n            created: dropDownSettings.created,\n            open: dropDownSettings.open,\n            select: dropDownSettings.select\n        }, buttonEle);\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var dropdownElement = itemEle.querySelector('#' + item.id);\n        dropdownElement.setAttribute('data-control', item.type.toString());\n        var dropdown = getComponent(dropdownElement, DropDownButton);\n        dropdown.cssClass = dropdown.cssClass + SPACE + RIBBON_POPUP_CONTROL;\n        dropdown.dataBind();\n        var target;\n        dropdown.beforeClose = function (e) {\n            if (item.dropDownSettings.beforeClose) {\n                item.dropDownSettings.beforeClose.call(_this, e);\n            }\n            target = e.event ? e.event.target : null;\n        };\n        dropdown.close = function (e) {\n            if (item.dropDownSettings.close) {\n                item.dropDownSettings.close.call(_this, e);\n            }\n            if (target && !target.closest('.e-ribbon-group-overflow-ddb')) {\n                overflowButton.toggle();\n            }\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var dropdownElement = itemEle.querySelector('#' + item.id);\n        var dropdown = getComponent(dropdownElement, DropDownButton);\n        var cssClass = dropdown.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        dropdown.cssClass = cssClass.join(SPACE);\n        dropdown.dataBind();\n        dropdown.close = function (e) {\n            if (item.dropDownSettings.close) {\n                item.dropDownSettings.close.call(_this, e);\n            }\n        };\n        dropdown.beforeClose = function (e) {\n            if (item.dropDownSettings.beforeClose) {\n                item.dropDownSettings.beforeClose.call(_this, e);\n            }\n        };\n    };\n    /**\n     * Creates Overflow DropDown.\n     *\n     * @param {string} id - Gets the ID of the dropdown item.\n     * @param {string} name - Gets the name of the dropdown item.\n     * @param {string} iconCss - Gets the icon of the dropdown item.\n     * @param {HTMLElement} groupEle - Gets the overflow group element.\n     * @param {HTMLElement} overflowEle - Gets the overflow element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.createOverFlowDropDown = function (id, name, iconCss, groupEle, overflowEle, enableRtl) {\n        var _this = this;\n        this.enableRtl = enableRtl;\n        var buttonEle = this.parent.createElement('button', {\n            id: id + OVERFLOW_ID + DROPDOWN_ID\n        });\n        groupEle.setAttribute('tabindex', '0');\n        overflowEle.appendChild(buttonEle);\n        var dropdown = new DropDownButton({\n            iconCss: iconCss,\n            target: groupEle,\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            cssClass: VERTICAL_DDB + SPACE + RIBBON_GROUP_OVERFLOW_DDB,\n            iconPosition: 'Top',\n            content: name,\n            beforeClose: function (args) {\n                args.cancel = !isNullOrUndefined(args.event && closest(args.event.target, '.' + RIBBON_POPUP_CONTROL));\n            }\n        }, buttonEle);\n        createTooltip(groupEle, this.parent);\n        buttonEle.onclick = buttonEle.onkeydown = function () { _this.itemIndex = 0; };\n        // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n        groupEle.onkeydown = function (e) { _this.keyActionHandler(e, groupEle), _this; };\n        return dropdown;\n    };\n    RibbonDropDown.prototype.keyActionHandler = function (e, target) {\n        var items = target.querySelectorAll('.e-control');\n        var comboBoxElements = target.querySelectorAll('.e-combobox');\n        var comboBoxEle;\n        if (comboBoxElements) {\n            for (var i = 0; i < comboBoxElements.length; i++) {\n                if (comboBoxElements[parseInt(i.toString(), 10)].closest('.e-input-focus')) {\n                    comboBoxEle = comboBoxElements[parseInt(i.toString(), 10)];\n                }\n            }\n        }\n        if (comboBoxEle) {\n            for (var i = 0; i < items.length; i++) {\n                if (items[parseInt(i.toString(), 10)].classList.contains('e-combobox')) {\n                    if (items[parseInt(i.toString(), 10)].closest('.e-input-focus')) {\n                        this.itemIndex = i;\n                    }\n                }\n            }\n        }\n        if (e.target.classList.contains('e-control') || e.target.classList.contains('e-ribbon-launcher-icon') ||\n            e.target.classList.contains('e-ribbon-last-item') || e.target.classList.contains('e-ribbon-first-item')) {\n            if (e.key === 'ArrowRight' || (!e.shiftKey && e.key === 'Tab')) {\n                this.handleNavigation(e, !this.enableRtl, items);\n            }\n            if (e.key === 'ArrowLeft' || (e.shiftKey && e.key === 'Tab')) {\n                this.handleNavigation(e, this.enableRtl, items);\n            }\n        }\n    };\n    RibbonDropDown.prototype.handleNavigation = function (e, enableRtl, items) {\n        if (!(items[0].classList.contains('e-ribbon-first-item'))) {\n            items[0].classList.add('e-ribbon-first-item');\n        }\n        if (!(items[items.length - 1].classList.contains('e-ribbon-last-item'))) {\n            items[items.length - 1].classList.add('e-ribbon-last-item');\n        }\n        if (enableRtl) {\n            if (this.itemIndex === 0 && items[parseInt(this.itemIndex.toString(), 10)].classList.contains('e-ribbon-first-item')) {\n                this.updateItemIndex(e, items, true);\n            }\n            if (!e.target.classList.contains('e-combobox') && !e.target.classList.contains('e-ribbon-last-item') &&\n                !e.target.classList.contains('e-ribbon-group-container') && (e.target.classList.contains('e-ribbon-first-item')\n                || this.itemIndex !== 0) && e.target.classList.contains('e-control')) {\n                this.itemIndex++;\n                this.updateItemIndex(e, items, true);\n            }\n            if (e.target.classList.contains('e-ribbon-last-item')) {\n                var launcherIcon = false;\n                launcherIcon = this.focusLauncherIcon(e, items);\n                if (!launcherIcon) {\n                    this.itemIndex = 0;\n                    this.updateItemIndex(e, items, true);\n                }\n            }\n            if (e.target.classList.contains('e-ribbon-launcher-icon')) {\n                this.itemIndex = 0;\n                this.updateItemIndex(e, items, true);\n            }\n        }\n        else {\n            if (!e.target.classList.contains('e-combobox') && this.itemIndex !== 0) {\n                this.itemIndex--;\n                this.updateItemIndex(e, items, false);\n            }\n            if (e.target.classList.contains('e-ribbon-first-item')) {\n                var launcherIcon = false;\n                launcherIcon = this.focusLauncherIcon(e, items);\n                if (!launcherIcon) {\n                    this.itemIndex = items.length - 1;\n                    this.updateItemIndex(e, items, false);\n                }\n            }\n            if (e.target.classList.contains('e-ribbon-launcher-icon')) {\n                this.itemIndex = items.length - 1;\n                this.updateItemIndex(e, items, false);\n            }\n        }\n        if (e.target.classList.contains('e-combobox') && (e.key === 'Tab')) {\n            if (enableRtl) {\n                if (this.itemIndex < items.length - 1) {\n                    this.itemIndex++;\n                }\n            }\n            else {\n                if (this.itemIndex > 0) {\n                    this.itemIndex--;\n                }\n            }\n        }\n    };\n    RibbonDropDown.prototype.focusLauncherIcon = function (e, items) {\n        var groupContainer = items[parseInt(this.itemIndex.toString(), 10)].closest('.e-ribbon-group-container');\n        var launcherIconEle;\n        if (groupContainer) {\n            launcherIconEle = groupContainer.querySelector('.e-ribbon-launcher-icon');\n        }\n        if (launcherIconEle) {\n            if (e.key === 'Tab') {\n                e.preventDefault();\n            }\n            groupContainer.querySelector('.e-ribbon-launcher-icon').focus();\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    RibbonDropDown.prototype.updateItemIndex = function (e, items, enableRtl) {\n        var ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n        while (ribbonItem && ribbonItem.classList.contains('e-disabled')) {\n            if (enableRtl) {\n                if (this.itemIndex < items.length - 1) {\n                    this.itemIndex++;\n                }\n                else {\n                    var launcherIcon = false;\n                    launcherIcon = this.focusLauncherIcon(e, items);\n                    if (launcherIcon) {\n                        break;\n                    }\n                    this.itemIndex = 0;\n                }\n            }\n            else {\n                if (this.itemIndex > 0) {\n                    this.itemIndex--;\n                }\n                else {\n                    var launcherIcon = false;\n                    launcherIcon = this.focusLauncherIcon(e, items);\n                    if (launcherIcon) {\n                        break;\n                    }\n                    this.itemIndex = items.length - 1;\n                }\n            }\n            ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n        }\n        if (e.key === 'Tab') {\n            e.preventDefault();\n        }\n        items[parseInt(this.itemIndex.toString(), 10)].focus();\n    };\n    /**\n     * Removes Overflow DropDown.\n     *\n     * @param {HTMLElement} dropdownElement - Gets the ribbon DropDown element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.removeOverFlowDropDown = function (dropdownElement) {\n        var dropdown = getComponent(dropdownElement, DropDownButton);\n        var tooltip = getComponent(dropdown.target, Tooltip);\n        tooltip.destroy();\n        dropdownElement.parentElement.parentElement.insertBefore(dropdown.target, dropdownElement.parentElement);\n        dropdown.destroy();\n        remove(dropdownElement);\n    };\n    /**\n     * Gets DropDown item element.\n     *\n     * @param {HTMLElement} dropdownElement - Gets the ribbon DropDown element.\n     * @param {string} id - Gets the ID of ribbon DropDown element.\n     * @returns {HTMLElement} - Returns the DropDown item element.\n     * @hidden\n     */\n    RibbonDropDown.prototype.getDDBItemElement = function (dropdownElement, id) {\n        var dropdown = getComponent(dropdownElement, DropDownButton);\n        var dropDownPopup = dropdown.dropDown.element;\n        return dropDownPopup.querySelector('#' + id);\n    };\n    /**\n     * Gets Overflow DropDown Popup.\n     *\n     * @param {itemProps} itemProp - Gets the property of ribbon item.\n     * @param {HTMLElement} contentEle - Gets the content element.\n     * @returns {HTMLElement} - Returns the Overflow DropDown Popup.\n     * @hidden\n     */\n    RibbonDropDown.prototype.getOverflowDropDownPopup = function (itemProp, contentEle) {\n        var dropdownElement = contentEle.querySelector('#' + this.parent.tabs[itemProp.tabIndex].groups[itemProp.groupIndex].id + OVERFLOW_ID + DROPDOWN_ID);\n        var dropdown = getComponent(dropdownElement, DropDownButton);\n        return dropdown.dropDown.element;\n    };\n    RibbonDropDown.prototype.getDropDownObj = function (controlId) {\n        var dropDownEle = getItemElement(this.parent, controlId);\n        return dropDownEle ? getComponent(dropDownEle, DropDownButton) : null;\n    };\n    /**\n     * Adds a new item to the menu. By default, new item appends to\n     * the list as the last item, but you can insert based on the text parameter.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @param {ItemModel[]} Items - Gets the DropDown items.\n     * @param {string} text - Gets the text of the dropdown item where the new item needs to be inserted.\n     * @returns {void}\n     */\n    RibbonDropDown.prototype.addItems = function (controlId, Items, text) {\n        this.getDropDownObj(controlId).addItems(Items, text);\n    };\n    /**\n     * Removes the items from the menu.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @param {string[]} Items -\n     * @param {string} isUniqueId -\n     * @returns {void}\n     */\n    RibbonDropDown.prototype.removeItems = function (controlId, Items, isUniqueId) {\n        this.getDropDownObj(controlId).removeItems(Items, isUniqueId);\n    };\n    /**\n     * To open/close DropDownButton popup based on current state of the DropDownButton.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @returns {void}\n     */\n    RibbonDropDown.prototype.toggle = function (controlId) {\n        this.getDropDownObj(controlId).toggle();\n    };\n    /**\n     * Updates the dropdown.\n     *\n     * @param {RibbonDropDownSettingsModel} prop - Gets the dropdown property.\n     * @param {string} id - Gets the ID of dropdown.\n     * @returns {void}\n     */\n    RibbonDropDown.prototype.updateDropDown = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.dropDownSettings, prop);\n        var btnEle = getItemElement(this.parent, id, itemProp);\n        if (!btnEle) {\n            return;\n        }\n        var control = getComponent(btnEle, DropDownButton);\n        if (prop.cssClass) {\n            prop.cssClass = (RIBBON_CONTROL + SPACE + ITEM_VERTICAL_CENTER + SPACE + prop.cssClass).trim();\n            prop.cssClass = itemProp.item.activeSize === RibbonItemSize.Large ?\n                (VERTICAL_DDB + SPACE + prop.cssClass).trim() : prop.cssClass;\n            control.cssClass = prop.cssClass;\n        }\n        delete prop.close;\n        delete prop.beforeClose;\n        if (prop.content) {\n            prop.content = itemProp.item.activeSize === RibbonItemSize.Small ? '' : prop.content;\n        }\n        control.setProperties(prop);\n    };\n    /**\n     * Updated DropDown size\n     *\n     * @param {HTMLElement} element - Gets the dropdown element.\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonDropDown.prototype.updateDropDownSize = function (element, item) {\n        var control = getComponent(element, DropDownButton);\n        var cssClass = control.cssClass.split(SPACE);\n        if (item.activeSize === RibbonItemSize.Large) {\n            cssClass.push(VERTICAL_DDB);\n        }\n        else {\n            cssClass = cssClass.filter(function (value) { return value !== VERTICAL_DDB; });\n        }\n        control.cssClass = cssClass.join(SPACE);\n        control.setProperties({ iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left' });\n        control.setProperties({ content: item.activeSize === RibbonItemSize.Small ? '' : item.dropDownSettings.content });\n    };\n    return RibbonDropDown;\n}());\nexport { RibbonDropDown };\n","import { EventHandler, getComponent, merge } from '@syncfusion/ej2-base';\nimport { SplitButton } from '@syncfusion/ej2-splitbuttons';\nimport { getItem, getItemElement, RibbonItemSize } from '../base/index';\nimport { ITEM_VERTICAL_CENTER, RIBBON_CONTROL, RIBBON_HOVER, RIBBON_POPUP_CONTROL, RIBBON_POPUP_OPEN, SPACE, VERTICAL_DDB } from '../base/constant';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonSplitButton = /** @class */ (function () {\n    function RibbonSplitButton(parent) {\n        this.parent = parent;\n    }\n    RibbonSplitButton.prototype.getModuleName = function () {\n        return 'ribbonSplitButton';\n    };\n    RibbonSplitButton.prototype.destroy = function () {\n        this.parent = null;\n    };\n    /**\n     * Creates SplitButton.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonSplitButton.prototype.createSplitButton = function (item, itemEle) {\n        var _this = this;\n        var buttonEle = this.parent.createElement('button', {\n            id: item.id\n        });\n        itemEle.appendChild(buttonEle);\n        var splitButtonSettings = item.splitButtonSettings;\n        var cssClass = (ITEM_VERTICAL_CENTER + SPACE + RIBBON_CONTROL + SPACE + (splitButtonSettings.cssClass ?\n            splitButtonSettings.cssClass : '')).trim();\n        var splitbutton = new SplitButton({\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left',\n            closeActionEvents: splitButtonSettings.closeActionEvents,\n            cssClass: cssClass + ((item.activeSize === RibbonItemSize.Large) ? (SPACE + VERTICAL_DDB) : ''),\n            disabled: item.disabled,\n            iconCss: splitButtonSettings.iconCss,\n            items: splitButtonSettings.items,\n            target: splitButtonSettings.target,\n            beforeClose: function (e) {\n                if (splitButtonSettings.beforeClose) {\n                    splitButtonSettings.beforeClose.call(_this, e);\n                }\n            },\n            beforeItemRender: splitButtonSettings.beforeItemRender,\n            beforeOpen: splitButtonSettings.beforeOpen,\n            close: function () {\n                splitbutton['wrapper'].classList.remove(RIBBON_POPUP_OPEN);\n                if (splitButtonSettings.close) {\n                    splitButtonSettings.close.call(_this);\n                }\n            },\n            created: splitButtonSettings.created,\n            open: function () {\n                splitbutton['wrapper'].classList.add(RIBBON_POPUP_OPEN);\n                if (splitButtonSettings.open) {\n                    splitButtonSettings.open.call(_this);\n                }\n            },\n            select: splitButtonSettings.select,\n            click: function (e) {\n                if (splitButtonSettings.click) {\n                    splitButtonSettings.click.call(_this, e);\n                }\n            }\n        }, buttonEle);\n        var dropdownEle = buttonEle.parentElement.querySelector('.e-dropdown-btn');\n        dropdownEle.onkeydown = function (e) {\n            if (e.key === 'Enter') {\n                e.stopImmediatePropagation();\n                dropdownEle.click();\n            }\n        };\n        this.setContent(item, splitbutton);\n        var wrapper = splitbutton['wrapper'];\n        EventHandler.add(wrapper, 'mouseenter', function () { wrapper.classList.add(RIBBON_HOVER); }, this);\n        EventHandler.add(wrapper, 'mouseleave', function () { wrapper.classList.remove(RIBBON_HOVER); }, this);\n    };\n    /**\n     * Adds the additional event handlers as the item moved into overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @param {DropDownButton} overflowButton - Gets the overflow button.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonSplitButton.prototype.addOverFlowEvents = function (item, itemEle, overflowButton) {\n        var _this = this;\n        var splitButtonEle = itemEle.querySelector('#' + item.id);\n        splitButtonEle.setAttribute('data-control', item.type.toString());\n        var splitbutton = getComponent(splitButtonEle, SplitButton);\n        splitbutton.cssClass = splitbutton.cssClass + SPACE + RIBBON_POPUP_CONTROL;\n        splitbutton.dataBind();\n        var dropdownEle = splitButtonEle.parentElement.querySelector('.e-dropdown-btn');\n        var ddbId = dropdownEle.getAttribute('id');\n        var popupEle = document.querySelector('#' + ddbId + '-popup');\n        dropdownEle.onkeydown = function (e) {\n            if (e.key === 'Enter') {\n                e.stopImmediatePropagation();\n                dropdownEle.click();\n            }\n        };\n        popupEle.onkeydown = function (e) {\n            if (e.key === 'Enter') {\n                e.preventDefault();\n                splitbutton['wrapper'].classList.remove('e-ribbon-open');\n                popupEle.querySelector('.e-focused').click();\n            }\n        };\n        var target;\n        splitbutton.beforeClose = function (e) {\n            if (item.splitButtonSettings.beforeClose) {\n                item.splitButtonSettings.beforeClose.call(_this, e);\n            }\n            target = e.event ? e.event.target : null;\n        };\n        splitbutton.click = function (e) {\n            if (item.splitButtonSettings.click) {\n                item.splitButtonSettings.click.call(_this, e);\n            }\n            overflowButton.toggle();\n        };\n        splitbutton.close = function (e) {\n            if (item.splitButtonSettings.close) {\n                item.splitButtonSettings.close.call(_this, e);\n            }\n            splitbutton['wrapper'].classList.remove(RIBBON_POPUP_OPEN);\n            if (target && !target.closest('.e-ribbon-group-overflow-ddb')) {\n                overflowButton.toggle();\n            }\n        };\n    };\n    /**\n     * Removes the additional event handlers as the item moved from overflow popup.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {HTMLElement} itemEle - Gets the ribbon item element.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonSplitButton.prototype.removeOverFlowEvents = function (item, itemEle) {\n        var _this = this;\n        var splitButtonEle = itemEle.querySelector('#' + item.id);\n        var splitbutton = getComponent(splitButtonEle, SplitButton);\n        var cssClass = splitbutton.cssClass.split(SPACE);\n        cssClass = cssClass.filter(function (value) { return value !== RIBBON_POPUP_CONTROL; });\n        splitbutton.cssClass = cssClass.join(SPACE);\n        splitbutton.dataBind();\n        splitbutton.beforeClose = function (e) {\n            if (item.splitButtonSettings.beforeClose) {\n                item.splitButtonSettings.beforeClose.call(_this, e);\n            }\n        };\n        splitbutton.click = function (e) {\n            if (item.splitButtonSettings.click) {\n                item.splitButtonSettings.click.call(_this, e);\n            }\n        };\n        splitbutton.close = function (e) {\n            if (item.splitButtonSettings.close) {\n                item.splitButtonSettings.close.call(_this, e);\n            }\n            splitbutton['wrapper'].classList.remove(RIBBON_POPUP_OPEN);\n        };\n    };\n    RibbonSplitButton.prototype.setContent = function (item, control) {\n        control['primaryBtnObj'].setProperties({ content: (item.activeSize === RibbonItemSize.Medium) ? item.splitButtonSettings.content : '' });\n        control['secondaryBtnObj'].setProperties({ content: (item.activeSize === RibbonItemSize.Large) ? item.splitButtonSettings.content : '' });\n    };\n    RibbonSplitButton.prototype.getSplitButtonObj = function (controlId) {\n        var splitButtonEle = getItemElement(this.parent, controlId);\n        return getComponent(splitButtonEle, SplitButton);\n    };\n    /**\n     * Adds a new item to the menu. By default, new item appends to\n     * the list as the last item, but you can insert based on the text parameter.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @param {ItemModel[]} Items - Gets the SplitButton items.\n     * @param {string} text - Gets the text of the splitbutton item where the new item needs to be inserted.\n     * @returns {void}\n     */\n    RibbonSplitButton.prototype.addItems = function (controlId, Items, text) {\n        this.getSplitButtonObj(controlId).addItems(Items, text);\n    };\n    /**\n     * Removes the items from the menu.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @param {string[]} Items -\n     * @param {string} isUniqueId -\n     * @returns {void}\n     */\n    RibbonSplitButton.prototype.removeItems = function (controlId, Items, isUniqueId) {\n        this.getSplitButtonObj(controlId).removeItems(Items, isUniqueId);\n    };\n    /**\n     * To open/close SplitButton popup based on current state of the SplitButton.\n     *\n     * @param {string} controlId - Gets the control ID.\n     * @returns {void}\n     */\n    RibbonSplitButton.prototype.toggle = function (controlId) {\n        this.getSplitButtonObj(controlId).toggle();\n    };\n    /**\n     * Updates the splitbutton.\n     *\n     * @param {RibbonSplitButtonSettingsModel} prop - Gets the splitbutton property.\n     * @param {string} id - Gets the ID of dropdown.\n     * @returns {void}\n     */\n    RibbonSplitButton.prototype.updateSplitButton = function (prop, id) {\n        var itemProp = getItem(this.parent.tabs, id);\n        if (!itemProp) {\n            return;\n        }\n        merge(itemProp.item.splitButtonSettings, prop);\n        var btnEle = getItemElement(this.parent, id, itemProp);\n        if (!btnEle) {\n            return;\n        }\n        var control = getComponent(btnEle, SplitButton);\n        if (prop.cssClass) {\n            prop.cssClass = (RIBBON_CONTROL + SPACE + ITEM_VERTICAL_CENTER + SPACE + prop.cssClass).trim();\n            prop.cssClass = itemProp.item.activeSize === RibbonItemSize.Large ?\n                (VERTICAL_DDB + SPACE + prop.cssClass).trim() : prop.cssClass;\n            control.cssClass = prop.cssClass;\n        }\n        delete prop.open;\n        delete prop.click;\n        delete prop.close;\n        delete prop.beforeClose;\n        control.setProperties(prop);\n        if (prop.content) {\n            this.setContent(itemProp.item, control);\n        }\n    };\n    /**\n     * Updated SplitButton size\n     *\n     * @param {HTMLElement} element - Gets the splibutton element.\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonSplitButton.prototype.updateSplitButtonSize = function (element, item) {\n        var control = getComponent(element, SplitButton);\n        var cssClass = control.cssClass.split(SPACE);\n        if (item.activeSize === RibbonItemSize.Large) {\n            cssClass.push(VERTICAL_DDB);\n        }\n        else {\n            cssClass = cssClass.filter(function (value) { return value !== VERTICAL_DDB; });\n        }\n        control.cssClass = cssClass.join(SPACE);\n        control.setProperties({ iconPosition: item.activeSize === RibbonItemSize.Large ? 'Top' : 'Left' });\n        this.setContent(item, control);\n    };\n    return RibbonSplitButton;\n}());\nexport { RibbonSplitButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { addClass, append, Event, Collection, Complex, Component, EventHandler, formatUnit, getInstance, getComponent, getUniqueID, closest, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, isUndefined, NotifyPropertyChanges, Property, remove, removeClass } from '@syncfusion/ej2-base';\nimport { Tab, TabAnimationSettings, HScroll, Toolbar } from '@syncfusion/ej2-navigations';\nimport { RibbonTab, FileMenuSettings } from '../models/index';\nimport { DisplayMode, RibbonLayout } from './interface';\nimport { ItemOrientation, RibbonItemSize, RibbonItemType } from './interface';\nimport { RibbonButton, RibbonComboBox, RibbonCheckBox, RibbonDropDown, RibbonSplitButton } from '../items/index';\nimport { destroyControl, getCollection, getGroup, getIndex, getItem, getItemElement, updateCommonProperty, updateControlDisabled, isTooltipPresent, getTemplateFunction, createTooltip, destroyTooltip, updateTooltipProp } from './utils';\nimport * as constants from './constant';\nimport { DropDownButton, SplitButton } from '@syncfusion/ej2-splitbuttons';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\n/**\n * The Ribbon Component is a structured layout to manage tools with tabs and groups.\n */\nvar Ribbon = /** @class */ (function (_super) {\n    __extends(Ribbon, _super);\n    /**\n     * Constructor for creating the widget.\n     *\n     * @param  {RibbonModel} options - Specifies the ribbon model\n     * @param  {string|HTMLDivElement} element - Specifies the target element\n     */\n    function Ribbon(options, element) {\n        var _this = this;\n        Ribbon_1.Inject(RibbonButton, RibbonCheckBox, RibbonDropDown, RibbonSplitButton, RibbonComboBox);\n        _this = _super.call(this, options, element) || this;\n        return _this;\n    }\n    Ribbon_1 = Ribbon;\n    /**\n     * Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    Ribbon.prototype.render = function () {\n        this.initialize();\n    };\n    Ribbon.prototype.preRender = function () {\n        this.idIndex = 0;\n        this.tooltipData = [];\n        this.isAddRemove = false;\n        this.keyConfigs = {\n            leftarrow: 'leftarrow',\n            rightarrow: 'rightarrow',\n            tab: 'tab',\n            shiftTab: 'shift+tab'\n        };\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    Ribbon.prototype.getPersistData = function () {\n        return this.addOnPersist(['activeLayout']);\n    };\n    /**\n     * Get component name.\n     *\n     * @returns {string} - Module name\n     * @private\n     */\n    Ribbon.prototype.getModuleName = function () {\n        return 'ribbon';\n    };\n    /**\n     * To provide the array of modules needed for component rendering\n     *\n     * @returns {ModuleDeclaration[]} - returns module declaration.\n     * @hidden\n     */\n    Ribbon.prototype.requiredModules = function () {\n        var modules = [];\n        modules.push({ member: 'ribbonButton', args: [this] }, { member: 'ribbonDropDown', args: [this] }, { member: 'ribbonSplitButton', args: [this] }, { member: 'ribbonCheckBox', args: [this] }, { member: 'ribbonColorPicker', args: [this] }, { member: 'ribbonComboBox', args: [this] }, { member: 'ribbonFileMenu', args: [this] });\n        return modules;\n    };\n    Ribbon.prototype.initialize = function () {\n        this.element.id = this.element.id || getUniqueID('e-' + this.getModuleName());\n        addClass([this.element], ['e-rbn'].concat((this.cssClass ? this.cssClass.split(constants.SPACE) : [])));\n        if (this.enableRtl) {\n            this.element.classList.add(constants.RTL_CSS);\n        }\n        this.element.style.width = formatUnit(this.width);\n        this.renderTabs();\n        if (this.ribbonFileMenuModule) {\n            this.ribbonFileMenuModule.createFileMenu(this.fileMenu);\n        }\n        this.createHelpPaneTemplate();\n        var toolbar = this.tabObj['tbObj'];\n        toolbar.refreshOverflow();\n        createTooltip(this.element, this);\n        this.wireEvents();\n        this.wireKeyboardEvent();\n        this.currentControlIndex = 0;\n    };\n    Ribbon.prototype.wireEvents = function () {\n        EventHandler.add(window, 'resize', this.resizeHandler, this);\n    };\n    Ribbon.prototype.wireKeyboardEvent = function () {\n        this.keyboardModuleRibbon = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    Ribbon.prototype.keyActionHandler = function (e) {\n        if (((e.key === 'Tab') && (!(e.target.classList.contains('e-tab-wrap')) && !(e.target.classList.contains('e-combobox'))))) {\n            e.preventDefault();\n        }\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[this.selectedTab].id + constants.CONTENT_ID);\n        var ribbonControls = activeContent.querySelectorAll('.e-control');\n        var comboBoxElements = activeContent.querySelectorAll('.e-combobox');\n        var comboBoxEle;\n        if (comboBoxElements) {\n            for (var i = 0; i < comboBoxElements.length; i++) {\n                if (comboBoxElements[parseInt(i.toString(), 10)].closest('.e-input-focus')) {\n                    comboBoxEle = comboBoxElements[parseInt(i.toString(), 10)];\n                }\n            }\n        }\n        if (comboBoxEle) {\n            for (var i = 0; i < ribbonControls.length; i++) {\n                if (ribbonControls[parseInt(i.toString(), 10)].classList.contains('e-combobox')) {\n                    if (ribbonControls[parseInt(i.toString(), 10)].closest('.e-input-focus')) {\n                        this.currentControlIndex = i;\n                    }\n                }\n            }\n        }\n        if (this.currentControlIndex === 0) {\n            var item = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n            while (item && item.classList.contains('e-disabled')) {\n                this.currentControlIndex++;\n                item = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n            }\n        }\n        if (e.target.classList.contains('e-control') || e.target.classList.contains('e-ribbon-launcher-icon') ||\n            e.target.classList.contains('e-ribbon-collapse-btn') || e.target.classList.contains('e-ribbon-last-item') ||\n            e.target.classList.contains('e-ribbon-first-item') || e.target.classList.contains('e-ribbon-group-of-btn') ||\n            e.target.classList.contains('e-ribbon-overall-of-btn')) {\n            switch (e.action) {\n                case 'rightarrow':\n                    this.handleNavigation(e, !this.enableRtl, ribbonControls);\n                    break;\n                case 'leftarrow':\n                    this.handleNavigation(e, this.enableRtl, ribbonControls);\n                    break;\n                case 'tab':\n                    if (e.target.classList.contains('e-combobox')) {\n                        if (this.currentControlIndex < ribbonControls.length - 1) {\n                            this.currentControlIndex++;\n                        }\n                    }\n                    break;\n                case 'shiftTab':\n                    if (e.target.classList.contains('e-combobox')) {\n                        if (this.currentControlIndex > 0) {\n                            this.currentControlIndex--;\n                        }\n                    }\n                    else {\n                        this.tabObj.element.querySelector('.e-toolbar-item.e-active').querySelector('.e-tab-wrap').focus();\n                        this.currentControlIndex = 0;\n                    }\n            }\n        }\n    };\n    Ribbon.prototype.handleNavigation = function (e, enableRtl, ribbonControls) {\n        var groupContainer;\n        var prevGroupId;\n        if (enableRtl) {\n            if (this.currentControlIndex < ribbonControls.length - 1 && ribbonControls[this.currentControlIndex + 1].classList.contains('e-colorpicker')) {\n                this.currentControlIndex++;\n            }\n        }\n        else {\n            if (this.currentControlIndex > 0 && ribbonControls[this.currentControlIndex - 1].classList.contains('e-colorpicker')) {\n                this.currentControlIndex--;\n            }\n        }\n        if ((!enableRtl && (this.currentControlIndex > 0)) || (enableRtl && (this.currentControlIndex < ribbonControls.length - 1))) {\n            if (!e.target.classList.contains('e-combobox') && e.target.classList.contains('e-control') && !e.target.classList.contains('e-ribbon-last-item')) {\n                if (enableRtl) {\n                    this.currentControlIndex++;\n                }\n                else {\n                    var prevGroupContainer = ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].closest('.' + constants.RIBBON_GROUP_CONTAINER);\n                    if (prevGroupContainer) {\n                        prevGroupId = prevGroupContainer.getAttribute('id');\n                    }\n                    this.currentControlIndex--;\n                }\n                var item = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                while (item && item.classList.contains('e-disabled')) {\n                    if (((enableRtl && this.currentControlIndex === ribbonControls.length - 1) ||\n                        (!enableRtl && this.currentControlIndex === 0))) {\n                        if (ribbonControls[this.currentControlIndex].closest('.e-ribbon-item').classList.contains('e-disabled')) {\n                            this.tabObj.element.querySelector('.e-ribbon-collapse-btn').focus();\n                            break;\n                        }\n                    }\n                    // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                    enableRtl ? this.currentControlIndex++ : this.currentControlIndex--;\n                    item = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                }\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n                if (this.activeLayout === 'Classic') {\n                    groupContainer = ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].closest('.' + constants.RIBBON_GROUP_CONTAINER);\n                    if (enableRtl) {\n                        var launcherIconEle = void 0;\n                        if (groupContainer) {\n                            launcherIconEle = groupContainer.querySelector('.e-ribbon-launcher-icon');\n                        }\n                        if (launcherIconEle) {\n                            var items = groupContainer.querySelectorAll('.e-ribbon-item');\n                            items[items.length - 1].querySelector('.e-control').classList.add('e-ribbon-last-item');\n                        }\n                    }\n                    else {\n                        if (groupContainer) {\n                            var groupContainerId = groupContainer.getAttribute('id');\n                            if (prevGroupId !== groupContainerId) {\n                                var launcherIconEle = groupContainer.querySelector('.e-ribbon-launcher-icon');\n                                if (launcherIconEle) {\n                                    ribbonControls[parseInt((this.currentControlIndex + 1).toString(), 10)].classList.add('e-ribbon-first-item');\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    if (ribbonControls[parseInt((this.currentControlIndex).toString(), 10)].classList.contains('e-ribbon-first-item')) {\n                        ribbonControls[parseInt((this.currentControlIndex).toString(), 10)].classList.remove('e-ribbon-first-item');\n                    }\n                    else if (ribbonControls[parseInt((this.currentControlIndex).toString(), 10)].classList.contains('e-ribbon-last-item')) {\n                        ribbonControls[parseInt((this.currentControlIndex).toString(), 10)].classList.remove('e-ribbon-last-item');\n                    }\n                }\n            }\n        }\n        else {\n            if (this.activeLayout === 'Classic') {\n                this.tabObj.element.querySelector('.e-ribbon-collapse-btn').focus();\n            }\n            if (this.activeLayout === 'Simplified') {\n                var overflowButton = this.tabObj.element.querySelector('.e-ribbon-overall-of-btn');\n                if (enableRtl && (overflowButton && !overflowButton.classList.contains('e-ribbon-hide'))) {\n                    overflowButton.focus();\n                }\n                else {\n                    this.tabObj.element.querySelector('.e-ribbon-collapse-btn').focus();\n                }\n            }\n        }\n        if (e.target.classList.contains('e-ribbon-last-item')) {\n            if (enableRtl) {\n                groupContainer = ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].closest('.' + constants.RIBBON_GROUP_CONTAINER);\n                groupContainer.querySelector('.e-ribbon-launcher-icon').focus();\n            }\n            else {\n                this.currentControlIndex--;\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n            }\n        }\n        if (!enableRtl && e.target.classList.contains('e-ribbon-first-item')) {\n            groupContainer = ribbonControls[parseInt((this.currentControlIndex - 1).toString(), 10)].closest('.' + constants.RIBBON_GROUP_CONTAINER);\n            var launcherIconEle = groupContainer.querySelector('.e-ribbon-launcher-icon');\n            if (launcherIconEle) {\n                groupContainer.querySelector('.e-ribbon-launcher-icon').focus();\n            }\n        }\n        if (e.target.classList.contains('e-ribbon-launcher-icon')) {\n            if (enableRtl) {\n                this.currentControlIndex++;\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n                if (ribbonControls[parseInt((this.currentControlIndex - 1).toString(), 10)].classList.contains('e-ribbon-last-item')) {\n                    ribbonControls[parseInt((this.currentControlIndex - 1).toString(), 10)].classList.remove('e-ribbon-last-item');\n                }\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                this.currentControlIndex;\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n            }\n        }\n        if (e.target.classList.contains('e-ribbon-collapse-btn')) {\n            if (enableRtl) {\n                this.currentControlIndex = 0;\n                var ribbonItem = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                while (ribbonItem && ribbonItem.classList.contains('e-disabled')) {\n                    this.currentControlIndex++;\n                    ribbonItem = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                }\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n            }\n            else {\n                var overflowButton = this.tabObj.element.querySelector('.e-ribbon-overall-of-btn');\n                if ((overflowButton && !overflowButton.classList.contains('e-ribbon-hide'))) {\n                    overflowButton.focus();\n                }\n                else {\n                    this.currentControlIndex = ribbonControls.length - 1;\n                    var ribbonItem = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                    while (ribbonItem && ribbonItem.classList.contains('e-disabled')) {\n                        this.currentControlIndex--;\n                        ribbonItem = ribbonControls[this.currentControlIndex].closest('.e-ribbon-item');\n                    }\n                    ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n                }\n            }\n        }\n        if (this.activeLayout === 'Simplified' && e.target.classList.contains('e-ribbon-overall-of-btn')) {\n            if (enableRtl) {\n                this.tabObj.element.querySelector('.e-ribbon-collapse-btn').focus();\n            }\n            else {\n                this.currentControlIndex = ribbonControls.length - 1;\n                ribbonControls[parseInt(this.currentControlIndex.toString(), 10)].focus();\n            }\n        }\n    };\n    Ribbon.prototype.resizeHandler = function () {\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[this.selectedTab].id + constants.CONTENT_ID);\n        this.checkOverflow(this.selectedTab, activeContent);\n        if (this.scrollModule) {\n            var scrollEle = this.tabObj.element.querySelector('.' + constants.HORIZONTAL_SCROLLBAR);\n            this.scrollModule.scrollStep = scrollEle.offsetWidth;\n        }\n    };\n    Ribbon.prototype.renderTabs = function () {\n        this.tabsInternal = this.tabs.slice();\n        this.tabsInternal = this.checkID(this.tabsInternal, 'tab', this.element.id);\n        this.setProperties({ tabs: this.tabsInternal }, true);\n        var tabEle = this.createElement('div', {\n            id: this.element.id + constants.TAB_ID\n        });\n        this.element.appendChild(tabEle);\n        this.validateItemSize();\n        var tabItems = this.createTabItems(this.tabs);\n        this.tabObj = new Tab({\n            cssClass: constants.RIBBON_TAB,\n            selectedItem: this.selectedTab,\n            overflowMode: 'Popup',\n            width: this.width,\n            items: tabItems,\n            enableRtl: this.enableRtl,\n            created: this.tabCreated.bind(this),\n            selected: this.ribbonTabSelected.bind(this),\n            selecting: this.ribbonTabSelecting.bind(this)\n        });\n        this.tabObj.appendTo(tabEle);\n        //Set the width value as \"0px\" with unit for proper calculation.\n        this.element.style.setProperty(constants.RIBBON_FILE_MENU_WIDTH, '0px');\n        this.element.style.setProperty(constants.RIBBON_HELP_PANE_TEMPLATE_WIDTH, '0px');\n        var toolbarEle = tabEle.querySelector('.e-toolbar');\n        var toolbar = getComponent(toolbarEle, Toolbar);\n        toolbar.setProperties({ width: 'calc(100% - var(--fileMenuWidth) - var(--helpTemplateWidth))' });\n        this.element.classList[this.isMinimized ? 'add' : 'remove'](constants.RIBBON_MINIMIZE);\n    };\n    Ribbon.prototype.minimize = function (val) {\n        var _this = this;\n        if (val === this.isMinimized) {\n            return;\n        }\n        var eventArgs = { cancel: false };\n        this.trigger(val ? 'ribbonCollapsing' : 'ribbonExpanding', eventArgs, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            _this.setProperties({ isMinimized: val }, true);\n            _this.element.classList.toggle(constants.RIBBON_MINIMIZE, _this.isMinimized);\n            //to overwrite inline styles from hscroll\n            _this.tabObj.element.querySelector('.e-content').style.display = val ? 'none' : 'block';\n            if (!val) {\n                _this.refreshLayout();\n            }\n        });\n    };\n    Ribbon.prototype.toggleLayout = function () {\n        this.setProperties({ activeLayout: this.activeLayout === 'Simplified' ? 'Classic' : 'Simplified' }, true);\n        this.switchLayout();\n    };\n    Ribbon.prototype.tabCreated = function () {\n        this.addExpandCollapse();\n        this.renderInitialTab(this.selectedTab);\n    };\n    Ribbon.prototype.ribbonTabSelected = function (e) {\n        this.isAddRemove = false;\n        var selectedTabId = e.selectedItem.getAttribute('data-id');\n        var selectedIndex = getIndex(this.tabs, (function (tab) { return (tab.id === selectedTabId); }));\n        selectedIndex = selectedIndex === -1 ? this.selectedTab : selectedIndex;\n        var eventArgs = { previousIndex: this.selectedTab, selectedIndex: selectedIndex };\n        this.setProperties({ selectedTab: selectedIndex }, true);\n        this.checkOverflow(selectedIndex, e.selectedContent.firstChild);\n        if (this.activeLayout === 'Simplified' && this.overflowDDB) {\n            var overflowTarget = this.overflowDDB.target;\n            var ofTabContainer = overflowTarget.querySelector('.' + constants.RIBBON_TAB_ACTIVE);\n            if (ofTabContainer) {\n                ofTabContainer.classList.remove(constants.RIBBON_TAB_ACTIVE);\n            }\n            var activeTab = overflowTarget.querySelector('#' + selectedTabId + constants.OVERFLOW_ID);\n            if (activeTab) {\n                activeTab.classList.add(constants.RIBBON_TAB_ACTIVE);\n                this.overflowDDB.element.classList.remove(constants.HIDE_CSS);\n            }\n            else {\n                this.overflowDDB.element.classList.add(constants.HIDE_CSS);\n            }\n        }\n        this.trigger('tabSelected', eventArgs);\n    };\n    Ribbon.prototype.checkOverflow = function (tabIndex, activeContent) {\n        var tabContent = activeContent.closest('.' + constants.TAB_CONTENT);\n        var isOverFlow = tabContent.offsetWidth < activeContent.offsetWidth;\n        if (isOverFlow && !this.scrollModule) {\n            if (this.activeLayout === 'Classic') {\n                // Defines whether the shrinking is breaked due to insufficient space.\n                var isBreak = false;\n                isBreak = this.checkGroupShrinking(tabIndex, tabContent, activeContent, true);\n                if (!isBreak && (tabContent.offsetWidth < activeContent.offsetWidth)) {\n                    isBreak = this.checkGroupShrinking(tabIndex, tabContent, activeContent, false);\n                }\n                if (tabContent.offsetWidth < activeContent.offsetWidth) {\n                    this.createOverflowDropdown(tabIndex, tabContent, activeContent);\n                }\n            }\n            else {\n                this.checkSimplifiedItemShrinking(tabIndex, tabContent, activeContent);\n                if (tabContent.offsetWidth < activeContent.offsetWidth) {\n                    this.createSimplfiedOverflow(tabContent, activeContent, tabIndex);\n                }\n            }\n            //Adds Scroll if the tabwidth is less the content width even after adding overflow dropdown.\n            if ((tabContent.offsetWidth < activeContent.offsetWidth) && (!this.scrollModule)) {\n                this.scrollModule = new HScroll({\n                    enableRtl: this.enableRtl\n                }, this.tabObj.element.querySelector('.' + constants.TAB_CONTENT));\n            }\n        }\n        else if (!isOverFlow) {\n            this.destroyScroll();\n            if (this.activeLayout === 'Classic') {\n                var isBreak = false;\n                isBreak = this.removeOverflowDropdown(tabContent, activeContent, false, tabIndex);\n                //Check for expanding small items to medium items.\n                if (!isBreak && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                    isBreak = this.checkGroupExpanding(tabIndex, tabContent, activeContent, true);\n                }\n                //Check for expanding medium items to large items.\n                if (!isBreak && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                    isBreak = this.checkGroupExpanding(tabIndex, tabContent, activeContent, false);\n                }\n            }\n            else {\n                this.removeSimplfiedOverflow(tabContent, activeContent, tabIndex);\n                if (tabContent.offsetWidth > activeContent.offsetWidth) {\n                    this.checkSimplifiedItemExpanding(tabIndex, tabContent, activeContent);\n                }\n            }\n        }\n    };\n    Ribbon.prototype.checkSimplifiedItemShrinking = function (tabIndex, tabContent, activeContent) {\n        var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n        for (var i = (tab.groups.length - 1); (i >= 0); i--) {\n            var group = tab.groups[parseInt(i.toString(), 10)];\n            var groupContainer = tabContent.querySelector('#' + group.id + constants.CONTAINER_ID);\n            for (var j = 0; ((j < group.collections.length) && (tabContent.offsetWidth < activeContent.offsetWidth)); j++) {\n                var collection = group.collections[parseInt(j.toString(), 10)];\n                for (var k = collection.items.length; ((k >= 1) && (tabContent.offsetWidth < activeContent.offsetWidth)); k--) {\n                    var item = collection.items[k - 1];\n                    if (((item.allowedSizes & RibbonItemSize.Small) && (item.allowedSizes & RibbonItemSize.Medium))\n                        && (item.activeSize === RibbonItemSize.Medium) && (item.displayOptions & DisplayMode.Simplified)) {\n                        var itemContainer = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                        if (itemContainer) {\n                            var itemEle = itemContainer.querySelector('#' + item.id);\n                            itemContainer.setAttribute('data-medium-width', activeContent.offsetWidth.toString());\n                            item.setProperties({ activeSize: RibbonItemSize.Small }, true);\n                            this.setItemSize(itemEle, item);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Ribbon.prototype.checkSimplifiedItemExpanding = function (tabIndex, tabContent, activeContent) {\n        var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n        for (var i = (tab.groups.length - 1); (i >= 0); i--) {\n            var group = tab.groups[parseInt(i.toString(), 10)];\n            var groupContainer = tabContent.querySelector('#' + group.id + constants.CONTAINER_ID);\n            for (var j = 0; ((j < group.collections.length) && (tabContent.offsetWidth > activeContent.offsetWidth)); j++) {\n                var collection = group.collections[parseInt(j.toString(), 10)];\n                for (var k = collection.items.length; ((k >= 1) && (tabContent.offsetWidth > activeContent.offsetWidth)); k--) {\n                    var item = collection.items[k - 1];\n                    if (((item.allowedSizes & RibbonItemSize.Small) && (item.allowedSizes & RibbonItemSize.Medium))\n                        && (item.activeSize === RibbonItemSize.Small) && (item.displayOptions & DisplayMode.Simplified)) {\n                        var itemContainer = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                        if (itemContainer) {\n                            var valString = itemContainer.getAttribute('data-medium-width');\n                            var value = valString ? parseInt(valString, 10) : null;\n                            if (value && (tabContent.offsetWidth > value)) {\n                                itemContainer.removeAttribute('data-medium-width');\n                                var itemEle = itemContainer.querySelector('#' + item.id);\n                                item.setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                                this.setItemSize(itemEle, item);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Ribbon.prototype.createSimplfiedOverflow = function (tabContent, activeContent, tabIndex) {\n        var orderedGroups = this.getGroupResizeOrder(true, tabIndex);\n        for (var i = 0; ((i < orderedGroups.length) && (tabContent.offsetWidth < activeContent.offsetWidth)); i++) {\n            var group = orderedGroups[parseInt(i.toString(), 10)];\n            var groupEle = tabContent.querySelector('#' + group.id);\n            var groupContainer = groupEle.querySelector('#' + group.id + constants.CONTAINER_ID);\n            for (var j = group.collections.length; ((j >= 1) && (tabContent.offsetWidth < activeContent.offsetWidth)); j--) {\n                var collection = group.collections[parseInt((j - 1).toString(), 10)];\n                var collectionEle = groupEle.querySelector('#' + collection.id);\n                for (var k = collection.items.length; ((k >= 1) && (tabContent.offsetWidth < activeContent.offsetWidth)); k--) {\n                    var item = collection.items[k - 1];\n                    var itemContainer = collectionEle.querySelector('#' + item.id + constants.CONTAINER_ID);\n                    if (((item.displayOptions === DisplayMode.Auto) ||\n                        (item.displayOptions === (DisplayMode.Simplified | DisplayMode.Overflow))) && !isNullOrUndefined(itemContainer)) {\n                        itemContainer.setAttribute('data-simplified-width', activeContent.offsetWidth.toString());\n                        this.createOverflowPopup(item, tabIndex, group.enableGroupOverflow, group.id, group.header, itemContainer, groupContainer);\n                        if (item.activeSize === RibbonItemSize.Small) {\n                            var itemEle = itemContainer.querySelector('#' + item.id);\n                            item.setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                            this.setItemSize(itemEle, item);\n                        }\n                        if ((item.type === RibbonItemType.DropDown) || (item.type === RibbonItemType.SplitButton)) {\n                            this.updatePopupItems(item, itemContainer, group.enableGroupOverflow, true);\n                        }\n                    }\n                }\n            }\n            if (!(group.enableGroupOverflow || groupEle.querySelector('.' + constants.RIBBON_ITEM))) {\n                groupEle.classList.add('e-ribbon-emptyCollection');\n            }\n        }\n    };\n    Ribbon.prototype.updatePopupItems = function (item, itemEle, isGroupOF, isMenu) {\n        var dropdown = getComponent(itemEle.querySelector('#' + item.id), (item.type === RibbonItemType.DropDown) ? DropDownButton : SplitButton);\n        var dropDownPopup = dropdown.dropDown;\n        // popup is on right if (isGroupOF && isMenu)\n        // The position is reversed if RTL is enabled.\n        // isRight = ((isGroupOF && isMenu) && !this.enableRtl ) || (!(isGroupOF && isMenu) && this.enableRtl)  ==> (isGroupOF && isMenu) !== this.enableRtl\n        var isLeft = (isGroupOF && isMenu) === this.enableRtl;\n        dropDownPopup.setProperties({ position: { X: isLeft ? 'left' : 'right', Y: isMenu ? 'top' : 'bottom' } }, true);\n        if (isMenu) {\n            dropdown.beforeOpen = function () {\n                if (isLeft) {\n                    dropDownPopup.element.style.setProperty('visibility', 'hidden');\n                    dropDownPopup.element.style.setProperty('display', 'block');\n                    dropDownPopup.setProperties({ offsetX: -1 * dropDownPopup.element.offsetWidth });\n                    dropDownPopup.element.style.removeProperty('display');\n                    dropDownPopup.element.style.removeProperty('visibility');\n                }\n            };\n        }\n        else {\n            dropDownPopup.setProperties({ offsetX: 0 }, true);\n            dropdown.beforeOpen = null;\n        }\n    };\n    Ribbon.prototype.removeSimplfiedOverflow = function (tabContent, activeContent, tabIndex, isClear) {\n        if (isClear === void 0) { isClear = false; }\n        var orderedGroups = this.getGroupResizeOrder(false, tabIndex);\n        var flag = true;\n        for (var i = 0; ((i < orderedGroups.length) && flag); i++) {\n            var group = orderedGroups[parseInt(i.toString(), 10)];\n            var overflowDDB = void 0;\n            var overflowtarget = void 0;\n            if (group.enableGroupOverflow) {\n                var overflowDDBEle = tabContent.querySelector('#' + group.id + constants.GROUPOF_BUTTON_ID);\n                if (overflowDDBEle) {\n                    overflowDDB = getInstance(overflowDDBEle, DropDownButton);\n                    overflowtarget = overflowDDB.target;\n                }\n            }\n            else {\n                overflowDDB = this.overflowDDB;\n                overflowtarget = this.overflowDDB ? this.overflowDDB.target : null;\n            }\n            for (var j = 0; ((j < group.collections.length) && flag); j++) {\n                var collection = group.collections[parseInt(j.toString(), 10)];\n                // eslint-disable-next-line max-len\n                for (var k = 0; ((k < collection.items.length) && flag && !isClear && (tabContent.offsetWidth > activeContent.offsetWidth)); k++) {\n                    var item = collection.items[parseInt(k.toString(), 10)];\n                    var itemContainer = void 0;\n                    if (overflowtarget) {\n                        itemContainer = overflowtarget.querySelector('#' + item.id + constants.CONTAINER_ID);\n                    }\n                    if (((item.displayOptions === DisplayMode.Auto) ||\n                        (item.displayOptions === (DisplayMode.Simplified | DisplayMode.Overflow))) && !isNullOrUndefined(itemContainer)) {\n                        var width = parseInt(itemContainer.getAttribute('data-simplified-width'), 10);\n                        if (!isClear && (tabContent.offsetWidth < width)) {\n                            flag = false;\n                            break;\n                        }\n                        var groupEle_1 = tabContent.querySelector('#' + collection.id);\n                        if ((item.type === RibbonItemType.DropDown) || (item.type === RibbonItemType.SplitButton)) {\n                            this.updatePopupItems(item, itemContainer, group.enableGroupOverflow, false);\n                        }\n                        groupEle_1.append(itemContainer);\n                        this.removeOverflowEvent(item, itemContainer);\n                        if (item.allowedSizes & RibbonItemSize.Small) {\n                            item.setProperties({ activeSize: RibbonItemSize.Small }, true);\n                            this.setItemSize(itemContainer.querySelector('#' + item.id), item);\n                        }\n                    }\n                }\n            }\n            var groupEle = tabContent.querySelector('#' + group.id);\n            var itemEle = groupEle.querySelector('.' + constants.RIBBON_ITEM);\n            if (groupEle.classList.contains('e-ribbon-emptyCollection') && itemEle !== null) {\n                groupEle.classList.remove('e-ribbon-emptyCollection');\n            }\n            if (overflowDDB) {\n                if (group.enableGroupOverflow) {\n                    if (overflowtarget.childElementCount === 0) {\n                        this.removeOverflowButton(overflowDDB);\n                    }\n                }\n                else {\n                    var ofGroupContainer = overflowtarget.querySelector('#' + group.id + constants.CONTAINER_ID);\n                    if (ofGroupContainer && ofGroupContainer.childElementCount === 1) {\n                        ofGroupContainer.remove();\n                    }\n                    var ofTabContainer = overflowtarget.querySelector('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                    if (ofTabContainer && ofTabContainer.childElementCount === 0) {\n                        ofTabContainer.remove();\n                        this.overflowDDB.element.classList.add(constants.HIDE_CSS);\n                    }\n                }\n            }\n        }\n        if (this.overflowDDB) {\n            var overflowEle = this.overflowDDB.target;\n            if (overflowEle.childElementCount === 0) {\n                this.removeOverflowButton(this.overflowDDB);\n                this.overflowDDB = null;\n            }\n        }\n    };\n    Ribbon.prototype.createOverflowPopup = function (item, tabIndex, isGroupOF, groupId, groupHeader, itemEle, groupContainer) {\n        var overflowButton;\n        if (isGroupOF) {\n            var overflowDDB = groupContainer.querySelector('#' + groupId + constants.GROUPOF_BUTTON_ID);\n            if (!overflowDDB) {\n                overflowButton = this.addOverflowButton(groupId + constants.GROUPOF_BUTTON_ID);\n                overflowButton.element.classList.add(constants.RIBBON_GROUP_OF_BUTTON);\n                groupContainer.appendChild(overflowButton.element);\n            }\n            else {\n                overflowButton = getInstance(overflowDDB, DropDownButton);\n            }\n            overflowButton.target.append(itemEle);\n        }\n        else {\n            if (!this.overflowDDB) {\n                this.overflowDDB = this.addOverflowButton(this.tabObj.element.id + constants.OVRLOF_BUTTON_ID);\n                this.tabObj.element.insertBefore(this.overflowDDB.element, this.collapseButton);\n                this.overflowDDB.element.classList.add(constants.RIBBON_OVERALL_OF_BUTTON);\n                this.createOfTabContainer(groupId, groupHeader, itemEle, tabIndex);\n            }\n            else {\n                this.overflowDDB.element.classList.remove(constants.HIDE_CSS);\n                var overflowEle = this.overflowDDB.target;\n                var ofTabContainer = overflowEle.querySelector('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                if (ofTabContainer) {\n                    var ofGroupContainer = overflowEle.querySelector('#' + groupId + constants.CONTAINER_ID);\n                    if (!ofGroupContainer) {\n                        ofGroupContainer = this.createGroupContainer(groupId, groupHeader);\n                        ofTabContainer.append(ofGroupContainer);\n                    }\n                    ofGroupContainer.append(itemEle);\n                }\n                else {\n                    this.createOfTabContainer(groupId, groupHeader, itemEle, tabIndex);\n                }\n            }\n            overflowButton = this.overflowDDB;\n        }\n        if (itemEle !== null) {\n            this.addOverflowEvents(item, itemEle, overflowButton);\n        }\n    };\n    Ribbon.prototype.addOverflowEvents = function (item, itemEle, overflowButton) {\n        switch (item.type) {\n            case 'Button':\n                this.ribbonButtonModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'DropDown':\n                this.ribbonDropDownModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'SplitButton':\n                this.ribbonSplitButtonModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'CheckBox':\n                this.ribbonCheckBoxModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'ColorPicker':\n                this.ribbonColorPickerModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n            case 'ComboBox':\n                this.ribbonComboBoxModule.addOverFlowEvents(item, itemEle, overflowButton);\n                break;\n        }\n    };\n    Ribbon.prototype.createOfTabContainer = function (groupId, groupHeader, itemEle, tabIndex) {\n        var ofTabContainer = this.createElement('div', {\n            id: this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.OVERFLOW_ID,\n            className: constants.RIBBON_OF_TAB_CONTAINER\n        });\n        var overflowtarget = this.overflowDDB.target;\n        overflowtarget.append(ofTabContainer);\n        var ofGroupContainer = this.createGroupContainer(groupId, groupHeader);\n        ofGroupContainer.append(itemEle);\n        ofTabContainer.append(ofGroupContainer);\n        if (tabIndex === this.selectedTab) {\n            ofTabContainer.classList.add(constants.RIBBON_TAB_ACTIVE);\n        }\n    };\n    Ribbon.prototype.checkGroupShrinking = function (tabIndex, tabContent, activeContent, isLarge) {\n        var isOverFlow = true;\n        var isBreak = false;\n        var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n        for (var j = (tab.groups.length - 1); (isOverFlow && (j >= 0)); j--) {\n            // eslint-disable-next-line max-len\n            isBreak = isLarge ? this.checkLargeToMedium(tabIndex, tab, j, tabContent, activeContent) : this.checkMediumToSmall(tabIndex, tab, j, tabContent, activeContent);\n            isOverFlow = !isBreak && (tabContent.offsetWidth < activeContent.offsetWidth);\n        }\n        return isBreak;\n    };\n    Ribbon.prototype.checkValidCollectionLength = function (collections) {\n        var count = 0;\n        for (var i = 0; i < collections.length; i++) {\n            var items = collections[parseInt(i.toString(), 10)].items;\n            for (var ind = 0; ind < items.length; ind++) {\n                if (items[parseInt(ind.toString(), 10)].displayOptions & DisplayMode.Classic) {\n                    count++;\n                    break;\n                }\n            }\n            if (count > 1) {\n                return false;\n            }\n        }\n        return count === 1;\n    };\n    Ribbon.prototype.checkClassicCollection = function (collections, n, isIncrement) {\n        var items = collections[parseInt(n.toString(), 10)].items;\n        for (var ind = 0; ind < items.length; ind++) {\n            if (items[parseInt(ind.toString(), 10)].displayOptions & DisplayMode.Classic) {\n                return n;\n            }\n        }\n        n = isIncrement ? n + 1 : n - 1;\n        if (isIncrement) {\n            return (n === collections.length) ? n : this.checkClassicCollection(collections, n, isIncrement);\n        }\n        else {\n            return (n < 0) ? n : this.checkClassicCollection(collections, n, isIncrement);\n        }\n    };\n    Ribbon.prototype.checkClassicItem = function (items, n, isIncrement) {\n        var item = items[parseInt(n.toString(), 10)];\n        if (item.displayOptions & DisplayMode.Classic) {\n            return n;\n        }\n        n = isIncrement ? n + 1 : n - 1;\n        if (isIncrement) {\n            return (n === items.length) ? n : this.checkClassicItem(items, n, isIncrement);\n        }\n        else {\n            return (n < 0) ? n : this.checkClassicItem(items, n, isIncrement);\n        }\n    };\n    Ribbon.prototype.checkLargeToMedium = function (tabIndex, tab, groupIndex, tabContent, activeContent, shouldSkip) {\n        var _this = this;\n        if (shouldSkip === void 0) { shouldSkip = false; }\n        var group = tab.groups[parseInt(groupIndex.toString(), 10)];\n        if (group.isCollapsed && !shouldSkip) {\n            return false;\n        }\n        var canReduceCollection = function (collection) {\n            return (collection.items.length === 1) && canReduceItem(collection.items[0]);\n        };\n        var canReduceItem = function (item) {\n            return (item.allowedSizes & RibbonItemSize.Medium) && (item.activeSize === RibbonItemSize.Large);\n        };\n        var createShrinkEle = function (id, firstItem, start, end) {\n            var shrinkEle = _this.createElement('div', {\n                className: 'e-ribbon-shrink' + constants.SPACE + constants.RIBBON_ROW,\n                id: id + '_shrink_container' + start,\n                attrs: { 'data-start': start.toString(), 'data-end': end.toString() }\n            });\n            firstItem.parentElement.insertBefore(shrinkEle, firstItem);\n            if (!shouldSkip) {\n                shrinkEle.setAttribute('data-large-width', activeContent.offsetWidth.toString());\n            }\n            return shrinkEle;\n        };\n        var moveItemToColumn = function (start, end) {\n            var collection = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)].collections[0];\n            var firstItem = activeContent.querySelector('#' + collection.items[parseInt(start.toString(), 10)].id + constants.CONTAINER_ID);\n            var shrinkEle = shouldSkip ? activeContent.querySelector('#' + collection.id + '_shrink_container' + start) :\n                createShrinkEle(collection.id, firstItem, start, end);\n            for (var i = start; i <= end; i++) {\n                var item = collection.items[parseInt(i.toString(), 10)];\n                if (!(item.displayOptions & DisplayMode.Classic)) {\n                    continue;\n                }\n                var ele = activeContent.querySelector('#' + item.id + constants.CONTAINER_ID);\n                shrinkEle.appendChild(ele);\n                item.setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                _this.setItemSize(ele.querySelector('#' + item.id), item);\n            }\n        };\n        var moveCollectionToColumn = function (start, end) {\n            var group = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)];\n            var firstItem = activeContent.querySelector('#' + group.collections[parseInt(start.toString(), 10)].id);\n            var shrinkEle = shouldSkip ? activeContent.querySelector('#' + group.id + '_shrink_container' + start) :\n                createShrinkEle(group.id, firstItem, start, end);\n            for (var i = start; i <= end; i++) {\n                var collection = group.collections[parseInt(i.toString(), 10)];\n                var ele = activeContent.querySelector('#' + collection.id);\n                shrinkEle.appendChild(ele);\n                collection.items[0].setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                _this.setItemSize(ele.querySelector('#' + collection.items[0].id), collection.items[0]);\n            }\n        };\n        var orientation = group.orientation;\n        if (orientation === ItemOrientation.Column) {\n            for (var k = (group.collections.length - 1); k > 0; k--) {\n                //to avoid negative index while checking for the second collection\n                k = this.checkClassicCollection(group.collections, k, false);\n                var l = k - 1;\n                //Checks the element rendered at position n\n                if ((l >= 0) && canReduceCollection(group.collections[parseInt(k.toString(), 10)])) {\n                    l = this.checkClassicCollection(group.collections, l, false);\n                    //Checks the element rendered at position n-1\n                    if ((l >= 0) && canReduceCollection(group.collections[parseInt(l.toString(), 10)])) {\n                        var m = l - 1;\n                        if (m >= 0) {\n                            m = this.checkClassicCollection(group.collections, m, false);\n                        }\n                        //Checks the element rendered at position n-2\n                        if ((m >= 0) && canReduceCollection(group.collections[parseInt(m.toString(), 10)])) {\n                            moveCollectionToColumn(m, k);\n                        }\n                        else {\n                            moveCollectionToColumn(l, k);\n                        }\n                        k = m;\n                        if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                            return true;\n                        }\n                    }\n                    else {\n                        k = l;\n                    }\n                }\n            }\n        }\n        else {\n            if (this.checkValidCollectionLength(group.collections)) {\n                var collection = group.collections[0];\n                for (var k = (collection.items.length - 1); k > 0; k--) {\n                    //to avoid negative index while checking for the second item\n                    k = this.checkClassicItem(collection.items, k, false);\n                    var l = k - 1;\n                    //Checks the element rendered at position n\n                    if ((l >= 0) && canReduceItem(collection.items[parseInt(k.toString(), 10)])) {\n                        l = this.checkClassicItem(collection.items, l, false);\n                        //Checks the element rendered at position n-1\n                        if ((l >= 0) && canReduceItem(collection.items[parseInt(l.toString(), 10)])) {\n                            var m = l - 1;\n                            //Checks the element rendered at position n-2\n                            if (m >= 0) {\n                                m = this.checkClassicItem(collection.items, m, false);\n                            }\n                            if ((m >= 0) && canReduceItem(collection.items[parseInt(m.toString(), 10)])) {\n                                moveItemToColumn(m, k);\n                            }\n                            else {\n                                moveItemToColumn(l, k);\n                            }\n                            k = m;\n                            if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                                return true;\n                            }\n                        }\n                        else {\n                            k = l;\n                        }\n                    }\n                }\n            }\n        }\n        return false;\n    };\n    Ribbon.prototype.checkMediumToSmall = function (tabIndex, tab, groupIndex, tabContent, activeContent, shouldSkip) {\n        var _this = this;\n        if (shouldSkip === void 0) { shouldSkip = false; }\n        var group = tab.groups[parseInt(groupIndex.toString(), 10)];\n        if (group.isCollapsed && !shouldSkip) {\n            return false;\n        }\n        var orientation = group.orientation;\n        var ele = activeContent.querySelector('#' + group.id);\n        var shrinkColumns = ele.querySelectorAll('.' + 'e-ribbon-shrink');\n        var canReduceItem = function (item) {\n            return (item.allowedSizes & RibbonItemSize.Small) && (item.activeSize === RibbonItemSize.Medium);\n        };\n        var reduceItemsToSmall = function (collectionIndex, start, end, middle) {\n            if (middle === void 0) { middle = null; }\n            var collection = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)].collections[parseInt(collectionIndex.toString(), 10)];\n            var reduce = function (i) {\n                var item = collection.items[parseInt(i.toString(), 10)];\n                if (item.displayOptions & DisplayMode.Classic) {\n                    var ele_1 = activeContent.querySelector('#' + item.id);\n                    item.setProperties({ activeSize: RibbonItemSize.Small }, true);\n                    _this.setItemSize(ele_1, item);\n                }\n            };\n            reduce(start);\n            if (middle) {\n                reduce(middle);\n            }\n            reduce(end);\n        };\n        var reduceCollectionsToSmall = function (index, start, end, middle) {\n            if (middle === void 0) { middle = null; }\n            var group = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)];\n            if (!shouldSkip) {\n                shrinkColumns[parseInt(index.toString(), 10)].setAttribute('data-medium-width', activeContent.offsetWidth.toString());\n            }\n            var reduce = function (i) {\n                var collection = group.collections[parseInt(i.toString(), 10)];\n                if (collection.items[0].displayOptions & DisplayMode.Classic) {\n                    var ele_2 = activeContent.querySelector('#' + collection.items[0].id);\n                    collection.items[0].setProperties({ activeSize: RibbonItemSize.Small }, true);\n                    _this.setItemSize(ele_2, collection.items[0]);\n                }\n            };\n            reduce(start);\n            if (middle) {\n                reduce(middle);\n            }\n            reduce(end);\n        };\n        var setWidth = function (id) {\n            if (!shouldSkip) {\n                var ele_3 = activeContent.querySelector('#' + id);\n                ele_3.setAttribute('data-medium-width', activeContent.offsetWidth.toString());\n            }\n        };\n        if (orientation === ItemOrientation.Column) {\n            if (shrinkColumns.length > 0) {\n                for (var k = (shrinkColumns.length - 1); k >= 0; k--) {\n                    var start = parseInt(shrinkColumns[parseInt(k.toString(), 10)].getAttribute('data-start'), 10);\n                    var end = parseInt(shrinkColumns[parseInt(k.toString(), 10)].getAttribute('data-end'), 10);\n                    //only 2 or 3 itmes alone can be present in shrinked column\n                    var l = this.checkClassicCollection(group.collections, start + 1, false); //next valid item\n                    if (canReduceItem(group.collections[parseInt(start.toString(), 10)].items[0])\n                        && canReduceItem(group.collections[parseInt(l.toString(), 10)].items[0])) {\n                        if (end === l) { //if only 2 item, then next valid item will be the end item, else check for 3 rd item satus.\n                            reduceCollectionsToSmall(k, start, end);\n                        }\n                        else if (canReduceItem(group.collections[parseInt(end.toString(), 10)].items[0])) {\n                            reduceCollectionsToSmall(k, start, end, l);\n                        }\n                        if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                            return true;\n                        }\n                    }\n                }\n            }\n            for (var k = (group.collections.length - 1); k >= 0; k--) {\n                var collection = group.collections[parseInt(k.toString(), 10)];\n                var classicItems = [];\n                for (var i = 0; i < collection.items.length; i++) {\n                    if (collection.items[parseInt(i.toString(), 10)].displayOptions & DisplayMode.Classic) {\n                        classicItems.push(i);\n                    }\n                }\n                //If items length is 1 then, it would have been already check for shrinked column\n                if ((classicItems.length > 1)) {\n                    if (canReduceItem(collection.items[classicItems[0]]) && canReduceItem(collection.items[classicItems[1]])) {\n                        if (classicItems.length === 2) {\n                            setWidth(collection.id);\n                            reduceItemsToSmall(k, classicItems[0], classicItems[1]);\n                        }\n                        else if (canReduceItem(collection.items[classicItems[2]])) {\n                            setWidth(collection.id);\n                            reduceItemsToSmall(k, classicItems[0], classicItems[2], classicItems[1]);\n                        }\n                        if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                            return true;\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            if (this.checkValidCollectionLength(group.collections)) {\n                if (shrinkColumns.length > 0) {\n                    for (var k = (shrinkColumns.length - 1); k >= 0; k--) {\n                        var shrinkColumn = shrinkColumns[parseInt(k.toString(), 10)];\n                        var start = parseInt(shrinkColumn.getAttribute('data-start'), 10);\n                        var end = parseInt(shrinkColumn.getAttribute('data-end'), 10);\n                        //only 2 or 3 itmes alone can be present in shrinked column\n                        var collection = group.collections[0];\n                        var l = this.checkClassicItem(collection.items, start + 1, false); //next valid item\n                        if (canReduceItem(group.collections[0].items[parseInt(start.toString(), 10)])\n                            && canReduceItem(group.collections[0].items[parseInt(l.toString(), 10)])) {\n                            if (end === l) { //if only 2 item, then next valid item will be the end item, else check for 3 rd item satus.\n                                setWidth(shrinkColumn.id);\n                                reduceItemsToSmall(0, start, end);\n                            }\n                            else if (canReduceItem(group.collections[0].items[parseInt(end.toString(), 10)])) {\n                                setWidth(shrinkColumn.id);\n                                reduceItemsToSmall(0, start, end, l);\n                            }\n                            if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                                return true;\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                for (var k = (group.collections.length - 1); k >= 0; k--) {\n                    var collection = group.collections[parseInt(k.toString(), 10)];\n                    for (var l = (collection.items.length - 1); l >= 0; l--) {\n                        l = this.checkClassicItem(collection.items, l, false);\n                        if (l < 0) {\n                            continue;\n                        }\n                        var item = collection.items[parseInt(l.toString(), 10)];\n                        if (canReduceItem(item)) {\n                            setWidth(item.id);\n                            reduceItemsToSmall(k, l, l);\n                            if (!shouldSkip && (tabContent.offsetWidth > activeContent.offsetWidth)) {\n                                return true;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return false;\n    };\n    Ribbon.prototype.checkGroupExpanding = function (tabIndex, tabContent, activeContent, isSmall) {\n        var isBreak = false;\n        var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n        for (var j = 0; (!isBreak && (j < tab.groups.length)); j++) {\n            isBreak = isSmall ? this.checkSmallToMedium(tabIndex, tab, j, tabContent, activeContent, false, true) :\n                this.checkMediumToLarge(tabIndex, tab, j, tabContent, activeContent, false, true);\n        }\n        return isBreak;\n    };\n    // eslint-disable-next-line max-len\n    Ribbon.prototype.checkSmallToMedium = function (tabIndex, tab, groupIndex, tabContent, activeContent, shouldSkip, shouldClear) {\n        var _this = this;\n        var group = tab.groups[parseInt(groupIndex.toString(), 10)];\n        var orientation = group.orientation;\n        var ele = activeContent.querySelector('#' + group.id);\n        var shrinkColumns = ele.querySelectorAll('.' + 'e-ribbon-shrink');\n        var canExpandItem = function (item) {\n            return (item.allowedSizes & RibbonItemSize.Medium) && (item.activeSize === RibbonItemSize.Small);\n        };\n        var expandItemToMedium = function (collectionIndex, index, parentEle) {\n            var collection = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)].collections[parseInt(collectionIndex.toString(), 10)];\n            var item = collection.items[parseInt(index.toString(), 10)];\n            if (item.displayOptions & DisplayMode.Classic) {\n                var ele_4 = parentEle.id === item.id ? parentEle : parentEle.querySelector('#' + item.id);\n                item.setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                _this.setItemSize(ele_4, item);\n            }\n        };\n        var expandCollectionsToMedium = function (i) {\n            var collections = _this.tabs[parseInt(tabIndex.toString(), 10)]\n                .groups[parseInt(groupIndex.toString(), 10)].collections;\n            var item = collections[parseInt(i.toString(), 10)].items[0];\n            if (item.displayOptions & DisplayMode.Classic) {\n                var ele_5 = activeContent.querySelector('#' + collections[parseInt(i.toString(), 10)].items[0].id);\n                collections[parseInt(i.toString(), 10)].items[0].setProperties({ activeSize: RibbonItemSize.Medium }, true);\n                _this.setItemSize(ele_5, collections[parseInt(i.toString(), 10)].items[0]);\n            }\n        };\n        if (orientation === ItemOrientation.Row) {\n            // collection length is 1, then the it wll be covered in shrinked columns\n            if (!this.checkValidCollectionLength(group.collections)) {\n                for (var k = 0; k < group.collections.length; k++) {\n                    var collection = group.collections[parseInt(k.toString(), 10)];\n                    for (var l = 0; l < collection.items.length; l++) {\n                        l = this.checkClassicItem(collection.items, l, true);\n                        if (l === collection.items.length) {\n                            continue;\n                        }\n                        var item = collection.items[parseInt(l.toString(), 10)];\n                        if (canExpandItem(item)) {\n                            var itemEle = activeContent.querySelector('#' + item.id);\n                            var valString = itemEle.getAttribute('data-medium-width');\n                            var value = valString ? parseInt(valString, 10) : null;\n                            if (value && (shouldSkip || (tabContent.offsetWidth > value))) {\n                                expandItemToMedium(k, l, itemEle);\n                                if (!shouldSkip || shouldClear) {\n                                    itemEle.removeAttribute('data-medium-width');\n                                }\n                            }\n                            else if (value) {\n                                return true;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            for (var k = 0; k < group.collections.length; k++) {\n                //If items length is 1 then, it will be handled in shrinked column\n                if ((group.collections[parseInt(k.toString(), 10)].items.length > 1)) {\n                    var collection = group.collections[parseInt(k.toString(), 10)];\n                    var itemEle = activeContent.querySelector('#' + collection.id);\n                    var valString = itemEle.getAttribute('data-medium-width');\n                    var value = valString ? parseInt(valString, 10) : null;\n                    var classicItems = [];\n                    for (var i = 0; i < collection.items.length; i++) {\n                        if (collection.items[parseInt(i.toString(), 10)].displayOptions & DisplayMode.Classic) {\n                            classicItems.push(i);\n                        }\n                    }\n                    if ((classicItems.length > 1) && value && (shouldSkip || (tabContent.offsetWidth > value))) {\n                        expandItemToMedium(k, classicItems[0], itemEle);\n                        expandItemToMedium(k, classicItems[1], itemEle);\n                        if (classicItems.length === 3) {\n                            expandItemToMedium(k, classicItems[2], itemEle);\n                        }\n                        if (!shouldSkip || shouldClear) {\n                            itemEle.removeAttribute('data-medium-width');\n                        }\n                    }\n                    else if (value) {\n                        return true;\n                    }\n                }\n            }\n        }\n        if (shrinkColumns.length > 0) {\n            for (var k = 0; k < shrinkColumns.length; k++) {\n                var shrinkColumn = shrinkColumns[parseInt(k.toString(), 10)];\n                var valString = shrinkColumn.getAttribute('data-medium-width');\n                var value = valString ? parseInt(valString, 10) : null;\n                if (value && (shouldSkip || (tabContent.offsetWidth > value))) {\n                    var start = parseInt(shrinkColumn.getAttribute('data-start'), 10);\n                    var end = parseInt(shrinkColumn.getAttribute('data-end'), 10);\n                    if (orientation === ItemOrientation.Row) {\n                        var collection = group.collections[0];\n                        var l = this.checkClassicItem(collection.items, start + 1, true); //next valid item\n                        expandItemToMedium(0, start, shrinkColumn);\n                        expandItemToMedium(0, l, shrinkColumn);\n                        // if l == end, then l is the last item, else L is the middle item. If l is middle then call the method for end.\n                        if (l !== end) {\n                            expandItemToMedium(0, end, shrinkColumn);\n                        }\n                    }\n                    else {\n                        var m = this.checkClassicCollection(group.collections, start + 1, true); //next valid item\n                        expandCollectionsToMedium(start);\n                        expandCollectionsToMedium(m);\n                        if (m !== end) {\n                            expandCollectionsToMedium(end);\n                        }\n                    }\n                    if (!shouldSkip || shouldClear) {\n                        shrinkColumn.removeAttribute('data-medium-width');\n                    }\n                }\n                else if (value) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    Ribbon.prototype.checkMediumToLarge = function (tabIndex, tab, groupIndex, tabContent, activeContent, shouldSkip, shouldClear) {\n        var _this = this;\n        var group = tab.groups[parseInt(groupIndex.toString(), 10)];\n        var orientation = group.orientation;\n        var ele = activeContent.querySelector('#' + group.id);\n        var shrinkColumns = ele.querySelectorAll('.' + 'e-ribbon-shrink');\n        if (shrinkColumns.length === 0) {\n            return false;\n        }\n        var expandItemsToLarge = function (start, end, parentEle, middle) {\n            var items = _this.tabs[parseInt(tabIndex.toString(), 10)].\n                groups[parseInt(groupIndex.toString(), 10)].collections[0].items;\n            var reduce = function (i) {\n                var item = items[parseInt(i.toString(), 10)];\n                if (item.displayOptions & DisplayMode.Classic) {\n                    var container = parentEle.querySelector('#' + item.id + constants.CONTAINER_ID);\n                    var ele_6 = container.querySelector('#' + item.id);\n                    item.setProperties({ activeSize: RibbonItemSize.Large }, true);\n                    _this.setItemSize(ele_6, item);\n                    parentEle.insertAdjacentElement('afterend', container);\n                }\n            };\n            reduce(start);\n            if (middle) {\n                reduce(middle);\n            }\n            reduce(end);\n            if (!shouldSkip || shouldClear) {\n                remove(parentEle);\n            }\n        };\n        var expandCollectionsToLarge = function (start, end, parentEle, middle) {\n            var collections = _this.tabs[parseInt(tabIndex.toString(), 10)].\n                groups[parseInt(groupIndex.toString(), 10)].collections;\n            var reduce = function (i) {\n                var collection = collections[parseInt(i.toString(), 10)];\n                if (collection.items[0].displayOptions & DisplayMode.Classic) {\n                    var collectionEle = parentEle.querySelector('#' + collection.id);\n                    var ele_7 = collectionEle.querySelector('#' + collection.items[0].id);\n                    collection.items[0].setProperties({ activeSize: RibbonItemSize.Large }, true);\n                    _this.setItemSize(ele_7, collection.items[0]);\n                    parentEle.insertAdjacentElement('afterend', collectionEle);\n                }\n            };\n            reduce(start);\n            if (middle) {\n                reduce(middle);\n            }\n            reduce(end);\n            if (!shouldSkip || shouldClear) {\n                remove(parentEle);\n            }\n        };\n        for (var k = 0; k < shrinkColumns.length; k++) {\n            var shrinkColumn = shrinkColumns[parseInt(k.toString(), 10)];\n            var valString = shrinkColumn.getAttribute('data-large-width');\n            var value = valString ? parseInt(valString, 10) : null;\n            if (value && (shouldSkip || (tabContent.offsetWidth > value))) {\n                var start = parseInt(shrinkColumn.getAttribute('data-start'), 10);\n                var end = parseInt(shrinkColumn.getAttribute('data-end'), 10);\n                if (orientation === ItemOrientation.Row) {\n                    var collection = group.collections[0];\n                    var l = this.checkClassicItem(collection.items, start + 1, true); //next valid item\n                    if (l === end) {\n                        expandItemsToLarge(start, end, shrinkColumn);\n                    }\n                    else {\n                        expandItemsToLarge(start, end, shrinkColumn, l);\n                    }\n                }\n                else {\n                    var m = this.checkClassicCollection(group.collections, start + 1, true); //next valid item\n                    if (m === end) {\n                        expandCollectionsToLarge(start, end, shrinkColumn);\n                    }\n                    else {\n                        expandCollectionsToLarge(start, end, shrinkColumn, m);\n                    }\n                }\n                if (!shouldSkip || shouldClear) {\n                    shrinkColumn.removeAttribute('data-large-width');\n                }\n            }\n            else if (value) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Ribbon.prototype.setItemSize = function (itemEle, item) {\n        var itemContainer = itemEle.closest('.' + constants.RIBBON_ITEM);\n        if (item.type === RibbonItemType.Button) {\n            this.ribbonButtonModule.updateButtonSize(itemEle, item);\n        }\n        else if (item.type === RibbonItemType.DropDown) {\n            this.ribbonDropDownModule.updateDropDownSize(itemEle, item);\n        }\n        else if (item.type === RibbonItemType.SplitButton) {\n            this.ribbonSplitButtonModule.updateSplitButtonSize(itemEle, item);\n        }\n        else if (item.type === RibbonItemType.Template) {\n            remove(itemEle);\n            this.createTemplateContent(item, itemContainer);\n        }\n        itemContainer.classList.remove(constants.RIBBON_CONTENT_HEIGHT, constants.RIBBON_LARGE_ITEM, constants.RIBBON_MEDIUM_ITEM, constants.RIBBON_SMALL_ITEM);\n        if (item.activeSize === RibbonItemSize.Large) {\n            itemContainer.classList.add(constants.RIBBON_LARGE_ITEM, constants.RIBBON_CONTENT_HEIGHT);\n        }\n        else {\n            itemContainer.classList.add((item.activeSize === RibbonItemSize.Medium) ?\n                constants.RIBBON_MEDIUM_ITEM : constants.RIBBON_SMALL_ITEM);\n        }\n    };\n    Ribbon.prototype.createOverflowDropdown = function (tabIndex, tabContent, activeContent) {\n        var collapseOrder = this.getGroupResizeOrder(true, tabIndex);\n        if (collapseOrder.length === 0) {\n            return;\n        }\n        var _loop_1 = function (i) {\n            var group = collapseOrder[parseInt(i.toString(), 10)];\n            var groupEle = this_1.tabObj.element.querySelector('#' + group.id);\n            groupEle.setAttribute('data-expanded-width', activeContent.offsetWidth.toString());\n            var groupContainer = groupEle.querySelector('#' + group.id + constants.CONTAINER_ID);\n            var groupOverFlow = this_1.createElement('div', {\n                className: constants.RIBBON_GROUP_OVERFLOW + constants.SPACE + constants.RIBBON_LARGE_ITEM,\n                id: group.id + constants.OVERFLOW_ID + constants.CONTAINER_ID\n            });\n            groupEle.insertBefore(groupOverFlow, groupContainer);\n            var groupIndex = getIndex(this_1.tabs[parseInt(tabIndex.toString(), 10)].groups, function (e) { return e.id === group.id; });\n            var tab = this_1.tabs[parseInt(tabIndex.toString(), 10)];\n            //Expanding the items in the group to their original expanded state\n            this_1.checkSmallToMedium(tabIndex, tab, groupIndex, tabContent, activeContent, true, false);\n            this_1.checkMediumToLarge(tabIndex, tab, groupIndex, tabContent, activeContent, true, false);\n            var dropdown = this_1.ribbonDropDownModule.createOverFlowDropDown(group.id, group.header, group.groupIconCss, groupContainer, groupOverFlow, this_1.enableRtl);\n            this_1.tabs[parseInt(tabIndex.toString(), 10)].\n                groups[parseInt(groupIndex.toString(), 10)].setProperties({ isCollapsed: true }, true);\n            for (var j = 0; j < group.collections.length; j++) {\n                var collection = group.collections[parseInt(j.toString(), 10)];\n                var collectionEle = groupContainer.querySelector('#' + collection.id);\n                for (var k = 0; k < collection.items.length; k++) {\n                    var item = collection.items[parseInt(k.toString(), 10)];\n                    var itemEle = collectionEle.querySelector('#' + item.id + constants.CONTAINER_ID);\n                    if (itemEle !== null) {\n                        this_1.addOverflowEvents(item, itemEle, dropdown);\n                    }\n                }\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; ((i < collapseOrder.length) && (tabContent.offsetWidth < activeContent.offsetWidth)); i++) {\n            _loop_1(i);\n        }\n    };\n    // eslint-disable-next-line max-len\n    Ribbon.prototype.removeOverflowDropdown = function (tabContent, activeContent, isClear, tabIndex) {\n        if (isClear === void 0) { isClear = false; }\n        var expandOrder = this.getGroupResizeOrder(false, tabIndex);\n        if (expandOrder.length === 0) {\n            return false;\n        }\n        var _loop_2 = function (i) {\n            var group = expandOrder[parseInt(i.toString(), 10)];\n            var groupEle = this_2.tabObj.element.querySelector('#' + group.id);\n            if (!groupEle) {\n                return \"break\";\n            } //to handle the rerendering of tabcontrol when a ribbon tab is added/removed\n            var width = parseInt(groupEle.getAttribute('data-expanded-width'), 10);\n            if (!isClear && (tabContent.offsetWidth < width)) {\n                return { value: true };\n            }\n            this_2.removeDropdown(group.id);\n            var groupIndex = getIndex(this_2.tabs[parseInt(tabIndex.toString(), 10)].groups, function (e) { return e.id === group.id; });\n            this_2.tabs[parseInt(tabIndex.toString(), 10)].\n                groups[parseInt(groupIndex.toString(), 10)].setProperties({ isCollapsed: false }, true);\n            var tab = this_2.tabs[parseInt(tabIndex.toString(), 10)];\n            //Shrinking the items in the group to their previous shrinked state (before moving to dropdown)\n            this_2.checkLargeToMedium(tabIndex, tab, groupIndex, tabContent, activeContent, true);\n            this_2.checkMediumToSmall(tabIndex, tab, groupIndex, tabContent, activeContent, true);\n            for (var j = 0; j < group.collections.length; j++) {\n                var collection = group.collections[parseInt(j.toString(), 10)];\n                var collectionEle = groupEle.querySelector('#' + collection.id);\n                for (var k = 0; k < collection.items.length; k++) {\n                    var item = collection.items[parseInt(k.toString(), 10)];\n                    var itemEle = collectionEle.querySelector('#' + item.id + constants.CONTAINER_ID);\n                    if (itemEle !== null) {\n                        this_2.removeOverflowEvent(item, itemEle);\n                    }\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < expandOrder.length; i++) {\n            var state_1 = _loop_2(i);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n            if (state_1 === \"break\")\n                break;\n        }\n        return false;\n    };\n    Ribbon.prototype.removeDropdown = function (groupId) {\n        var dropdownElement = this.tabObj.element.querySelector('#' + groupId + constants.OVERFLOW_ID + constants.DROPDOWN_ID);\n        if (dropdownElement) {\n            var groupOverFlow = dropdownElement.parentElement;\n            this.ribbonDropDownModule.removeOverFlowDropDown(dropdownElement);\n            remove(groupOverFlow);\n        }\n    };\n    Ribbon.prototype.getGroupResizeOrder = function (isCollapse, tabIndex) {\n        var _this = this;\n        var groups = this.tabs[parseInt(tabIndex.toString(), 10)].groups;\n        groups = groups.filter(function (e) {\n            // (isUndefined(e.isCollapsible) || e.isCollapsible) => check whethe rhte item is collapsible\n            // if a isCollapsed property is undefined, then it is considered collapsible and included in collapsible list\n            // ((isCollapse && !e.isCollapsed)||(!isCollapse && e.isCollapsed)) => isCollapse !== e.isCollapsed\n            return (_this.activeLayout === 'Classic') ? (isUndefined(e.isCollapsible) || e.isCollapsible) && ((isCollapse &&\n                isUndefined(e.isCollapsed)) || (!isUndefined(e.isCollapsed) && (isCollapse !== e.isCollapsed))) : true;\n        });\n        //sort the collapsible groups based on the priority\n        groups.sort(function (a, b) { return a.priority - b.priority; });\n        //reverse the sorted array to return the array in descending order while collapsing.\n        return isCollapse ? groups.reverse() : groups;\n    };\n    Ribbon.prototype.destroyScroll = function () {\n        if (this.scrollModule) {\n            this.scrollModule.destroy();\n            this.scrollModule = null;\n        }\n    };\n    Ribbon.prototype.clearOverflowDropDown = function (index) {\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[parseInt(index.toString(), 10)].id + constants.CONTENT_ID);\n        if (!activeContent) {\n            return;\n        }\n        var tabContent = activeContent.closest('.' + constants.TAB_CONTENT);\n        if (this.activeLayout === 'Simplified') {\n            this.removeSimplfiedOverflow(activeContent, tabContent, index, true);\n        }\n        else {\n            this.removeOverflowDropdown(activeContent, tabContent, true, index);\n        }\n    };\n    Ribbon.prototype.ribbonTabSelecting = function (e) {\n        var _this = this;\n        this.currentControlIndex = 0;\n        var nextTabId = e.selectingItem.getAttribute('data-id');\n        var previousTabId = e.previousItem.getAttribute('data-id');\n        var nextIndex = getIndex(this.tabs, (function (tab) { return (tab.id === nextTabId); }));\n        var previousIndex = getIndex(this.tabs, (function (tab) { return (tab.id === previousTabId); }));\n        nextIndex = nextIndex === -1 ? this.selectedTab : nextIndex;\n        var eventArgs = {\n            cancel: e.cancel, isInteracted: e.isInteracted, previousIndex: previousIndex, selectedIndex: nextIndex\n        };\n        this.trigger('tabSelecting', eventArgs, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            _this.destroyScroll();\n            if (!_this.isAddRemove && (previousIndex !== -1)) {\n                _this.clearOverflowDropDown(previousIndex);\n            }\n            var selectedTabContent = _this.tabObj.items[parseInt(nextIndex.toString(), 10)].content;\n            if ((!selectedTabContent.querySelector('.' + constants.RIBBON_GROUP)) && (_this.tabs[parseInt(nextIndex.toString(), 10)].groups.length !== 0)) {\n                var elements = _this.createGroups(_this.tabs[parseInt(nextIndex.toString(), 10)].groups, nextIndex);\n                append(elements, selectedTabContent);\n            }\n        });\n    };\n    Ribbon.prototype.createTabItems = function (tabs) {\n        var _this = this;\n        var tabItems = [];\n        for (var i = 0; i < tabs.length; i++) {\n            var ribbonTab = tabs[parseInt(i.toString(), 10)];\n            var header = this.createElement('span', {\n                innerHTML: ribbonTab.header,\n                id: ribbonTab.id + constants.HEADER_ID\n            });\n            header.onclick = function () { _this.minimize(false); };\n            header.ondblclick = function () { _this.minimize(true); };\n            var tab = { header: { text: header }, id: ribbonTab.id, cssClass: ribbonTab.cssClass };\n            var content = this.createElement('div', {\n                className: tab.cssClass,\n                id: ribbonTab.id + constants.CONTENT_ID\n            });\n            content.classList.add(constants.RIBBON_TAB_ITEM);\n            tab.content = content;\n            tabItems.push(tab);\n        }\n        return tabItems;\n    };\n    Ribbon.prototype.renderInitialTab = function (index) {\n        var elements = this.createGroups(this.tabs[parseInt(index.toString(), 10)].groups, index);\n        var content = this.tabObj.items[parseInt(index.toString(), 10)].content;\n        append(elements, content);\n        if (this.activeLayout === 'Simplified') {\n            this.element.classList.add(constants.RIBBON_SIMPLIFIED_MODE);\n        }\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[this.selectedTab].id + constants.CONTENT_ID);\n        this.checkOverflow(this.selectedTab, activeContent);\n    };\n    Ribbon.prototype.addOverflowButton = function (btnId) {\n        var _this = this;\n        var overflowButton = this.createElement('button', {\n            id: btnId\n        });\n        var overflowTarget = this.createElement('div', {\n            className: constants.RIBBON_OVERFLOW_TARGET,\n            attrs: { 'tabindex': '0' }\n        });\n        var overflowDDB = new DropDownButton({\n            iconCss: constants.OVERFLOW_ICON,\n            cssClass: constants.DROPDOWNBUTTON_HIDE + constants.SPACE + constants.RIBBON_GROUP_OVERFLOW_DDB,\n            target: overflowTarget,\n            locale: this.locale,\n            enableRtl: this.enableRtl,\n            enablePersistence: this.enablePersistence,\n            beforeClose: function (args) {\n                var ele = args.event ? closest(args.event.target, '.' + constants.RIBBON_POPUP_CONTROL) : null;\n                if (ele) {\n                    args.cancel = true;\n                }\n            }\n        }, overflowButton);\n        this.element.classList.add(constants.RIBBON_OVERFLOW);\n        createTooltip(overflowTarget, this);\n        var isGroupOf;\n        overflowButton.onkeydown = overflowButton.onclick = function () { _this.itemIndex = -1; isGroupOf = overflowButton.classList.contains('e-ribbon-overall-of-btn') ? false : true; };\n        overflowTarget.onkeydown = function (e) { return (_this.upDownKeyHandler(e, overflowTarget, isGroupOf), _this); };\n        return overflowDDB;\n    };\n    Ribbon.prototype.upDownKeyHandler = function (e, target, isGroupOf) {\n        var items;\n        if (isGroupOf) {\n            items = target.getElementsByClassName('e-ribbon-item');\n        }\n        else {\n            var currentList = target.querySelector('.e-ribbon-of-tab.e-ribbon-active');\n            items = currentList.getElementsByClassName('e-ribbon-item');\n        }\n        var comboBoxEle = items[(!this.itemIndex || this.itemIndex < 0) ? 0 : this.itemIndex].querySelector('.e-control').classList.contains('e-combobox') ? items[(!this.itemIndex || this.itemIndex < 0) ? 0 : this.itemIndex].querySelector('.e-combobox') : null;\n        var ribbonItem;\n        if (comboBoxEle === null || (e.key === 'Tab') || this.itemIndex < 0) {\n            if (e.key === 'ArrowDown' || (!e.shiftKey && e.key === 'Tab')) {\n                if ((!this.itemIndex && this.itemIndex !== 0) || this.itemIndex < 0 || this.itemIndex === items.length - 1) {\n                    this.itemIndex = 0;\n                    ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n                    this.findDisabledItem(ribbonItem, items, true);\n                    if (comboBoxEle && e.key === 'Tab') {\n                        e.preventDefault();\n                        items[this.itemIndex].querySelector('.e-control').focus();\n                    }\n                }\n                else if (this.itemIndex < items.length - 1 && this.itemIndex >= 0) {\n                    this.itemIndex++;\n                    ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n                    this.findDisabledItem(ribbonItem, items, true);\n                }\n            }\n            else if (e.key === 'ArrowUp' || (e.shiftKey && e.key === 'Tab')) {\n                if (comboBoxEle === null || (e.key === 'Tab')) {\n                    if (!this.itemIndex || this.itemIndex === -1) {\n                        this.itemIndex = items.length - 1;\n                        ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n                        this.findDisabledItem(ribbonItem, items, false);\n                        if (comboBoxEle && (e.shiftKey && e.key === 'Tab')) {\n                            e.preventDefault();\n                            items[this.itemIndex].querySelector('.e-control').focus();\n                        }\n                    }\n                    else if (this.itemIndex <= items.length - 1 && this.itemIndex > 0) {\n                        this.itemIndex--;\n                        ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n                        this.findDisabledItem(ribbonItem, items, false);\n                    }\n                }\n            }\n            target.setAttribute('index', this.itemIndex.toString());\n        }\n        var currentItemIndex = parseInt(target.getAttribute('index'), 10);\n        var itemType = items[parseInt(currentItemIndex.toString(), 10)] ? items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-control').getAttribute('data-control') : null;\n        if (e.key === 'ArrowDown' || e.key === 'ArrowUp' || e.key === ' ' || e.key === 'Tab') {\n            if (itemType === 'ColorPicker') {\n                if (e.key === 'Tab') {\n                    e.preventDefault();\n                }\n                items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-split-colorpicker').focus();\n            }\n            else {\n                if (e.key === 'Tab') {\n                    e.preventDefault();\n                }\n                items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-control').focus();\n            }\n            if (e.key === ' ' && (itemType === 'CheckBox')) {\n                var checkBoxEle = items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-control');\n                var checkBox = getComponent(checkBoxEle, CheckBox);\n                this.itemIndex = -1;\n                checkBox.click();\n            }\n        }\n        if (((itemType === 'SplitButton') && (e.key === 'ArrowRight' || e.key === 'ArrowLeft'))) {\n            if (e.key === 'ArrowRight') {\n                this.enableRtl ? items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-control').focus() :\n                    items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-dropdown-btn').focus();\n            }\n            if (e.key === 'ArrowLeft') {\n                this.enableRtl ? items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-dropdown-btn').focus() :\n                    items[parseInt(currentItemIndex.toString(), 10)].querySelector('.e-control').focus();\n            }\n        }\n        if (e.key === 'Enter') {\n            this.itemIndex = -1;\n        }\n    };\n    Ribbon.prototype.findDisabledItem = function (ribbonItem, items, isIncrease) {\n        while (ribbonItem && ribbonItem.classList.contains('e-disabled')) {\n            if (isIncrease) {\n                if (this.itemIndex === items.length - 1 && items[this.itemIndex].closest('.e-ribbon-item').classList.contains('e-disabled')) {\n                    this.itemIndex = -1;\n                }\n            }\n            else {\n                if (this.itemIndex === 0 && items[this.itemIndex].closest('.e-ribbon-item').classList.contains('e-disabled')) {\n                    this.itemIndex = items.length;\n                }\n            }\n            // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n            isIncrease ? this.itemIndex++ : this.itemIndex--;\n            ribbonItem = items[this.itemIndex].closest('.e-ribbon-item');\n        }\n    };\n    Ribbon.prototype.removeOverflowButton = function (overflowDDB) {\n        if (overflowDDB) {\n            var btnEle = overflowDDB.element;\n            destroyTooltip(overflowDDB.target);\n            overflowDDB.destroy();\n            btnEle.remove();\n        }\n    };\n    Ribbon.prototype.removeOverflowEvent = function (item, itemEle) {\n        switch (item.type) {\n            case 'Button':\n                this.ribbonButtonModule.removeOverFlowEvents(item, itemEle);\n                break;\n            case 'DropDown':\n                this.ribbonDropDownModule.removeOverFlowEvents(item, itemEle);\n                break;\n            case 'SplitButton':\n                this.ribbonSplitButtonModule.removeOverFlowEvents(item, itemEle);\n                break;\n            case 'CheckBox':\n                this.ribbonCheckBoxModule.removeOverFlowEvents(item, itemEle);\n                break;\n            case 'ColorPicker':\n                this.ribbonColorPickerModule.removeOverFlowEvents(item, itemEle);\n                break;\n            case 'ComboBox':\n                this.ribbonComboBoxModule.removeOverFlowEvents(item, itemEle);\n                break;\n        }\n    };\n    Ribbon.prototype.createGroupContainer = function (groupId, groupHeader) {\n        var ofGroupContainer = this.createElement('div', {\n            className: constants.RIBBON_OF_GROUP_CONTAINER,\n            id: groupId + constants.CONTAINER_ID\n        });\n        var ofGroupHeader = this.createElement('div', {\n            className: constants.RIBBON_OVERFLOW_HEADER,\n            id: groupId + constants.HEADER_ID,\n            innerHTML: groupHeader\n        });\n        ofGroupContainer.append(ofGroupHeader);\n        return ofGroupContainer;\n    };\n    Ribbon.prototype.addExpandCollapse = function () {\n        var _this = this;\n        this.collapseButton = this.createElement('span', {\n            className: constants.RIBBON_COLLAPSE_BUTTON + constants.SPACE + constants.EXPAND_COLLAPSE_ICON,\n            id: this.tabObj.element.id + constants.COLLAPSE_BUTTON_ID,\n            attrs: { 'tabindex': '0', 'type': 'button', 'aria-label': 'Layout Switcher', 'role': 'button' }\n        });\n        this.collapseButton.onclick = function () { _this.toggleLayout(); };\n        this.collapseButton.onkeydown = function (e) {\n            if (e.key === 'Enter') {\n                _this.toggleLayout();\n            }\n        };\n        this.element.classList.add(constants.RIBBON_COLLAPSIBLE);\n        if (this.activeLayout === 'Simplified') {\n            this.collapseButton.classList.add(constants.RIBBON_EXPAND_BUTTON);\n        }\n        this.tabObj.element.appendChild(this.collapseButton);\n    };\n    Ribbon.prototype.removeExpandCollapse = function () {\n        var _this = this;\n        var index = getIndex(this.tooltipData, function (e) { return e.id === _this.collapseButton.id; });\n        if (index !== -1) {\n            this.tooltipData.splice(index, 1);\n        }\n        this.element.classList.remove(constants.RIBBON_COLLAPSIBLE);\n        remove(this.tabObj.element.querySelector('.' + constants.RIBBON_COLLAPSE_BUTTON));\n        this.collapseButton = null;\n    };\n    Ribbon.prototype.reRenderTabs = function () {\n        this.destroyScroll();\n        this.destroyTabItems(this.tabsInternal);\n        this.checkID(this.tabs, 'tab', this.element.id);\n        this.tabsInternal = this.tabs.slice();\n        this.validateItemSize();\n        var tabItems = this.createTabItems(this.tabs);\n        if (this.selectedTab >= this.tabs.length) {\n            this.selectedTab = this.tabs.length - 1;\n        }\n        this.tabObj.setProperties({ items: tabItems, selectedItem: this.selectedTab });\n        var contentEle = this.tabObj.items[this.selectedTab].content;\n        if (contentEle.innerHTML === '') {\n            this.renderInitialTab(this.selectedTab);\n        }\n    };\n    Ribbon.prototype.switchLayout = function () {\n        this.currentControlIndex = 0;\n        this.destroyScroll();\n        this.collapseButton.classList.toggle(constants.RIBBON_EXPAND_BUTTON, this.activeLayout === 'Simplified');\n        this.element.classList.toggle(constants.RIBBON_SIMPLIFIED_MODE, this.activeLayout === 'Simplified');\n        for (var i = 0; i <= (this.tabs.length - 1); i++) {\n            var tabIndex = i;\n            var contentEle = this.tabObj.items[parseInt(tabIndex.toString(), 10)].content;\n            if (contentEle.innerHTML !== '') {\n                var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n                var groupList = this.tabs[parseInt(tabIndex.toString(), 10)].groups;\n                var activeContent = this.tabObj.element.querySelector('#' + this.tabs[parseInt(tabIndex.toString(), 10)].id + constants.CONTENT_ID);\n                var tabContent = activeContent.closest('.' + constants.TAB_CONTENT);\n                if (this.activeLayout === 'Simplified') {\n                    for (var i_1 = 0; i_1 < groupList.length; i_1++) {\n                        var group = groupList[parseInt(i_1.toString(), 10)];\n                        var alignType = groupList[parseInt(i_1.toString(), 10)].orientation;\n                        if (group.isCollapsed) {\n                            group.setProperties({ isCollapsed: false }, true);\n                            this.removeDropdown(group.id);\n                        }\n                        else {\n                            this.checkSmallToMedium(tabIndex, tab, i_1, tabContent, activeContent, true, false);\n                            this.checkMediumToLarge(tabIndex, tab, i_1, tabContent, activeContent, true, false);\n                        }\n                        var groupEle = tabContent.querySelector('#' + group.id);\n                        var groupContainer = groupEle.querySelector('#' + group.id + constants.CONTAINER_ID);\n                        var shrinkColumns = groupContainer.querySelectorAll('.' + 'e-ribbon-shrink');\n                        for (var i_2 = 0; i_2 < shrinkColumns.length; i_2++) {\n                            shrinkColumns[parseInt(i_2.toString(), 10)].remove();\n                        }\n                        var groupHeader = groupContainer.querySelector('#' + group.id + constants.HEADER_ID);\n                        groupHeader.remove();\n                        var groupContent = groupContainer.querySelector('#' + group.id + constants.CONTENT_ID);\n                        groupContent.classList.replace(constants.RIBBON_ROW, constants.RIBBON_COLUMN);\n                        groupContent.classList.remove(constants.RIBBON_CONTENT_HEIGHT);\n                        for (var j = 0; j < group.collections.length; j++) {\n                            var collection = group.collections[parseInt(j.toString(), 10)];\n                            var groupCollection = groupContainer.querySelector('#' + collection.id);\n                            groupCollection.classList.replace(constants.RIBBON_ROW, constants.RIBBON_COLUMN);\n                            for (var k = 0; k < collection.items.length; k++) {\n                                var itemList = collection.items;\n                                var item = collection.items[parseInt(k.toString(), 10)];\n                                var flag = true;\n                                while ((flag) && (item.displayOptions === DisplayMode.Classic)) {\n                                    k++;\n                                    var itemEle_1 = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                    var ele = itemEle_1.querySelector('#' + item.id);\n                                    this.destroyFunction(item, ele);\n                                    itemEle_1.remove();\n                                    if (k < itemList.length) {\n                                        item = itemList[parseInt(k.toString(), 10)];\n                                    }\n                                    else {\n                                        flag = false;\n                                    }\n                                }\n                                if (!flag) {\n                                    break;\n                                }\n                                var size = ((item.allowedSizes === RibbonItemSize.Large) ||\n                                    (item.allowedSizes & RibbonItemSize.Medium)) ? RibbonItemSize.Medium : RibbonItemSize.Small;\n                                size = (!(item.displayOptions & DisplayMode.Simplified) && (item.displayOptions & DisplayMode.Overflow))\n                                    ? RibbonItemSize.Medium : size;\n                                var itemEle = void 0;\n                                if (!(item.displayOptions & DisplayMode.Classic)) {\n                                    itemEle = this.createItems([item], alignType, group.id, group.header, group.enableGroupOverflow, tabIndex, groupContainer)[0];\n                                    if (item.displayOptions & DisplayMode.Simplified) {\n                                        groupCollection.append(itemEle);\n                                    }\n                                }\n                                else {\n                                    itemEle = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                    if (item.displayOptions === (DisplayMode.Classic | DisplayMode.Overflow)) {\n                                        this.createOverflowPopup(item, tabIndex, group.enableGroupOverflow, group.id, group.header, itemEle, groupContainer);\n                                        if ((item.type === RibbonItemType.DropDown) || (item.type === RibbonItemType.SplitButton)) {\n                                            this.updatePopupItems(item, itemEle, group.enableGroupOverflow, true);\n                                        }\n                                    }\n                                    item.setProperties({ activeSize: size }, true);\n                                    var ele = itemEle.querySelector('#' + item.id);\n                                    this.setItemSize(ele, item);\n                                }\n                            }\n                        }\n                        if (!(group.enableGroupOverflow || groupEle.querySelector('.' + constants.RIBBON_ITEM))) {\n                            groupEle.classList.add('e-ribbon-emptyCollection');\n                        }\n                    }\n                }\n                else {\n                    this.element.classList.remove(constants.RIBBON_OVERFLOW);\n                    for (var i_3 = 0; i_3 < groupList.length; i_3++) {\n                        var group = groupList[parseInt(i_3.toString(), 10)];\n                        var alignType = groupList[parseInt(i_3.toString(), 10)].orientation;\n                        var groupContainer = tabContent.querySelector('#' + group.id + constants.CONTAINER_ID);\n                        var groupContent = groupContainer.querySelector('#' + group.id + constants.CONTENT_ID);\n                        var groupHeader = this.createElement('div', {\n                            className: constants.RIBBON_GROUP_HEADER,\n                            id: group.id + constants.HEADER_ID,\n                            innerHTML: group.header\n                        });\n                        groupContainer.appendChild(groupHeader);\n                        if (alignType === 'Row') {\n                            groupContent.classList.replace(constants.RIBBON_COLUMN, constants.RIBBON_ROW);\n                        }\n                        groupContent.classList.add(constants.RIBBON_CONTENT_HEIGHT);\n                        for (var j = 0; j < group.collections.length; j++) {\n                            var overflowDDB = void 0;\n                            var overflowtarget = void 0;\n                            if (!group.enableGroupOverflow) {\n                                overflowDDB = this.overflowDDB;\n                                if (overflowDDB) {\n                                    overflowtarget = this.overflowDDB.target;\n                                }\n                            }\n                            else {\n                                var overflowDDBEle = groupContainer.querySelector('#' + group.id + constants.GROUPOF_BUTTON_ID);\n                                if (overflowDDBEle) {\n                                    overflowDDB = getInstance(overflowDDBEle, DropDownButton);\n                                    overflowtarget = overflowDDB.target;\n                                }\n                            }\n                            var collection = group.collections[parseInt(j.toString(), 10)];\n                            var groupCollection = groupContainer.querySelector('#' + collection.id);\n                            if (alignType === 'Column') {\n                                groupCollection.classList.replace(constants.RIBBON_COLUMN, constants.RIBBON_ROW);\n                            }\n                            for (var k = 0; k < collection.items.length; k++) {\n                                var itemList = collection.items;\n                                var item = collection.items[parseInt(k.toString(), 10)];\n                                var flag = true;\n                                while ((flag) && !(item.displayOptions & DisplayMode.Classic)) {\n                                    k++;\n                                    var itemEle = void 0;\n                                    if ((item.displayOptions & DisplayMode.Simplified) || (item.displayOptions & DisplayMode.Overflow)) {\n                                        if (item.displayOptions & DisplayMode.Simplified) {\n                                            itemEle = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                        }\n                                        else {\n                                            itemEle = overflowtarget.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                        }\n                                        if (itemEle !== null) {\n                                            var ele_8 = itemEle.querySelector('#' + item.id);\n                                            this.destroyFunction(item, ele_8);\n                                            itemEle.remove();\n                                        }\n                                    }\n                                    if (k < itemList.length) {\n                                        item = itemList[parseInt(k.toString(), 10)];\n                                    }\n                                    else {\n                                        flag = false;\n                                    }\n                                }\n                                if (!flag) {\n                                    break;\n                                }\n                                if (!(item.displayOptions & (DisplayMode.Simplified | DisplayMode.Overflow))) {\n                                    var itemEle = this.createItems([item], alignType, group.id, group.header, group.enableGroupOverflow, tabIndex)[0];\n                                    groupCollection.append(itemEle);\n                                }\n                                else {\n                                    var itemEle = groupContainer.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                    if (!itemEle) {\n                                        itemEle = overflowtarget.querySelector('#' + item.id + constants.CONTAINER_ID);\n                                        if ((item.type === RibbonItemType.DropDown) || (item.type === RibbonItemType.SplitButton)) {\n                                            this.updatePopupItems(item, itemEle, group.enableGroupOverflow, false);\n                                        }\n                                        this.removeOverflowEvent(item, itemEle);\n                                    }\n                                    groupCollection.append(itemEle);\n                                }\n                                var ele = groupContainer.querySelector('#' + item.id);\n                                var itemsize = (item.allowedSizes & RibbonItemSize.Large) ? RibbonItemSize.Large :\n                                    (item.allowedSizes & RibbonItemSize.Medium) ? RibbonItemSize.Medium : RibbonItemSize.Small;\n                                item.setProperties({ activeSize: itemsize }, true);\n                                this.setItemSize(ele, item);\n                            }\n                            if (group.enableGroupOverflow && overflowDDB) {\n                                if (overflowtarget.childElementCount === 0) {\n                                    this.removeOverflowButton(overflowDDB);\n                                }\n                            }\n                        }\n                    }\n                }\n                if (this.selectedTab === tabIndex) {\n                    this.checkOverflow(tabIndex, activeContent);\n                }\n            }\n        }\n        if (this.activeLayout === 'Classic') {\n            this.removeOverflowButton(this.overflowDDB);\n            this.overflowDDB = null;\n        }\n    };\n    Ribbon.prototype.createLauncherIcon = function (groupId, groupContainer) {\n        var _this = this;\n        var launcherIcon = this.createElement('div', {\n            className: constants.RIBBON_LAUNCHER_ICON_ELE + ' ' + (this.launcherIconCss ? this.launcherIconCss : constants.RIBBON_LAUNCHER_ICON),\n            id: groupId + constants.LAUNCHER_ID,\n            attrs: { 'tabindex': '0', 'type': 'button', 'aria-label': 'Launcher Icon', 'role': 'button' }\n        });\n        groupContainer.appendChild(launcherIcon);\n        groupContainer.classList.add(constants.RIBBON_LAUNCHER);\n        EventHandler.add(launcherIcon, 'click', this.launcherIconClicked.bind(this, groupId), this);\n        EventHandler.add(launcherIcon, 'keydown', function (e) {\n            if (e.key === 'Enter') {\n                _this.launcherIconClicked(groupId);\n            }\n        }, this);\n    };\n    Ribbon.prototype.launcherIconClicked = function (id) {\n        var eventArgs = { groupId: id };\n        this.trigger('launcherIconClick', eventArgs);\n    };\n    Ribbon.prototype.createGroups = function (groupList, tabIndex) {\n        var groupElements = [];\n        for (var i = 0; i < groupList.length; i++) {\n            var group = groupList[parseInt(i.toString(), 10)];\n            var alignType = group.orientation;\n            var groupEle = this.createElement('div', {\n                className: group.cssClass,\n                id: group.id\n            });\n            groupEle.classList.add(constants.RIBBON_GROUP);\n            groupElements.push(groupEle);\n            var groupContainer = this.createElement('div', {\n                className: group.cssClass,\n                id: group.id + constants.CONTAINER_ID\n            });\n            groupContainer.classList.add(constants.RIBBON_GROUP_CONTAINER);\n            groupEle.appendChild(groupContainer);\n            var groupContent = this.createElement('div', {\n                className: this.activeLayout === 'Simplified' ? constants.RIBBON_GROUP_CONTENT : (constants.RIBBON_GROUP_CONTENT + constants.SPACE + constants.RIBBON_CONTENT_HEIGHT),\n                id: group.id + constants.CONTENT_ID\n            });\n            groupContent.classList.add(((alignType === 'Column') || (this.activeLayout === 'Simplified')) ? constants.RIBBON_COLUMN : constants.RIBBON_ROW);\n            groupContainer.appendChild(groupContent);\n            if (this.activeLayout === 'Classic') {\n                var groupHeader = this.createElement('div', {\n                    className: constants.RIBBON_GROUP_HEADER,\n                    id: group.id + constants.HEADER_ID,\n                    innerHTML: group.header\n                });\n                groupContainer.appendChild(groupHeader);\n            }\n            if (group.showLauncherIcon) {\n                this.createLauncherIcon(group.id, groupContainer);\n            }\n            var elements = this.createCollection(group.collections, group.orientation, group.id, group.header, group.enableGroupOverflow, tabIndex, groupContainer);\n            append(elements, groupContent);\n            if ((this.activeLayout === 'Simplified') && !(group.enableGroupOverflow || groupEle.querySelector('.' + constants.RIBBON_ITEM))) {\n                groupEle.classList.add('e-ribbon-emptyCollection');\n            }\n        }\n        return groupElements;\n    };\n    Ribbon.prototype.validateItemSize = function () {\n        for (var k = 0; k < this.tabs.length; k++) {\n            var groupList = this.tabs[parseInt(k.toString(), 10)].groups;\n            for (var l = 0; l < groupList.length; l++) {\n                var collectionList = groupList[parseInt(l.toString(), 10)].collections;\n                var alignType = groupList[parseInt(l.toString(), 10)].orientation;\n                for (var i = 0; i < collectionList.length; i++) {\n                    var items = collectionList[parseInt(i.toString(), 10)].items;\n                    for (var j = 0; j < items.length; j++) {\n                        var ribbonitem = items[parseInt(j.toString(), 10)];\n                        if (!ribbonitem.allowedSizes || (ribbonitem.allowedSizes === 0)) {\n                            ribbonitem.setProperties({\n                                allowedSizes: (RibbonItemSize.Small | RibbonItemSize.Medium | RibbonItemSize.Large)\n                            }, true);\n                        }\n                        if ((ribbonitem.type === 'ColorPicker') && (ribbonitem.allowedSizes !== RibbonItemSize.Small)) {\n                            ribbonitem.setProperties({ allowedSizes: RibbonItemSize.Small }, true);\n                        }\n                        else if ((ribbonitem.type === 'ComboBox' || ribbonitem.type === 'CheckBox') &&\n                            (ribbonitem.allowedSizes !== RibbonItemSize.Medium)) {\n                            ribbonitem.setProperties({ allowedSizes: RibbonItemSize.Medium }, true);\n                        }\n                        else if (((alignType === 'Column') && (items.length > 1)) || ((alignType === 'Row') && (collectionList.length > 1))) {\n                            if (ribbonitem.allowedSizes & RibbonItemSize.Large) {\n                                // To remove large size, perform 'and' with 011(3).\n                                var sizeVal = ribbonitem.allowedSizes & (RibbonItemSize.Small | RibbonItemSize.Medium);\n                                sizeVal = sizeVal ? sizeVal : RibbonItemSize.Medium;\n                                ribbonitem.setProperties({ allowedSizes: sizeVal }, true);\n                            }\n                        }\n                        var itemsize = (ribbonitem.allowedSizes & RibbonItemSize.Large) ? RibbonItemSize.Large :\n                            (ribbonitem.allowedSizes & RibbonItemSize.Medium) ? RibbonItemSize.Medium : RibbonItemSize.Small;\n                        ribbonitem.setProperties({ activeSize: itemsize }, true);\n                    }\n                }\n            }\n        }\n    };\n    Ribbon.prototype.createCollection = function (collectionList, alignType, groupId, groupHeader, isGroupOF, tabIndex, groupContainer) {\n        var collectionElements = [];\n        for (var i = 0; i < collectionList.length; i++) {\n            var collection = collectionList[parseInt(i.toString(), 10)];\n            var collectionEle = this.createElement('div', {\n                className: collection.cssClass,\n                id: collection.id\n            });\n            collectionEle.classList.add(constants.RIBBON_COLLECTION);\n            collectionEle.classList.add(((alignType !== 'Column') || (this.activeLayout === 'Simplified')) ?\n                constants.RIBBON_COLUMN : constants.RIBBON_ROW);\n            collectionElements.push(collectionEle);\n            var elements = this.createItems(collection.items, alignType, groupId, groupHeader, isGroupOF, tabIndex, groupContainer);\n            append(elements, collectionEle);\n            if ((alignType === 'Row') && (i === 2)) {\n                break;\n            }\n        }\n        return collectionElements;\n    };\n    Ribbon.prototype.createRibbonItem = function (item, itemEle) {\n        switch (item.type) {\n            case 'Button':\n                this.ribbonButtonModule.createButton(item, itemEle);\n                break;\n            case 'DropDown':\n                this.ribbonDropDownModule.createDropDown(item, itemEle);\n                break;\n            case 'SplitButton':\n                this.ribbonSplitButtonModule.createSplitButton(item, itemEle);\n                break;\n            case 'CheckBox':\n                this.ribbonCheckBoxModule.createCheckBox(item, itemEle);\n                break;\n            case 'ColorPicker':\n                this.ribbonColorPickerModule.createColorPicker(item, itemEle);\n                break;\n            case 'ComboBox':\n                this.ribbonComboBoxModule.createComboBox(item, itemEle);\n                break;\n            case 'Template':\n                this.createTemplateContent(item, itemEle);\n                break;\n        }\n    };\n    Ribbon.prototype.createItems = function (itemList, alignType, groupId, groupHeader, isGroupOF, tabIndex, groupContainer) {\n        var _a;\n        var itemElements = [];\n        for (var i = 0; i < itemList.length; i++) {\n            var item = itemList[parseInt(i.toString(), 10)];\n            //To stop rendering of items with simplified mode position type as none\n            var flag = true;\n            while (flag &&\n                (((this.activeLayout === 'Simplified') && !(item.displayOptions & (DisplayMode.Simplified | DisplayMode.Overflow))) ||\n                    ((this.activeLayout === 'Classic') && !(item.displayOptions & DisplayMode.Classic)))) {\n                i++;\n                if (i < itemList.length) {\n                    item = itemList[parseInt(i.toString(), 10)];\n                }\n                else {\n                    flag = false;\n                }\n            }\n            if (!flag) {\n                break;\n            }\n            var itemEle = this.createElement('div', {\n                className: item.cssClass,\n                id: item.id + constants.CONTAINER_ID\n            });\n            (_a = itemEle.classList).add.apply(_a, [constants.RIBBON_ITEM].concat((item.disabled ? [constants.DISABLED_CSS] : [])));\n            // To avoid undefined items condition is added\n            if (item.ribbonTooltipSettings && isTooltipPresent(item.ribbonTooltipSettings)) {\n                itemEle.classList.add(constants.RIBBON_TOOLTIP_TARGET);\n                this.tooltipData.push({ id: itemEle.id, data: item.ribbonTooltipSettings });\n            }\n            var size = item.activeSize;\n            if (this.activeLayout === 'Simplified') {\n                size = ((item.allowedSizes === RibbonItemSize.Large) || (item.allowedSizes & RibbonItemSize.Medium) ||\n                    (item.displayOptions === DisplayMode.Overflow)) ? RibbonItemSize.Medium : RibbonItemSize.Small;\n                item.setProperties({ activeSize: size }, true);\n            }\n            if (size & RibbonItemSize.Large) {\n                itemEle.classList.add(constants.RIBBON_LARGE_ITEM, constants.RIBBON_CONTENT_HEIGHT);\n            }\n            else {\n                itemEle.classList.add((size & RibbonItemSize.Medium) ? constants.RIBBON_MEDIUM_ITEM : constants.RIBBON_SMALL_ITEM);\n            }\n            this.createRibbonItem(item, itemEle);\n            if ((this.activeLayout === 'Simplified') && ((item.displayOptions === DisplayMode.Overflow) || (item.displayOptions === (DisplayMode.Classic | DisplayMode.Overflow)))) {\n                this.createOverflowPopup(item, tabIndex, isGroupOF, groupId, groupHeader, itemEle, groupContainer);\n                if ((item.type === RibbonItemType.DropDown) || (item.type === RibbonItemType.SplitButton)) {\n                    this.updatePopupItems(item, itemEle, isGroupOF, true);\n                }\n            }\n            else {\n                // For normal mode and Simplified mode position type as Group and Auto\n                itemElements.push(itemEle);\n            }\n            if ((alignType === 'Column') && (i === 2)) {\n                break;\n            }\n        }\n        return itemElements;\n    };\n    Ribbon.prototype.createHelpPaneTemplate = function () {\n        if (this.helpPaneTemplate) {\n            var templateName = 'helpPaneTemplate';\n            this.clearTemplate([templateName]);\n            this.ribbonTempEle = this.createElement('div', {\n                className: constants.RIBBON_HELP_TEMPLATE,\n                id: this.element.id + constants.RIBBON_HELP_PANE_TEMPLATE_ID\n            });\n            var templateFunction = getTemplateFunction(this.helpPaneTemplate);\n            append(templateFunction({}, this, templateName, 'helpPaneTemplate', this.isStringTemplate), this.ribbonTempEle);\n            var tabEle = this.tabObj.element;\n            var toolbarEle = tabEle.querySelector('.e-toolbar');\n            toolbarEle.after(this.ribbonTempEle);\n            tabEle.style.setProperty(constants.RIBBON_HELP_PANE_TEMPLATE_WIDTH, this.ribbonTempEle.offsetWidth + 'px');\n            this.renderReactTemplates();\n        }\n    };\n    Ribbon.prototype.createTemplateContent = function (item, itemElement) {\n        var itemEle = this.createElement('div', {\n            className: item.cssClass ? (constants.RIBBON_TEMPLATE + constants.SPACE + item.cssClass) : constants.RIBBON_TEMPLATE,\n            id: item.id\n        });\n        if (item.disabled) {\n            itemEle.classList.add(constants.DISABLED_CSS);\n            itemEle.setAttribute('disabled', '');\n        }\n        itemElement.appendChild(itemEle);\n        this.renderItemTemplate(item, itemEle);\n    };\n    Ribbon.prototype.renderItemTemplate = function (item, itemElement) {\n        var templateName = 'ribbon' + item.id + 'itemTemplate';\n        this.clearTemplate([templateName]);\n        var templateFunction = getTemplateFunction(item.itemTemplate);\n        append(templateFunction({ activeSize: RibbonItemSize[item.activeSize] }, this, templateName, (item.id + 'itemTemplate'), this.isStringTemplate), itemElement);\n        this.renderReactTemplates();\n    };\n    Ribbon.prototype.checkID = function (list, type, initId) {\n        var key = type === 'tab' ? constants.TAB_ID : type === 'group' ? constants.GROUP_ID :\n            type === 'collection' ? constants.COLLECTION_ID : constants.ITEM_ID;\n        for (var i = 0; i < list.length; i++) {\n            var listitem = list[parseInt(i.toString(), 10)];\n            if (!listitem.id) {\n                listitem.setProperties({ id: initId + key + (this.idIndex++) }, true);\n            }\n            switch (type) {\n                case 'tab':\n                    listitem.setProperties({ groups: this.checkID(listitem.groups, 'group', listitem.id) }, true);\n                    break;\n                case 'group':\n                    listitem.setProperties({ collections: this.checkID(listitem.collections, 'collection', listitem.id) }, true);\n                    break;\n                case 'collection':\n                    listitem.setProperties({ items: this.checkID(listitem.items, 'item', listitem.id) }, true);\n                    break;\n                default:\n                    break;\n            }\n        }\n        return list;\n    };\n    Ribbon.prototype.updateCommonProperty = function (commonProp) {\n        this.tabObj.setProperties(commonProp);\n        if (this.ribbonFileMenuModule) {\n            this.ribbonFileMenuModule.setCommonProperties(commonProp);\n        }\n        for (var i = 0; i < this.tabs.length; i++) {\n            var tab = this.tabs[parseInt(i.toString(), 10)];\n            var contentEle = this.tabObj.items[parseInt(i.toString(), 10)].content;\n            for (var _i = 0, _a = tab.groups; _i < _a.length; _i++) {\n                var group = _a[_i];\n                var dropdownElement = void 0;\n                var dropdown = void 0;\n                if (this.activeLayout === RibbonLayout.Classic) {\n                    dropdownElement = group.isCollapsed ?\n                        contentEle.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID) : null;\n                }\n                else {\n                    dropdownElement = group.enableGroupOverflow ?\n                        contentEle.querySelector('#' + group.id + constants.GROUPOF_BUTTON_ID) : null;\n                    dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n                    if (dropdown) {\n                        updateTooltipProp(dropdown.target, commonProp);\n                        dropdown.setProperties(commonProp);\n                    }\n                }\n                for (var _b = 0, _c = group.collections; _b < _c.length; _b++) {\n                    var collection = _c[_b];\n                    for (var _d = 0, _e = collection.items; _d < _e.length; _d++) {\n                        var item = _e[_d];\n                        var ele = null;\n                        if (this.activeLayout === RibbonLayout.Classic) {\n                            if (item.displayOptions & DisplayMode.Classic) {\n                                ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id) : contentEle.querySelector('#' + item.id);\n                            }\n                        }\n                        else {\n                            //Checks for Simplified and Auto options (Auto = classic + simplified + popup)\n                            ele = (item.displayOptions & DisplayMode.Simplified) ? contentEle.querySelector('#' + item.id) : null;\n                            // element will be null for \"Popup\" and if the item is moved to overflow in \"Auto\" mode\n                            if (!ele) {\n                                ele = dropdown.target.querySelector('#' + item.id);\n                                if (item.type === 'DropDown') {\n                                    this.updatePopupItems(item, dropdown.target, group.enableGroupOverflow, true);\n                                }\n                            }\n                        }\n                        if (ele) {\n                            var moduleName = this.getItemModuleName(item);\n                            if (moduleName !== 'template') {\n                                updateCommonProperty(ele, moduleName, commonProp);\n                            }\n                            else if (!isNullOrUndefined(commonProp.enableRtl)) {\n                                ele.classList.toggle(constants.RTL_CSS, commonProp.enableRtl);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Ribbon.prototype.removeLauncherIcon = function (groupId, dropdownElement, contentEle) {\n        var containerId = groupId + constants.CONTAINER_ID;\n        var containerEle = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, containerId) : contentEle.querySelector('#' + containerId);\n        if (containerEle) {\n            containerEle.classList.remove(constants.RIBBON_LAUNCHER);\n            var launcherIcon = containerEle.querySelector('#' + groupId + constants.LAUNCHER_ID);\n            remove(launcherIcon);\n        }\n    };\n    Ribbon.prototype.destroyTabItems = function (tabs) {\n        for (var i = 0; i < tabs.length; i++) {\n            var tab = tabs[parseInt(i.toString(), 10)];\n            var contentEle = this.tabObj.items[parseInt(i.toString(), 10)].content;\n            for (var _i = 0, _a = tab.groups; _i < _a.length; _i++) {\n                var group = _a[_i];\n                var dropdownElement = void 0;\n                var dropdown = void 0;\n                if (this.activeLayout === RibbonLayout.Classic) {\n                    dropdownElement = group.isCollapsed ?\n                        contentEle.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID) : null;\n                    if (group.showLauncherIcon) {\n                        this.removeLauncherIcon(group.id, dropdownElement, contentEle);\n                    }\n                }\n                else {\n                    dropdownElement = group.enableGroupOverflow ?\n                        contentEle.querySelector('#' + group.id + constants.GROUPOF_BUTTON_ID) : null;\n                    dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n                }\n                for (var _b = 0, _c = group.collections; _b < _c.length; _b++) {\n                    var collection = _c[_b];\n                    for (var _d = 0, _e = collection.items; _d < _e.length; _d++) {\n                        var item = _e[_d];\n                        var ele = void 0;\n                        if (this.activeLayout === RibbonLayout.Classic) {\n                            if (item.displayOptions & DisplayMode.Classic) {\n                                ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id) :\n                                    contentEle.querySelector('#' + item.id);\n                            }\n                        }\n                        else {\n                            //Checks for Simplified and Auto options (Auto = classic + simplified + popup)\n                            ele = (item.displayOptions & DisplayMode.Simplified) ?\n                                contentEle.querySelector('#' + item.id) : null;\n                            // element will be null for \"Popup\" and if the item is moved to overflow in \"Auto\" mode\n                            if (!ele) {\n                                ele = dropdown ? dropdown.target.querySelector('#' + item.id) : null;\n                            }\n                        }\n                        if (ele) {\n                            this.destroyFunction(item, ele);\n                        }\n                    }\n                }\n                if ((this.activeLayout === RibbonLayout.Classic) && dropdownElement) {\n                    this.ribbonDropDownModule.removeOverFlowDropDown(dropdownElement);\n                }\n                else if ((this.activeLayout === RibbonLayout.Simplified) && group.enableGroupOverflow && dropdownElement) {\n                    this.removeOverflowButton(dropdown);\n                }\n            }\n        }\n        if (this.overflowDDB) {\n            this.removeOverflowButton(this.overflowDDB);\n            this.overflowDDB = null;\n        }\n    };\n    Ribbon.prototype.destroyFunction = function (item, ele) {\n        var moduleName = this.getItemModuleName(item);\n        if (moduleName === 'colorpicker') {\n            this.ribbonColorPickerModule.unwireColorPickerEvents(ele);\n        }\n        else if (moduleName !== 'template') {\n            destroyControl(ele, moduleName);\n        }\n        if (item.ribbonTooltipSettings) {\n            var index = getIndex(this.tooltipData, function (e) { return e.id === item.id + constants.CONTAINER_ID; });\n            if (index !== -1) {\n                this.tooltipData.splice(index, 1);\n            }\n        }\n    };\n    Ribbon.prototype.getItemModuleName = function (item) {\n        switch (item.type) {\n            case 'Button':\n                return 'btn';\n            case 'DropDown':\n                return 'dropdown-btn';\n            case 'SplitButton':\n                return 'split-btn';\n            case 'CheckBox':\n                return 'checkbox';\n            case 'ColorPicker':\n                return 'colorpicker';\n            case 'ComboBox':\n                return 'combobox';\n            default:\n                return 'template';\n        }\n    };\n    Ribbon.prototype.clearOverflowResize = function () {\n        this.destroyScroll();\n        this.clearOverflowDropDown(this.selectedTab);\n        var tab = this.tabs[this.selectedTab];\n        var activeContent = this.tabObj.element.querySelector('#' + this.tabs[this.selectedTab].id + constants.CONTENT_ID);\n        var tabContent = activeContent.closest('.' + constants.TAB_CONTENT);\n        for (var j = 0; (j < tab.groups.length); j++) {\n            this.checkSmallToMedium(this.selectedTab, tab, j, tabContent, activeContent, true, true);\n            this.checkMediumToLarge(this.selectedTab, tab, j, tabContent, activeContent, true, true);\n        }\n    };\n    /**\n     * Refreshes the layout.\n     *\n     * @returns {void}\n     */\n    Ribbon.prototype.refreshLayout = function () {\n        this.resizeHandler();\n    };\n    /**\n     * Selects the tab\n     *\n     * @param  {string} tabId - Gets the tab ID\n     * @returns {void}\n     */\n    Ribbon.prototype.selectTab = function (tabId) {\n        var index = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        this.setProperties({ selectedTab: index });\n    };\n    /**\n     * Adds the ribbon tab.\n     *\n     * @param {RibbonTabModel} tab - Gets the ribbon tab model\n     * @param {string} targetId  - Gets the ID of the target tab to add the new tab.\n     * @param {boolean} isAfter - Defines whether the tab is added before or after the target.\n     * @returns {void}\n     */\n    Ribbon.prototype.addTab = function (tab, targetId, isAfter) {\n        var index = targetId ? getIndex(this.tabs, function (e) { return e.id === targetId; }) : -1;\n        index = (index === -1) ? this.tabs.length : (index + (isAfter ? 1 : 0));\n        this.tabsInternal = this.tabs.slice();\n        this.tabsInternal.splice(index, 0, tab);\n        this.setProperties({ tabs: this.tabsInternal }, true);\n        this.checkID([this.tabs[parseInt(index.toString(), 10)]], 'tab', this.element.id);\n        this.tabsInternal = this.tabs.slice();\n        this.validateItemSize();\n        var tabItem = this.createTabItems([tab]);\n        this.tabObj.addTab(tabItem, index);\n    };\n    /**\n     * Removes the ribbon tab.\n     *\n     * @param {string} tabId - Gets the tab ID\n     * @returns {void}\n     */\n    Ribbon.prototype.removeTab = function (tabId) {\n        var index = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        if (index === -1) {\n            return;\n        }\n        var contentEle = this.tabObj.items[parseInt(index.toString(), 10)].content;\n        var groups = this.tabs[parseInt(index.toString(), 10)].groups;\n        if (groups && (contentEle.innerHTML !== '')) {\n            for (var _i = 0, groups_1 = groups; _i < groups_1.length; _i++) {\n                var group = groups_1[_i];\n                var dropdownElement = group.isCollapsed ? contentEle.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID) : null;\n                for (var _a = 0, _b = group.collections; _a < _b.length; _a++) {\n                    var collection = _b[_a];\n                    for (var _c = 0, _d = collection.items; _c < _d.length; _c++) {\n                        var item = _d[_c];\n                        var ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id) : contentEle.querySelector('#' + item.id);\n                        if (ele) {\n                            this.destroyFunction(item, ele);\n                        }\n                    }\n                }\n                if (dropdownElement) {\n                    this.ribbonDropDownModule.removeOverFlowDropDown(dropdownElement);\n                }\n            }\n        }\n        if (index === this.selectedTab) {\n            this.isAddRemove = true;\n        }\n        this.tabsInternal = this.tabs.slice();\n        this.tabsInternal.splice(index, 1);\n        this.setProperties({ tabs: this.tabsInternal }, true);\n        this.tabObj.removeTab(index);\n    };\n    /**\n     * Adds the ribbon group.\n     *\n     * @param {string} tabId - Gets the tab ID.\n     * @param {RibbonGroupModel} group - Gets the ribbon group model.\n     * @param {string} targetId - Gets the ID of the target group to add the new group.\n     * @param {boolean} isAfter - Defines whether the group is added before or after the target.\n     * @returns {void}\n     */\n    Ribbon.prototype.addGroup = function (tabId, group, targetId, isAfter) {\n        var tabIndex = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        if (tabIndex === -1) {\n            return;\n        }\n        if (this.selectedTab === tabIndex) {\n            this.clearOverflowResize();\n        }\n        var tab = this.tabs[parseInt(tabIndex.toString(), 10)];\n        var ribbonGroups = tab.groups.slice();\n        var index = targetId ? getIndex(ribbonGroups, function (e) { return e.id === targetId; }) : -1;\n        index = (index === -1) ? ribbonGroups.length : (index + (isAfter ? 1 : 0));\n        ribbonGroups.splice(index, 0, group);\n        tab.setProperties({ groups: ribbonGroups }, true);\n        this.checkID([tab.groups[parseInt(index.toString(), 10)]], 'group', tabId);\n        this.validateItemSize();\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[parseInt(tabIndex.toString(), 10)].content;\n        if (contentEle.innerHTML !== '') {\n            var element = this.createGroups([tab.groups[parseInt(index.toString(), 10)]], tabIndex)[0];\n            //insert the element in tab items property.\n            var targetEle = targetId ? contentEle.querySelector('#' + targetId) : null;\n            if (targetEle) {\n                targetEle.insertAdjacentElement(isAfter ? 'afterend' : 'beforebegin', element);\n            }\n            else {\n                contentEle.append(element);\n            }\n        }\n        if (this.selectedTab === tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * Removes the ribbon group.\n     *\n     * @param {string} groupId -Gets the group ID.\n     * @returns {void}\n     */\n    Ribbon.prototype.removeGroup = function (groupId) {\n        var itemProp = getGroup(this.tabs, groupId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        if (contentEle.innerHTML !== '') {\n            var dropdownElement = void 0;\n            var dropdown = void 0;\n            if (itemProp.group.showLauncherIcon) {\n                this.removeLauncherIcon(itemProp.group.id, null, contentEle);\n            }\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            for (var _i = 0, _a = itemProp.group.collections; _i < _a.length; _i++) {\n                var collection = _a[_i];\n                for (var _b = 0, _c = collection.items; _b < _c.length; _b++) {\n                    var item = _c[_b];\n                    this.removeItemElement(contentEle, item, dropdown);\n                }\n            }\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                if (itemProp.group.enableGroupOverflow) {\n                    if (dropdown.target.childElementCount === 0) {\n                        this.removeOverflowButton(dropdown);\n                    }\n                }\n                else {\n                    var ofGroupContainer = dropdown.target.querySelector('#' + itemProp.group.id + constants.CONTAINER_ID);\n                    if (ofGroupContainer && ofGroupContainer.childElementCount === 1) {\n                        ofGroupContainer.remove();\n                    }\n                    var ofTabContainer = dropdown.target.querySelector('#' + this.tabs[parseInt(itemProp.tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                    if (ofTabContainer && ofTabContainer.childElementCount === 0) {\n                        ofTabContainer.remove();\n                    }\n                }\n            }\n            var groupEle = contentEle.querySelector('#' + groupId);\n            if (groupEle) {\n                groupEle.remove();\n            }\n        }\n        var ribbonGroups = this.tabs[itemProp.tabIndex].groups.slice();\n        ribbonGroups.splice(itemProp.groupIndex, 1);\n        this.tabs[itemProp.tabIndex].setProperties({ groups: ribbonGroups }, true);\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * adds the ribbon collection.\n     *\n     * @param {string} groupId - Gets the ribbon group ID.\n     * @param {RibbonCollectionModel} collection - Gets the ribbon collection model.\n     * @param {string} targetId - Gets the ID of the target collection to add the new collection.\n     * @param {boolean} isAfter - Defines whether the collection is added before or after the target.\n     * @returns {void}\n     */\n    Ribbon.prototype.addCollection = function (groupId, collection, targetId, isAfter) {\n        var itemProp = getGroup(this.tabs, groupId);\n        if (!itemProp) {\n            return;\n        }\n        if ((itemProp.group.orientation === 'Row') && (itemProp.group.collections.length === 3)) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        var ribbonCollections = itemProp.group.collections.slice();\n        var index = targetId ? getIndex(ribbonCollections, function (e) { return e.id === targetId; }) : -1;\n        index = (index === -1) ? ribbonCollections.length : (index + (isAfter ? 1 : 0));\n        ribbonCollections.splice(index, 0, collection);\n        itemProp.group.setProperties({ collections: ribbonCollections }, true);\n        this.checkID([itemProp.group.collections[parseInt(index.toString(), 10)]], 'collection', groupId);\n        this.validateItemSize();\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        if (contentEle.innerHTML !== '') {\n            var collection_1 = itemProp.group.collections[parseInt(index.toString(), 10)];\n            var element = this.createCollection([collection_1], itemProp.group.orientation, itemProp.group.id, itemProp.group.header, itemProp.group.enableGroupOverflow, itemProp.tabIndex)[0];\n            if (itemProp.group.isCollapsed) {\n                contentEle = this.ribbonDropDownModule.getOverflowDropDownPopup(itemProp, contentEle);\n            }\n            //insert the element in tab items property.\n            var targetEle = targetId ? contentEle.querySelector('#' + targetId) : null;\n            if (targetEle) {\n                targetEle.insertAdjacentElement(isAfter ? 'afterend' : 'beforebegin', element);\n            }\n            else {\n                contentEle.querySelector('#' + groupId + constants.CONTENT_ID).append(element);\n            }\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * Removes the ribbon collection.\n     *\n     * @param {string} collectionId - Gets the collection ID.\n     * @returns {void}\n     */\n    Ribbon.prototype.removeCollection = function (collectionId) {\n        var itemProp = getCollection(this.tabs, collectionId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        if (contentEle.innerHTML !== '') {\n            var dropdownElement = void 0;\n            var dropdown = void 0;\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            for (var _i = 0, _a = itemProp.collection.items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                this.removeItemElement(contentEle, item, dropdown);\n            }\n            var groupEle = contentEle.querySelector('#' + collectionId);\n            if (groupEle) {\n                groupEle.remove();\n            }\n        }\n        var ribbonGroup = itemProp.group;\n        var ribbonCollections = ribbonGroup.collections.slice();\n        ribbonCollections.splice(itemProp.collectionIndex, 1);\n        ribbonGroup.setProperties({ collections: ribbonCollections }, true);\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * Adds ribbon item.\n     *\n     * @param {string} collectionId - Gets the collection ID.\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @param {string} targetId - Gets the ID of the target item to add the new item.\n     * @param {boolean} isAfter - Defines whether the item is added before or after the target.\n     * @returns {void}\n     */\n    Ribbon.prototype.addItem = function (collectionId, item, targetId, isAfter) {\n        var itemProp = getCollection(this.tabs, collectionId);\n        if (!itemProp) {\n            return;\n        }\n        if ((itemProp.group.orientation === 'Column') && (itemProp.collection.items.length === 3)) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        var ribbonItems = itemProp.collection.items.slice();\n        var index = targetId ? getIndex(ribbonItems, function (e) { return e.id === targetId; }) : -1;\n        index = (index === -1) ? ribbonItems.length : (index + (isAfter ? 1 : 0));\n        ribbonItems.splice(index, 0, item);\n        itemProp.collection.setProperties({ items: ribbonItems }, true);\n        this.checkID([itemProp.collection.items[parseInt(index.toString(), 10)]], 'item', collectionId);\n        this.validateItemSize();\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var groupContainer = contentEle.querySelector('#' + itemProp.group.id + constants.CONTAINER_ID);\n        if (contentEle.innerHTML !== '') {\n            var item_1 = itemProp.collection.items[parseInt(index.toString(), 10)];\n            var element = this.createItems([item_1], itemProp.group.orientation, itemProp.group.id, itemProp.group.header, itemProp.group.enableGroupOverflow, itemProp.tabIndex, groupContainer)[0];\n            if (itemProp.group.isCollapsed) {\n                contentEle = this.ribbonDropDownModule.getOverflowDropDownPopup(itemProp, contentEle);\n            }\n            //insert the element in tab items property.\n            var targetEle = targetId ? contentEle.querySelector('#' + targetId) : null;\n            if (targetEle) {\n                targetEle.closest('.' + constants.RIBBON_ITEM).insertAdjacentElement(isAfter ? 'afterend' : 'beforebegin', element);\n            }\n            else {\n                if (element) {\n                    contentEle.querySelector('#' + collectionId).append(element);\n                }\n            }\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * Removes ribbon item.\n     *\n     * @param {string} itemId - Gets the item ID.\n     * @returns {void}\n     */\n    Ribbon.prototype.removeItem = function (itemId) {\n        var itemProp = getItem(this.tabs, itemId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        if (contentEle.innerHTML !== '') {\n            var dropdownElement = void 0;\n            var dropdown = void 0;\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            var item = itemProp.item;\n            this.removeItemElement(contentEle, item, dropdown);\n        }\n        var ribbonCollection = itemProp.collection;\n        var ribbonItems = ribbonCollection.items;\n        ribbonItems.splice(itemProp.itemIndex, 1);\n        ribbonCollection.setProperties({ items: ribbonItems }, true);\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n    };\n    /**\n     * tab - Gets the ribbon tab to be updated. The id of the tab is a required property. Other properties are optional.\n     *\n     * @param {RibbonTabModel} tab - Gets the ribbon tab model.\n     * @returns {void}\n     */\n    Ribbon.prototype.updateTab = function (tab) {\n        var tabId = tab.id;\n        var index = getIndex(this.tabs, function (e) { return e.id === tabId; });\n        if (index === -1) {\n            return;\n        }\n        var contentEle = this.tabObj.items[parseInt(index.toString(), 10)].content;\n        var groups = this.tabs[parseInt(index.toString(), 10)].groups;\n        var tabEle = this.tabObj.element;\n        if (groups && (contentEle.innerHTML !== '')) {\n            // Check whether cssClass is passed by the user, and if it is, then remove the old values.\n            if (tab.cssClass) {\n                if (this.tabs[parseInt(index.toString(), 10)].cssClass) {\n                    contentEle.classList.remove(this.tabs[parseInt(index.toString(), 10)].cssClass);\n                    tabEle.querySelector('.e-active').classList.remove(this.tabs[parseInt(index.toString(), 10)].cssClass);\n                }\n            }\n            // Check whether group is passed by the user, and if it is, then remove the old values.\n            if (tab.groups) {\n                for (var _i = 0, groups_2 = groups; _i < groups_2.length; _i++) {\n                    var group = groups_2[_i];\n                    var dropdownElement = group.isCollapsed ? contentEle.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID) : null;\n                    for (var _a = 0, _b = group.collections; _a < _b.length; _a++) {\n                        var collection = _b[_a];\n                        for (var _c = 0, _d = collection.items; _c < _d.length; _c++) {\n                            var item = _d[_c];\n                            var ele = dropdownElement ? this.ribbonDropDownModule.getDDBItemElement(dropdownElement, item.id) : contentEle.querySelector('#' + item.id);\n                            if (ele) {\n                                this.destroyFunction(item, ele);\n                            }\n                        }\n                    }\n                    if (dropdownElement) {\n                        this.ribbonDropDownModule.removeOverFlowDropDown(dropdownElement);\n                    }\n                }\n                var groupElements = contentEle.querySelectorAll('.e-ribbon-group');\n                // eslint-disable-next-line @typescript-eslint/tslint/config\n                groupElements.forEach(function (groupEle) { groupEle.remove(); });\n            }\n        }\n        if (index === this.selectedTab) {\n            this.isAddRemove = true;\n        }\n        var ribbonTab = this.tabs[parseInt(index.toString(), 10)];\n        ribbonTab.setProperties(tab, true);\n        this.setProperties({ groups: this.checkID(ribbonTab.groups, 'group', ribbonTab.id) }, true);\n        this.validateItemSize();\n        if (contentEle.innerHTML === '') {\n            // Check whether group is passed by the user and sets the updated values.\n            if (tab.groups) {\n                var elements = this.createGroups(ribbonTab.groups, index);\n                append(elements, contentEle);\n            }\n            if (this.selectedTab === index) {\n                this.refreshLayout();\n            }\n            // Check whether cssClass is passed by the user and sets the updated values.\n            if (tab.cssClass) {\n                contentEle.classList.add(ribbonTab.cssClass);\n                tabEle.querySelector('.e-active').classList.add(ribbonTab.cssClass);\n            }\n            // Check whether header is passed by the user and sets the updated values.\n            if (tab.header) {\n                tabEle.querySelector('#' + tabId + constants.HEADER_ID).innerText = ribbonTab.header;\n            }\n        }\n    };\n    /**\n     * group - Gets the ribbon group to be updated. The id of the group is a required property. Other properties are optional.\n     *\n     * @param {RibbonGroupModel} group - Gets the ribbon group model.\n     * @returns {void}\n     */\n    Ribbon.prototype.updateGroup = function (group) {\n        var groupId = group.id;\n        var itemProp = getGroup(this.tabs, groupId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var groupEle = contentEle.querySelector('#' + groupId);\n        var groupContainer = groupEle.querySelector('#' + group.id + constants.CONTAINER_ID);\n        var dropdownElement;\n        var dropdown;\n        if (contentEle.innerHTML !== '') {\n            if (itemProp.group.showLauncherIcon) {\n                this.removeLauncherIcon(itemProp.group.id, null, contentEle);\n            }\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            // Check whether cssClass is passed by the user, and if it is, then remove the old values.\n            if (group.cssClass) {\n                if (itemProp.group.cssClass) {\n                    groupEle.classList.remove(itemProp.group.cssClass);\n                    if (groupContainer) {\n                        groupContainer.classList.remove(itemProp.group.cssClass);\n                    }\n                }\n            }\n            // Check whether collections or orientation is passed by the user, and if it is, then remove the old values.\n            if (group.collections || group.orientation) {\n                if (itemProp.group.collections || itemProp.group.orientation) {\n                    for (var _i = 0, _a = itemProp.group.collections; _i < _a.length; _i++) {\n                        var collection = _a[_i];\n                        for (var _b = 0, _c = collection.items; _b < _c.length; _b++) {\n                            var item = _c[_b];\n                            this.removeItemElement(contentEle, item, dropdown);\n                        }\n                    }\n                    var collectionElements = groupEle.querySelectorAll('.e-ribbon-collection');\n                    // eslint-disable-next-line @typescript-eslint/tslint/config\n                    collectionElements.forEach(function (collectionEle) { collectionEle.remove(); });\n                    if (group.orientation) {\n                        var groupContent = groupContainer.querySelector('.e-ribbon-group-content');\n                        var removeCss = groupContent.classList.value.match(/(e-ribbon-[column|row]+)/g);\n                        if (removeCss) {\n                            removeClass([groupContent], removeCss);\n                        }\n                    }\n                }\n            }\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                if (itemProp.group.enableGroupOverflow) {\n                    if (dropdown.target.childElementCount === 0) {\n                        this.removeOverflowButton(dropdown);\n                    }\n                }\n                else {\n                    var ofGroupContainer = dropdown.target.querySelector('#' + itemProp.group.id + constants.CONTAINER_ID);\n                    if (ofGroupContainer && ofGroupContainer.childElementCount === 1) {\n                        ofGroupContainer.remove();\n                    }\n                    var ofTabContainer = dropdown.target.querySelector('#' + this.tabs[parseInt(itemProp.tabIndex.toString(), 10)].id + constants.OVERFLOW_ID);\n                    if (ofTabContainer && ofTabContainer.childElementCount === 0) {\n                        ofTabContainer.remove();\n                    }\n                }\n            }\n        }\n        var ribbongroup = itemProp.group;\n        ribbongroup.setProperties(group, true);\n        ribbongroup.setProperties({ collections: this.checkID(ribbongroup.collections, 'collection', ribbongroup.id) }, true);\n        this.validateItemSize();\n        if (contentEle.innerHTML !== '') {\n            // Check whether showLauncherIcon or orientation is passed by the user and sets the updated values.\n            if (group.showLauncherIcon) {\n                this.createLauncherIcon(ribbongroup.id, groupContainer);\n            }\n            // Check whether collections or orientation is passed by the user and sets the updated values.\n            if (group.collections || group.orientation) {\n                var groupContent = groupContainer.querySelector('.e-ribbon-group-content');\n                groupContent.classList.add(((ribbongroup.orientation === 'Column') || (this.activeLayout === 'Simplified')) ? constants.RIBBON_COLUMN : constants.RIBBON_ROW);\n                var elements = this.createCollection(ribbongroup.collections, ribbongroup.orientation, ribbongroup.id, ribbongroup.header, ribbongroup.enableGroupOverflow, itemProp.tabIndex, groupContainer);\n                append(elements, groupContent);\n            }\n            if (this.selectedTab === itemProp.tabIndex) {\n                this.refreshLayout();\n            }\n            // Check whether cssClass is passed by the user and sets the updated values.\n            if (group.cssClass) {\n                groupEle.classList.add(ribbongroup.cssClass);\n                if (groupContainer) {\n                    groupContainer.classList.add(ribbongroup.cssClass);\n                }\n            }\n            // Check whether header is passed by the user and sets the updated values.\n            if (group.header) {\n                if (this.activeLayout === RibbonLayout.Simplified && !group.enableGroupOverflow) {\n                    var overflowHeader = dropdown.target.querySelector('#' + group.id + constants.HEADER_ID);\n                    if (overflowHeader) {\n                        overflowHeader.innerText = ribbongroup.header;\n                    }\n                }\n                else if (this.activeLayout === RibbonLayout.Classic && !ribbongroup.isCollapsed) {\n                    groupEle.querySelector('.e-ribbon-group-header').innerText = ribbongroup.header;\n                }\n                else if (this.activeLayout === RibbonLayout.Classic && ribbongroup.isCollapsed) {\n                    var overflowEle = groupEle.querySelector('#' + ribbongroup.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID);\n                    // need to set instance for dropdown\n                    var dropDownBtn = getInstance(overflowEle, DropDownButton);\n                    var overflowHeader = dropDownBtn.target.querySelector('#' + group.id + constants.HEADER_ID);\n                    if (overflowHeader) {\n                        overflowHeader.innerText = ribbongroup.header;\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * collection - Gets the ribbon collection to be updated. The id of the collection is a required property. Other properties are optional.\n     *\n     * @param {RibbonCollectionModel} collection - Gets the ribbon collection model.\n     * @returns {void}\n     */\n    Ribbon.prototype.updateCollection = function (collection) {\n        var collectionId = collection.id;\n        var itemProp = getCollection(this.tabs, collectionId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var collectionEle = contentEle.querySelector('#' + collectionId);\n        if (contentEle.innerHTML !== '') {\n            var dropdownElement = void 0;\n            var dropdown = void 0;\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            // Check whether cssClass is passed by the user, and if it is, then remove the old values.\n            if (collection.cssClass) {\n                if (itemProp.collection.cssClass) {\n                    collectionEle.classList.remove(itemProp.collection.cssClass);\n                }\n            }\n            if (collection.items) {\n                if (itemProp.collection.items) {\n                    for (var _i = 0, _a = itemProp.collection.items; _i < _a.length; _i++) {\n                        var item = _a[_i];\n                        this.removeItemElement(contentEle, item, dropdown);\n                    }\n                }\n            }\n        }\n        var ribboncollection = itemProp.collection;\n        ribboncollection.setProperties(collection, true);\n        ribboncollection.setProperties({ items: this.checkID(ribboncollection.items, 'item', ribboncollection.id) }, true);\n        this.validateItemSize();\n        if (contentEle.innerHTML !== '') {\n            if (collection.items) {\n                var groupContainer = contentEle.querySelector('#' + itemProp.group.id + constants.CONTAINER_ID);\n                var elements = this.createItems(ribboncollection.items, itemProp.group.orientation, itemProp.group.id, itemProp.group.header, itemProp.group.enableGroupOverflow, itemProp.tabIndex, groupContainer);\n                append(elements, collectionEle);\n            }\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.refreshLayout();\n        }\n        // Check whether cssClass is passed by the user and sets the updated values.\n        if (collection.cssClass) {\n            collectionEle.classList.add(ribboncollection.cssClass);\n        }\n    };\n    /**\n     * item - Gets the ribbon item to be updated. The id of the item is a required property. Other properties are optional.\n     *\n     * @param {RibbonItemModel} item - Gets the ribbon item model.\n     * @returns {void}\n     */\n    Ribbon.prototype.updateItem = function (item) {\n        var itemId = item.id;\n        var itemProp = getItem(this.tabs, itemId);\n        if (!itemProp) {\n            return;\n        }\n        if (this.selectedTab === itemProp.tabIndex) {\n            this.clearOverflowResize();\n        }\n        //Check whether the tab items are rendered\n        var contentEle = this.tabObj.items[itemProp.tabIndex].content;\n        var groupEle = contentEle.querySelector('#' + itemProp.group.id);\n        var groupContainer = groupEle.querySelector('#' + itemProp.group.id + constants.CONTAINER_ID);\n        var itemContainer = null;\n        var itemEle = null;\n        var dropdownElement;\n        var dropdown;\n        if (contentEle.innerHTML !== '') {\n            if (this.activeLayout === RibbonLayout.Simplified) {\n                dropdownElement = itemProp.group.enableGroupOverflow ?\n                    contentEle.querySelector('#' + itemProp.group.id + constants.GROUPOF_BUTTON_ID) : null;\n                dropdown = dropdownElement ? getComponent(dropdownElement, DropDownButton) : this.overflowDDB;\n            }\n            if (this.activeLayout === RibbonLayout.Simplified && itemProp.item.displayOptions === DisplayMode.Overflow) {\n                itemContainer = dropdown.target.querySelector('#' + itemId + constants.CONTAINER_ID);\n                itemEle = dropdown.target.querySelector('#' + itemId);\n                if (item.displayOptions && item.displayOptions !== DisplayMode.Overflow) {\n                    var collectionEle = groupContainer.querySelector('#' + itemProp.collection.id);\n                    if (collectionEle) {\n                        collectionEle.appendChild(itemContainer);\n                    }\n                }\n            }\n            else {\n                itemContainer = groupContainer.querySelector('#' + itemId + constants.CONTAINER_ID);\n                itemEle = contentEle.querySelector('#' + itemId);\n                if (this.activeLayout === RibbonLayout.Simplified && item.displayOptions === DisplayMode.Overflow) {\n                    this.createOverflowPopup(itemProp.item, itemProp.tabIndex, itemProp.group.enableGroupOverflow, itemProp.group.id, itemProp.group.header, itemContainer, groupContainer);\n                    if ((itemProp.item.type === RibbonItemType.DropDown) || (itemProp.item.type === RibbonItemType.SplitButton)) {\n                        this.updatePopupItems(itemProp.item, itemContainer, itemProp.group.enableGroupOverflow, true);\n                    }\n                }\n            }\n            // Check whether cssClass is passed by the user, and if it is, then remove the old values.\n            if (item.cssClass) {\n                if (itemProp.item.cssClass) {\n                    itemContainer.classList.remove(itemProp.item.cssClass);\n                }\n            }\n            this.destroyFunction(itemProp.item, itemEle);\n            itemEle.remove();\n            var removeCss = itemContainer.classList.value.match(/(e-ribbon-[large|medium|small]+-item)/g);\n            if (removeCss) {\n                removeClass([itemContainer], removeCss);\n            }\n        }\n        var ribbonItem = itemProp.item;\n        ribbonItem.setProperties(item, true);\n        this.validateItemSize();\n        if (contentEle.innerHTML !== '') {\n            if (!(this.activeLayout === RibbonLayout.Simplified && ribbonItem.displayOptions === DisplayMode.Overflow)) {\n                itemContainer = groupContainer.querySelector('#' + itemId + constants.CONTAINER_ID);\n            }\n            else {\n                itemContainer = dropdown.target.querySelector('#' + itemId + constants.CONTAINER_ID);\n            }\n            // To avoid undefined items condition is added\n            if (ribbonItem.ribbonTooltipSettings && isTooltipPresent(ribbonItem.ribbonTooltipSettings)) {\n                itemContainer.classList.add(constants.RIBBON_TOOLTIP_TARGET);\n                this.tooltipData.push({ id: itemContainer.id, data: ribbonItem.ribbonTooltipSettings });\n            }\n            var size = ribbonItem.activeSize;\n            if (this.activeLayout === 'Simplified') {\n                size = ((ribbonItem.allowedSizes === RibbonItemSize.Large) || (ribbonItem.allowedSizes & RibbonItemSize.Medium) ||\n                    (ribbonItem.displayOptions === DisplayMode.Overflow)) ? RibbonItemSize.Medium : RibbonItemSize.Small;\n                ribbonItem.setProperties({ activeSize: size }, true);\n            }\n            if (size & RibbonItemSize.Large) {\n                itemContainer.classList.add(constants.RIBBON_LARGE_ITEM, constants.RIBBON_CONTENT_HEIGHT);\n            }\n            else {\n                itemContainer.classList.add((size & RibbonItemSize.Medium) ? constants.RIBBON_MEDIUM_ITEM : constants.RIBBON_SMALL_ITEM);\n            }\n            this.createRibbonItem(ribbonItem, itemContainer);\n            if (this.activeLayout === 'Simplified' && itemProp.group.enableGroupOverflow) {\n                if (dropdown.target.childElementCount === 0) {\n                    this.removeOverflowButton(dropdown);\n                }\n            }\n            if (this.selectedTab === itemProp.tabIndex) {\n                this.refreshLayout();\n            }\n            if (item.cssClass) {\n                itemContainer.classList.add(ribbonItem.cssClass);\n            }\n            this.enableDisableItem(ribbonItem.id, ribbonItem.disabled);\n        }\n    };\n    Ribbon.prototype.removeItemElement = function (contentEle, item, dropdown) {\n        var ele = null;\n        if (this.activeLayout === RibbonLayout.Classic) {\n            ele = (item.displayOptions & DisplayMode.Classic) ? contentEle.querySelector('#' + item.id) : null;\n        }\n        else {\n            //Checks for Simplified and Auto options (Auto = classic + simplified + popup)\n            ele = (item.displayOptions & DisplayMode.Simplified) ? contentEle.querySelector('#' + item.id) : null;\n            // element will be null for \"Popup\" and if the item is moved to overflow in \"Auto\" mode\n            if (!ele) {\n                ele = dropdown.target.querySelector('#' + item.id);\n            }\n        }\n        if (ele) {\n            this.destroyFunction(item, ele);\n            ele.closest('#' + item.id + constants.CONTAINER_ID).remove();\n        }\n    };\n    /**\n     * Enables ribbon item.\n     *\n     * @param {string} itemId - Gets the item ID.\n     * @returns {void}\n     */\n    Ribbon.prototype.enableItem = function (itemId) {\n        this.enableDisableItem(itemId, false);\n    };\n    /**\n     * Disables ribbon item.\n     *\n     * @param {string} itemId - Gets the item ID.\n     * @returns {void}\n     */\n    Ribbon.prototype.disableItem = function (itemId) {\n        this.enableDisableItem(itemId, true);\n    };\n    Ribbon.prototype.enableDisableItem = function (itemId, isDisabled) {\n        var itemProp = getItem(this.tabs, itemId);\n        if (!itemProp) {\n            return;\n        }\n        itemProp.item.setProperties({ disabled: isDisabled }, true);\n        var ele = getItemElement(this, itemId, itemProp);\n        if (ele) {\n            var itemEle = closest(ele, '.e-ribbon-item');\n            itemEle.classList.toggle(constants.DISABLED_CSS, itemProp.item.disabled);\n            var moduleName = this.getItemModuleName(itemProp.item);\n            if (moduleName !== 'template') {\n                updateControlDisabled(ele, moduleName, isDisabled);\n            }\n            else {\n                ele.classList.toggle(constants.DISABLED_CSS, isDisabled);\n                ele.toggleAttribute('disabled', isDisabled);\n            }\n        }\n    };\n    Ribbon.prototype.unwireEvents = function () {\n        EventHandler.remove(window, 'resize', this.resizeHandler);\n    };\n    Ribbon.prototype.destroy = function () {\n        this.keyboardModuleRibbon.destroy();\n        this.keyboardModuleRibbon = null;\n        destroyTooltip(this.element);\n        this.destroyTabItems(this.tabs);\n        this.removeExpandCollapse();\n        this.collapseButton = undefined;\n        if (this.scrollModule) {\n            this.scrollModule.destroy();\n        }\n        if (this.ribbonTempEle) {\n            remove(this.ribbonTempEle);\n            this.ribbonTempEle = null;\n        }\n        _super.prototype.destroy.call(this);\n        this.tabObj.destroy();\n        this.tabObj = undefined;\n        remove(this.element.querySelector('#' + this.element.id + constants.TAB_ID));\n        this.element.style.removeProperty(constants.RIBBON_FILE_MENU_WIDTH);\n        this.element.style.removeProperty(constants.RIBBON_HELP_PANE_TEMPLATE_WIDTH);\n        this.element.style.removeProperty('width');\n        if (this.cssClass) {\n            removeClass([this.element], this.cssClass.split(constants.SPACE));\n        }\n        this.element.classList.remove(constants.RTL_CSS, constants.RIBBON_SIMPLIFIED_MODE, constants.RIBBON_OVERFLOW, constants.RIBBON_COLLAPSIBLE, constants.RIBBON_MINIMIZE, 'e-rbn');\n        this.unwireEvents();\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {RibbonModel} newProp - Specifies new properties\n     * @param  {RibbonModel} oldProp - Specifies old properties\n     * @returns {void}\n     * @private\n     */\n    Ribbon.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _a, _b;\n        for (var _i = 0, _c = Object.keys(newProp); _i < _c.length; _i++) {\n            var prop = _c[_i];\n            switch (prop) {\n                case 'activeLayout':\n                    this.switchLayout();\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        (_a = this.element.classList).remove.apply(_a, oldProp.cssClass.split(constants.SPACE));\n                    }\n                    if (newProp.cssClass) {\n                        (_b = this.element.classList).add.apply(_b, newProp.cssClass.split(constants.SPACE));\n                    }\n                    break;\n                case 'isMinimized':\n                    this.element.classList.toggle(constants.RIBBON_MINIMIZE, this.isMinimized);\n                    this.tabObj.element.querySelector('.e-content').style.display = this.isMinimized ? 'none' : 'block';\n                    if (!this.isMinimized) {\n                        this.refreshLayout();\n                    }\n                    break;\n                case 'locale':\n                    this.updateCommonProperty({ locale: this.locale });\n                    break;\n                case 'enablePersistence':\n                    this.updateCommonProperty({ enablePersistence: this.enablePersistence });\n                    break;\n                case 'enableRtl':\n                    this.element.classList.toggle(constants.RTL_CSS, this.enableRtl);\n                    this.updateCommonProperty({ enableRtl: newProp.enableRtl });\n                    if (this.scrollModule) {\n                        this.scrollModule.setProperties({ enableRtl: newProp.enableRtl });\n                    }\n                    break;\n                case 'launcherIconCss':\n                    for (var i = 0; i < this.tabs.length; i++) {\n                        var tabContent = this.tabObj.items[parseInt(i.toString(), 10)].content;\n                        var tab = this.tabs[parseInt(i.toString(), 10)];\n                        if (tabContent.querySelector('.' + constants.RIBBON_GROUP)) {\n                            for (var _d = 0, _e = tab.groups; _d < _e.length; _d++) {\n                                var group = _e[_d];\n                                if (group.showLauncherIcon) {\n                                    var className = constants.RIBBON_LAUNCHER_ICON_ELE + ' ' + (this.launcherIconCss || constants.RIBBON_LAUNCHER_ICON);\n                                    if (group.isCollapsed) {\n                                        var element = tabContent.querySelector('#' + group.id + constants.OVERFLOW_ID + constants.DROPDOWN_ID);\n                                        var dropdown = getComponent(element, DropDownButton);\n                                        var launcherIconEle = dropdown.target.querySelector('#' + group.id + constants.LAUNCHER_ID);\n                                        launcherIconEle.className = className;\n                                    }\n                                    else {\n                                        var element = tabContent.querySelector('#' + group.id + constants.LAUNCHER_ID);\n                                        element.className = className;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    break;\n                case 'selectedTab':\n                    this.tabObj.setProperties({ selectedItem: newProp.selectedTab });\n                    break;\n                case 'tabAnimation':\n                    this.tabObj.setProperties({ animation: newProp.tabAnimation });\n                    break;\n                case 'tabs':\n                    this.reRenderTabs();\n                    break;\n                case 'width':\n                    this.element.style.width = formatUnit(newProp.width);\n                    this.refreshLayout();\n                    break;\n                case 'fileMenu':\n                    if (this.ribbonFileMenuModule) {\n                        this.ribbonFileMenuModule.updateFileMenu(this.fileMenu);\n                    }\n                    var toolbarEle = this.tabObj['tbObj'];\n                    toolbarEle.refreshOverflow();\n                    break;\n                case 'helpPaneTemplate':\n                    if (this.ribbonTempEle) {\n                        remove(this.ribbonTempEle);\n                        this.ribbonTempEle = null;\n                        this.tabObj.element.style.setProperty(constants.RIBBON_HELP_PANE_TEMPLATE_WIDTH, '0px');\n                    }\n                    if (this.helpPaneTemplate) {\n                        this.createHelpPaneTemplate();\n                    }\n                    var toolbar_1 = this.tabObj['tbObj'];\n                    toolbar_1.refreshOverflow();\n                    break;\n            }\n        }\n    };\n    var Ribbon_1;\n    __decorate([\n        Property('Classic')\n    ], Ribbon.prototype, \"activeLayout\", void 0);\n    __decorate([\n        Property('')\n    ], Ribbon.prototype, \"cssClass\", void 0);\n    __decorate([\n        Complex({}, FileMenuSettings)\n    ], Ribbon.prototype, \"fileMenu\", void 0);\n    __decorate([\n        Property('')\n    ], Ribbon.prototype, \"launcherIconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], Ribbon.prototype, \"isMinimized\", void 0);\n    __decorate([\n        Property('en-us')\n    ], Ribbon.prototype, \"locale\", void 0);\n    __decorate([\n        Property(0)\n    ], Ribbon.prototype, \"selectedTab\", void 0);\n    __decorate([\n        Complex({}, TabAnimationSettings)\n    ], Ribbon.prototype, \"tabAnimation\", void 0);\n    __decorate([\n        Collection([], RibbonTab)\n    ], Ribbon.prototype, \"tabs\", void 0);\n    __decorate([\n        Property('100%')\n    ], Ribbon.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Ribbon.prototype, \"helpPaneTemplate\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"tabSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"tabSelected\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"ribbonExpanding\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"ribbonCollapsing\", void 0);\n    __decorate([\n        Event()\n    ], Ribbon.prototype, \"launcherIconClick\", void 0);\n    Ribbon = Ribbon_1 = __decorate([\n        NotifyPropertyChanges\n    ], Ribbon);\n    return Ribbon;\n}(Component));\nexport { Ribbon };\n","import { EventHandler, remove } from '@syncfusion/ej2-base';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { Menu } from '@syncfusion/ej2-navigations';\nimport { getIndex, isTooltipPresent } from '../base/index';\nimport * as constants from '../base/constant';\n/**\n * Defines the items of Ribbon.\n */\nvar RibbonFileMenu = /** @class */ (function () {\n    function RibbonFileMenu(parent) {\n        this.parent = parent;\n    }\n    RibbonFileMenu.prototype.getModuleName = function () {\n        return 'ribbonFileMenu';\n    };\n    RibbonFileMenu.prototype.destroy = function () {\n        if (this.fileMenuDDB) {\n            this.destroyDDB();\n        }\n        this.parent = null;\n    };\n    /**\n     * Creates File Menu\n     *\n     * @param {FileMenuSettingsModel} fileMenuOptions - Gets the property of filemenu.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonFileMenu.prototype.createFileMenu = function (fileMenuOptions) {\n        var _this = this;\n        if (!fileMenuOptions.visible) {\n            return;\n        }\n        this.ddbElement = this.parent.createElement('button', {\n            id: this.parent.element.id + constants.RIBBON_FILE_MENU_ID\n        });\n        var tabEle = this.parent.tabObj.element;\n        var toolbarEle = tabEle.querySelector('.e-toolbar');\n        tabEle.insertBefore(this.ddbElement, toolbarEle);\n        this.fileMenuDDB = new DropDownButton({\n            content: fileMenuOptions.text,\n            enableRtl: this.parent.enableRtl,\n            cssClass: 'e-ribbon-file-menu e-caret-hide',\n            created: function () {\n                tabEle.style.setProperty(constants.RIBBON_FILE_MENU_WIDTH, _this.ddbElement.offsetWidth + 'px');\n            },\n            beforeClose: this.ddbBeforeEvent.bind(this, false),\n            beforeOpen: this.ddbBeforeEvent.bind(this, true),\n            close: this.ddbAfterEvent.bind(this, false),\n            open: this.ddbAfterEvent.bind(this, true)\n        }, this.ddbElement);\n        if (this.parent.fileMenu.popupTemplate) {\n            this.fileMenuDDB.setProperties({ target: this.parent.fileMenu.popupTemplate });\n        }\n        else {\n            this.createRibbonMenu(fileMenuOptions);\n        }\n        this.parent.tabObj.refreshActiveTabBorder();\n        this.addFileMenuTooltip(fileMenuOptions);\n    };\n    RibbonFileMenu.prototype.addFileMenuTooltip = function (fileMenuOptions) {\n        if (isTooltipPresent(fileMenuOptions.ribbonTooltipSettings)) {\n            this.ddbElement.classList.add(constants.RIBBON_TOOLTIP_TARGET);\n            this.parent.tooltipData.push({ id: this.ddbElement.id, data: fileMenuOptions.ribbonTooltipSettings });\n        }\n    };\n    RibbonFileMenu.prototype.ddbBeforeEvent = function (isOpen, args) {\n        //args.event is null when dropdown button is closed using a method call\n        if (!isOpen && args.event && args.event.target.closest('.e-ribbon-menu')) {\n            args.cancel = true;\n        }\n        var event = isOpen ? this.parent.fileMenu.beforeOpen :\n            this.parent.fileMenu.beforeClose;\n        if (event) {\n            var eventArgs = { cancel: args.cancel, element: args.element, event: args.event };\n            event.call(this, eventArgs);\n            args.cancel = eventArgs.cancel;\n        }\n    };\n    RibbonFileMenu.prototype.ddbAfterEvent = function (isOpen, args) {\n        var element = isOpen ? this.fileMenuDDB.target : this.fileMenuDDB.element;\n        element.focus();\n        var event = isOpen ? this.parent.fileMenu.open : this.parent.fileMenu.close;\n        if (event) {\n            var eventArgs = { element: args.element };\n            event.call(this, eventArgs);\n        }\n    };\n    //Clone RibbonMenuItems before assigning to avoid reference issues.\n    RibbonFileMenu.prototype.cloneMenuItem = function (items) {\n        var itemsList = [];\n        for (var i = 0; i < items.length; i++) {\n            var item = items[parseInt(i.toString(), 10)];\n            itemsList.push({\n                iconCss: item.iconCss,\n                id: item.id,\n                separator: item.separator,\n                text: item.text,\n                url: item.url,\n                items: this.cloneMenuItem(item.items)\n            });\n        }\n        return itemsList;\n    };\n    RibbonFileMenu.prototype.createRibbonMenu = function (menuOptions) {\n        var _this = this;\n        var ulElem = this.parent.createElement('ul', {\n            id: this.parent.element.id + constants.RIBBON_FILE_MENU_LIST\n        });\n        this.fileMenuDDB.setProperties({ target: ulElem });\n        this.menuctrl = new Menu({\n            orientation: 'Vertical',\n            enableRtl: this.parent.enableRtl,\n            cssClass: 'e-ribbon-menu',\n            animationSettings: menuOptions.animationSettings,\n            items: this.cloneMenuItem(menuOptions.menuItems),\n            showItemOnClick: menuOptions.showItemOnClick,\n            template: menuOptions.itemTemplate,\n            beforeClose: this.menuBeforeEvent.bind(this, false),\n            beforeOpen: this.menuBeforeEvent.bind(this, true),\n            beforeItemRender: this.beforeItemRender.bind(this),\n            onClose: this.menuAfterEvent.bind(this, false),\n            onOpen: this.menuAfterEvent.bind(this, true),\n            select: this.menuSelect.bind(this)\n        }, ulElem);\n        EventHandler.add(ulElem, 'keydown', function (e) {\n            if (e.key === 'Tab') {\n                _this.fileMenuDDB.toggle();\n            }\n        }, this);\n    };\n    RibbonFileMenu.prototype.menuBeforeEvent = function (isOpen, args) {\n        var event = isOpen ? this.parent.fileMenu.beforeOpen :\n            this.parent.fileMenu.beforeClose;\n        if (event) {\n            var eventArgs = {\n                cancel: args.cancel, element: args.element, event: args.event,\n                items: args.items, parentItem: args.parentItem\n            };\n            event.call(this, eventArgs);\n            args.cancel = eventArgs.cancel;\n        }\n    };\n    RibbonFileMenu.prototype.menuAfterEvent = function (isOpen, args) {\n        var event = isOpen ? this.parent.fileMenu.open : this.parent.fileMenu.close;\n        if (event) {\n            var eventArgs = { element: args.element, items: args.items, parentItem: args.parentItem };\n            event.call(this, eventArgs);\n        }\n    };\n    RibbonFileMenu.prototype.beforeItemRender = function (args) {\n        var event = this.parent.fileMenu.beforeItemRender;\n        if (event) {\n            var eventArgs = { element: args.element, item: args.item };\n            event.call(this, eventArgs);\n        }\n    };\n    RibbonFileMenu.prototype.menuSelect = function (args) {\n        var event = this.parent.fileMenu.select;\n        if (event) {\n            var eventArgs = { element: args.element, item: args.item, event: args.event };\n            event.call(this, eventArgs);\n            if (!args.element.classList.contains('e-menu-caret-icon')) {\n                this.fileMenuDDB.toggle();\n            }\n        }\n    };\n    /**\n     * setRtl\n     *\n     * @param {commonProperties} commonProp - Get the common property of ribbon.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonFileMenu.prototype.setCommonProperties = function (commonProp) {\n        if (this.fileMenuDDB) {\n            this.fileMenuDDB.setProperties(commonProp);\n            if (this.menuctrl) {\n                this.menuctrl.setProperties(commonProp);\n            }\n        }\n    };\n    /**\n     * Update FileMenu\n     *\n     * @param {FileMenuSettingsModel} fileMenuOptions - Gets the property of filemenu.\n     * @returns {void}\n     * @hidden\n     */\n    RibbonFileMenu.prototype.updateFileMenu = function (fileMenuOptions) {\n        if (fileMenuOptions.visible) {\n            if (this.fileMenuDDB) {\n                if (fileMenuOptions.text) {\n                    this.fileMenuDDB.setProperties({\n                        content: fileMenuOptions.text\n                    });\n                    this.parent.tabObj.element.style.setProperty(constants.RIBBON_FILE_MENU_WIDTH, this.ddbElement.offsetWidth + 'px');\n                }\n                if (fileMenuOptions.popupTemplate) {\n                    if (this.menuctrl) {\n                        this.destroyMenu();\n                    }\n                    this.fileMenuDDB.setProperties({ target: fileMenuOptions.popupTemplate });\n                }\n                else {\n                    if (this.menuctrl) {\n                        this.menuctrl.setProperties({\n                            animationSettings: fileMenuOptions.animationSettings,\n                            items: this.cloneMenuItem(fileMenuOptions.menuItems),\n                            showItemOnClick: fileMenuOptions.showItemOnClick,\n                            template: fileMenuOptions.itemTemplate\n                        });\n                    }\n                    else {\n                        this.createRibbonMenu(fileMenuOptions);\n                    }\n                }\n                this.removeFileMenuTooltip();\n                this.addFileMenuTooltip(fileMenuOptions);\n            }\n            else {\n                this.createFileMenu(fileMenuOptions);\n            }\n        }\n        else if (this.fileMenuDDB) {\n            this.destroyDDB();\n        }\n        this.parent.tabObj.refreshActiveTabBorder();\n    };\n    RibbonFileMenu.prototype.destroyMenu = function () {\n        if (this.menuctrl) {\n            this.menuctrl.destroy();\n            this.menuctrl = null;\n        }\n    };\n    RibbonFileMenu.prototype.destroyDDB = function () {\n        this.removeFileMenuTooltip();\n        var tabEle = this.parent.tabObj.element;\n        tabEle.style.removeProperty(constants.RIBBON_FILE_MENU_WIDTH);\n        this.destroyMenu();\n        this.fileMenuDDB.destroy();\n        this.fileMenuDDB = null;\n        remove(this.ddbElement);\n        this.ddbElement = null;\n    };\n    RibbonFileMenu.prototype.removeFileMenuTooltip = function () {\n        var _this = this;\n        var index = getIndex(this.parent.tooltipData, function (e) { return e.id === _this.ddbElement.id; });\n        if (index !== -1) {\n            this.ddbElement.classList.remove(constants.RIBBON_TOOLTIP_TARGET);\n            this.parent.tooltipData.splice(index, 1);\n        }\n    };\n    /**\n     * Add items to FileMenu.\n     *\n     * @param {MenuItemModel[]} items - Gets the items to be added.\n     * @param {string} target - Gets the target item to add the items.\n     * @param {boolean} isAfter - Gets the boolean value to add the items after or before the target item.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonFileMenu.prototype.addItems = function (items, target, isAfter, isUniqueId) {\n        if (isAfter) {\n            this.menuctrl.insertAfter(items, target, isUniqueId);\n        }\n        else {\n            this.menuctrl.insertBefore(items, target, isUniqueId);\n        }\n        this.parent.fileMenu.setProperties({ menuItems: this.menuctrl.items }, true);\n    };\n    /**\n     * Remove items from FileMenu.\n     *\n     * @param {string[]} items - Gets the items to be removed.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonFileMenu.prototype.removeItems = function (items, isUniqueId) {\n        this.menuctrl.removeItems(items, isUniqueId);\n        this.parent.fileMenu.setProperties({ menuItems: this.menuctrl.items }, true);\n    };\n    /**\n     * Enable items in FileMenu.\n     *\n     * @param {string[]} items - Gets the items to be enabled.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonFileMenu.prototype.enableItems = function (items, isUniqueId) {\n        this.menuctrl.enableItems(items, true, isUniqueId);\n        this.parent.fileMenu.setProperties({ menuItems: this.menuctrl.items }, true);\n    };\n    /**\n     * Disable items in FileMenu.\n     *\n     * @param {string[]} items - Gets the items to be disabled.\n     * @param {boolean} isUniqueId - Gets whether the target provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonFileMenu.prototype.disableItems = function (items, isUniqueId) {\n        this.menuctrl.enableItems(items, false, isUniqueId);\n        this.parent.fileMenu.setProperties({ menuItems: this.menuctrl.items }, true);\n    };\n    /**\n     * Update items in FileMenu.\n     *\n     * @param {MenuItem} item - Gets the item to be updated.\n     * @param {boolean} id - Gets the id of the item to be updated.\n     * @param {boolean} isUniqueId - Gets whether the id provided is uniqueId or not.\n     * @returns {void}\n     */\n    RibbonFileMenu.prototype.setItem = function (item, id, isUniqueId) {\n        this.menuctrl.setItem(item, id, isUniqueId);\n        this.menuctrl.refresh();\n        this.parent.fileMenu.setProperties({ menuItems: this.menuctrl.items }, true);\n    };\n    return RibbonFileMenu;\n}());\nexport { RibbonFileMenu };\n"],"names":["getIndex","arr","condition","i","length","parseInt","toString","getTemplateFunction","template","content","tempEle","select","tagName","innerHTML","outerHTML","e","compile","getItem","tabs","id","tab","j","groups","group","k","collections","collection","l","items","item","tabIndex","groupIndex","collectionIndex","itemIndex","getCollection","getGroup","destroyControl","element","moduleName","getComponent","destroy","updateCommonProperty","commonProp","setProperties","updateControlDisabled","disable","enabled","disabled","getItemElement","parent","itemProp","contentEle","tabObj","activeLayout","RibbonLayout","Classic","displayOptions","DisplayMode","ribbonDropDownModule","getOverflowDropDownPopup","querySelector","ele","Simplified","enableGroupOverflow","constants.GROUPOF_BUTTON_ID","DropDownButton","overflowDDB","target","isTooltipPresent","tooltip","iconCss","title","cssClass","setToolTipContent","args","tooltipData","targetId","getAttribute","data","filter","createElement","constants.RIBBON_TOOLTIP_CONTAINER","append","header","className","constants.RIBBON_TOOLTIP_TITLE","appendChild","textContainer","constants.RIBBON_TEXT_CONTAINER","customCss","constants.RIBBON_TOOLTIP_ICON","tooltipContent","constants.RIBBON_TOOLTIP_CONTENT","constants.RIBBON_TOOLTIP","createTooltip","ribbon","ribbonTooltip","Tooltip","constants.RIBBON_TOOLTIP_TARGET","beforeRender","bind","this","windowCollision","appendTo","destroyTooltip","updateTooltipProp","prop","ItemOrientation","RibbonItemSize","RibbonItemType","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","key","desc","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","RibbonButtonSettings","_super","apply","muteOnChange","call","Property","Event","ChildProperty","RibbonCheckBoxSettings","RibbonColorPickerSettings","RibbonComboBoxSettings","Complex","text","value","groupBy","FieldSettings","RibbonDropDownSettings","Collection","Item","RibbonSplitButtonSettings","RibbonTooltip","RibbonItem","Medium","Small","Large","Auto","RibbonCollection","RibbonGroup","RibbonTab","FileMenuSettings","MenuItem","MenuAnimationSettings","ITEM_VERTICAL_CENTER","EXPAND_COLLAPSE_ICON","OVERFLOW_ICON","VERTICAL_DDB","DISABLED_CSS","RTL_CSS","RIBBON_HOVER","RIBBON_CONTROL","RIBBON_POPUP_CONTROL","RIBBON_POPUP_OPEN","HORIZONTAL_SCROLLBAR","HIDE_CSS","RIBBON_TAB_ACTIVE","RIBBON_TAB_ITEM","RIBBON_COLLAPSE_BUTTON","RIBBON_EXPAND_BUTTON","RIBBON_COLLAPSIBLE","RIBBON_OVERALL_OF_BUTTON","RIBBON_GROUP_OF_BUTTON","RIBBON_OVERFLOW_TARGET","RIBBON_OVERFLOW","TAB_CONTENT","RIBBON_MINIMIZE","RIBBON_GROUP","RIBBON_GROUP_CONTAINER","RIBBON_OF_TAB_CONTAINER","RIBBON_OF_GROUP_CONTAINER","RIBBON_GROUP_CONTENT","RIBBON_GROUP_HEADER","RIBBON_OVERFLOW_HEADER","RIBBON_GROUP_OVERFLOW","RIBBON_GROUP_OVERFLOW_DDB","RIBBON_LAUNCHER","RIBBON_LAUNCHER_ICON_ELE","RIBBON_LAUNCHER_ICON","RIBBON_COLLECTION","RIBBON_ITEM","RIBBON_ROW","RIBBON_COLUMN","RIBBON_LARGE_ITEM","RIBBON_MEDIUM_ITEM","RIBBON_SMALL_ITEM","RIBBON_CONTENT_HEIGHT","RIBBON_TEMPLATE","RIBBON_HELP_TEMPLATE","RIBBON_TOOLTIP","RIBBON_TOOLTIP_TARGET","RIBBON_TOOLTIP_TITLE","RIBBON_TOOLTIP_CONTENT","RIBBON_TOOLTIP_ICON","RIBBON_TOOLTIP_CONTAINER","RIBBON_TEXT_CONTAINER","RIBBON_SIMPLIFIED_MODE","COLLAPSE_BUTTON_ID","OVRLOF_BUTTON_ID","GROUPOF_BUTTON_ID","HEADER_ID","LAUNCHER_ID","CONTENT_ID","CONTAINER_ID","OVERFLOW_ID","DROPDOWN_ID","RIBBON_FILE_MENU_LIST","RIBBON_HELP_PANE_TEMPLATE_ID","RIBBON_FILE_MENU_WIDTH","RIBBON_HELP_PANE_TEMPLATE_WIDTH","RibbonButton","getModuleName","createButton","itemEle","_this","buttonEle","btnSettings","buttonSettings","Button","locale","enableRtl","enablePersistence","iconPosition","activeSize","trim","isPrimary","isToggle","created","onclick","clicked","setAttribute","addOverFlowEvents","overflowButton","type","buttonObj","toggle","removeOverFlowEvents","split","join","click","controlId","updateButton","merge","updateButtonSize","RibbonCheckBox","createCheckBox","inputEle","checkBoxSettings","CheckBox","checked","label","labelPosition","change","checkBoxObj","dataBind","updateCheckBox","RibbonColorPicker","createColorPicker","colorPickerSettings","colorPicker","ColorPicker","columns","enableOpacity","mode","modeSwitcher","noColor","presetColors","showButtons","beforeClose","parentElement","classList","remove","beforeOpen","beforeTileRender","open","add","wrapper","EventHandler","toggleWrapperHover","isAdd","colorPickerEle","colorPickerObj","splitBtn","event","close","closest","getColorPickerObj","getValue","updateColorPicker","unwireColorPickerEvents","RibbonComboBox","createComboBox","comboBoxSettings","ComboBox","allowCustom","floatLabelType","ignoreAccent","ignoreCase","allowFiltering","autofill","dataSource","fields","filterType","footerTemplate","groupTemplate","headerTemplate","index","itemTemplate","noRecordsTemplate","placeholder","popupHeight","popupWidth","showClearButton","sortOrder","width","filtering","comboBoxObj","getComboBoxObj","query","hidePopup","showPopup","updateComboBox","RibbonDropDown","createDropDown","dropDownSettings","closeActionEvents","beforeItemRender","dropdownElement","dropdown","createOverFlowDropDown","name","groupEle","overflowEle","cancel","isNullOrUndefined","onkeydown","keyActionHandler","comboBoxEle","querySelectorAll","comboBoxElements","contains","shiftKey","handleNavigation","updateItemIndex","focusLauncherIcon","launcherIconEle","groupContainer","preventDefault","focus","ribbonItem","removeOverFlowDropDown","insertBefore","getDDBItemElement","dropDown","getDropDownObj","dropDownEle","addItems","Items","removeItems","isUniqueId","updateDropDown","btnEle","control","updateDropDownSize","push","RibbonSplitButton","createSplitButton","splitButtonSettings","splitbutton","SplitButton","dropdownEle","stopImmediatePropagation","setContent","splitButtonEle","ddbId","popupEle","document","getSplitButtonObj","updateSplitButton","updateSplitButtonSize","Ribbon","options","Ribbon_1","Inject","render","initialize","preRender","idIndex","isAddRemove","keyConfigs","leftarrow","rightarrow","shiftTab","getPersistData","addOnPersist","requiredModules","modules","member","getUniqueID","addClass","concat","constants.RTL_CSS","style","formatUnit","renderTabs","ribbonFileMenuModule","createFileMenu","fileMenu","createHelpPaneTemplate","refreshOverflow","wireEvents","wireKeyboardEvent","currentControlIndex","window","resizeHandler","keyboardModuleRibbon","KeyboardEvents","keyAction","eventName","activeContent","selectedTab","constants.CONTENT_ID","ribbonControls","action","prevGroupId","prevGroupContainer","constants.RIBBON_GROUP_CONTAINER","checkOverflow","scrollModule","scrollEle","constants.HORIZONTAL_SCROLLBAR","scrollStep","offsetWidth","tabsInternal","slice","checkID","tabEle","validateItemSize","tabItems","createTabItems","Tab","selectedItem","overflowMode","tabCreated","selected","ribbonTabSelected","selecting","ribbonTabSelecting","setProperty","constants.RIBBON_FILE_MENU_WIDTH","constants.RIBBON_HELP_PANE_TEMPLATE_WIDTH","toolbarEle","Toolbar","isMinimized","constants.RIBBON_MINIMIZE","minimize","val","trigger","display","refreshLayout","toggleLayout","switchLayout","addExpandCollapse","renderInitialTab","selectedTabId","selectedIndex","eventArgs","previousIndex","selectedContent","firstChild","overflowTarget","ofTabContainer","constants.RIBBON_TAB_ACTIVE","activeTab","constants.OVERFLOW_ID","constants.HIDE_CSS","tabContent","constants.TAB_CONTENT","isOverFlow","isBreak","checkGroupShrinking","createOverflowDropdown","checkSimplifiedItemShrinking","createSimplfiedOverflow","HScroll","destroyScroll","removeOverflowDropdown","checkGroupExpanding","removeSimplfiedOverflow","checkSimplifiedItemExpanding","constants.CONTAINER_ID","allowedSizes","itemContainer","setItemSize","valString","removeAttribute","orderedGroups","getGroupResizeOrder","collectionEle","Overflow","createOverflowPopup","DropDown","updatePopupItems","constants.RIBBON_ITEM","isGroupOF","isMenu","dropDownPopup","isLeft","position","X","Y","offsetX","removeProperty","isClear","flag","overflowtarget","overflowDDBEle","getInstance","groupEle_1","removeOverflowEvent","childElementCount","removeOverflowButton","ofGroupContainer","groupId","groupHeader","addOverflowButton","constants.RIBBON_GROUP_OF_BUTTON","createGroupContainer","createOfTabContainer","constants.OVRLOF_BUTTON_ID","collapseButton","constants.RIBBON_OVERALL_OF_BUTTON","addOverflowEvents","ribbonButtonModule","ribbonSplitButtonModule","ribbonCheckBoxModule","ribbonColorPickerModule","ribbonComboBoxModule","constants.RIBBON_OF_TAB_CONTAINER","isLarge","checkLargeToMedium","checkMediumToSmall","checkValidCollectionLength","count","ind","checkClassicCollection","n","isIncrement","checkClassicItem","shouldSkip","isCollapsed","canReduceCollection","canReduceItem","createShrinkEle","firstItem","start","end","shrinkEle","constants.RIBBON_ROW","attrs","data-start","data-end","moveItemToColumn","moveCollectionToColumn","orientation","Column","m","shrinkColumns","reduceItemsToSmall","middle","reduce","ele_1","reduceCollectionsToSmall","ele_2","setWidth","classicItems","shrinkColumn","isSmall","checkSmallToMedium","checkMediumToLarge","shouldClear","canExpandItem","expandItemToMedium","parentEle","ele_4","expandCollectionsToMedium","ele_5","Row","expandItemsToLarge","container","ele_6","insertAdjacentElement","expandCollectionsToLarge","ele_7","Template","createTemplateContent","constants.RIBBON_CONTENT_HEIGHT","constants.RIBBON_LARGE_ITEM","constants.RIBBON_MEDIUM_ITEM","constants.RIBBON_SMALL_ITEM","collapseOrder","_loop_1","this_1","groupOverFlow","constants.RIBBON_GROUP_OVERFLOW","groupIconCss","expandOrder","_loop_2","this_2","removeDropdown","state_1","constants.DROPDOWN_ID","isCollapse","isUndefined","isCollapsible","sort","a","priority","reverse","clearOverflowDropDown","nextTabId","selectingItem","previousTabId","previousItem","nextIndex","isInteracted","selectedTabContent","constants.RIBBON_GROUP","elements","createGroups","ribbonTab","constants.HEADER_ID","ondblclick","constants.RIBBON_TAB_ITEM","constants.RIBBON_SIMPLIFIED_MODE","btnId","constants.RIBBON_OVERFLOW_TARGET","tabindex","constants.OVERFLOW_ICON","constants.DROPDOWNBUTTON_HIDE","constants.RIBBON_GROUP_OVERFLOW_DDB","constants.RIBBON_POPUP_CONTROL","constants.RIBBON_OVERFLOW","isGroupOf","upDownKeyHandler","getElementsByClassName","findDisabledItem","currentItemIndex","itemType","checkBoxEle","checkBox","isIncrease","constants.RIBBON_OF_GROUP_CONTAINER","ofGroupHeader","constants.RIBBON_OVERFLOW_HEADER","constants.RIBBON_COLLAPSE_BUTTON","constants.EXPAND_COLLAPSE_ICON","constants.COLLAPSE_BUTTON_ID","aria-label","role","constants.RIBBON_COLLAPSIBLE","constants.RIBBON_EXPAND_BUTTON","removeExpandCollapse","splice","reRenderTabs","destroyTabItems","groupList","i_1","alignType","i_2","groupContent","replace","constants.RIBBON_COLUMN","groupCollection","itemList","itemEle_1","destroyFunction","size","createItems","i_3","constants.RIBBON_GROUP_HEADER","ele_8","itemsize","createLauncherIcon","launcherIcon","constants.RIBBON_LAUNCHER_ICON_ELE","launcherIconCss","constants.RIBBON_LAUNCHER_ICON","constants.LAUNCHER_ID","constants.RIBBON_LAUNCHER","launcherIconClicked","groupElements","constants.RIBBON_GROUP_CONTENT","showLauncherIcon","createCollection","collectionList","ribbonitem","sizeVal","collectionElements","constants.RIBBON_COLLECTION","createRibbonItem","_a","itemElements","constants.DISABLED_CSS","ribbonTooltipSettings","helpPaneTemplate","templateName","clearTemplate","ribbonTempEle","constants.RIBBON_HELP_TEMPLATE","constants.RIBBON_HELP_PANE_TEMPLATE_ID","templateFunction","isStringTemplate","after","renderReactTemplates","itemElement","constants.RIBBON_TEMPLATE","renderItemTemplate","list","initId","listitem","setCommonProperties","_i","_b","_c","_d","_e","getItemModuleName","removeLauncherIcon","containerId","containerEle","clearOverflowResize","selectTab","tabId","addTab","isAfter","tabItem","removeTab","groups_1","addGroup","ribbonGroups","targetEle","removeGroup","removeItemElement","addCollection","ribbonCollections","collection_1","removeCollection","collectionId","ribbonGroup","addItem","ribbonItems","item_1","removeItem","itemId","ribbonCollection","updateTab","groups_2","forEach","innerText","updateGroup","removeCss","match","removeClass","ribbongroup","overflowHeader","updateCollection","ribboncollection","updateItem","enableDisableItem","enableItem","disableItem","isDisabled","toggleAttribute","unwireEvents","undefined","onPropertyChanged","newProp","oldProp","keys","animation","tabAnimation","updateFileMenu","TabAnimationSettings","NotifyPropertyChanges","Component","RibbonFileMenu","fileMenuDDB","destroyDDB","fileMenuOptions","visible","ddbElement","ddbBeforeEvent","ddbAfterEvent","popupTemplate","createRibbonMenu","refreshActiveTabBorder","addFileMenuTooltip","isOpen","cloneMenuItem","itemsList","separator","url","menuOptions","ulElem","constants.RIBBON_FILE_MENU_LIST","menuctrl","Menu","animationSettings","menuItems","showItemOnClick","menuBeforeEvent","onClose","menuAfterEvent","onOpen","menuSelect","parentItem","destroyMenu","removeFileMenuTooltip","insertAfter","enableItems","disableItems","setItem","refresh"],"mappings":"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"}